/*! For license information please see main.6707c246.js.LICENSE.txt */
(()=>{var e={780:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(488),n(523),n(199),n(211),n(238),function(){var e=o,t=e.lib.BlockCipher,n=e.algo,r=[],i=[],a=[],s=[],l=[],c=[],u=[],d=[],h=[],p=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,o=0;for(t=0;t<256;t++){var f=o^o<<1^o<<2^o<<3^o<<4;f=f>>>8^255&f^99,r[n]=f,i[f]=n;var g=e[n],m=e[g],y=e[m],b=257*e[f]^16843008*f;a[n]=b<<24|b>>>8,s[n]=b<<16|b>>>16,l[n]=b<<8|b>>>24,c[n]=b,b=16843009*y^65537*m^257*g^16843008*n,u[f]=b<<24|b>>>8,d[f]=b<<16|b>>>16,h[f]=b<<8|b>>>24,p[f]=b,n?(n=g^e[e[e[y^g]]],o^=e[e[o]]):n=o=1}}();var f=[0,1,2,4,8,16,32,64,128,27,54],g=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,i=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],a=0;a<i;a++)a<n?o[a]=t[a]:(c=o[a-1],a%n?n>6&&a%n==4&&(c=r[c>>>24]<<24|r[c>>>16&255]<<16|r[c>>>8&255]<<8|r[255&c]):(c=r[(c=c<<8|c>>>24)>>>24]<<24|r[c>>>16&255]<<16|r[c>>>8&255]<<8|r[255&c],c^=f[a/n|0]<<24),o[a]=o[a-n]^c);for(var s=this._invKeySchedule=[],l=0;l<i;l++){if(a=i-l,l%4)var c=o[a];else c=o[a-4];s[l]=l<4||a<=4?c:u[r[c>>>24]]^d[r[c>>>16&255]]^h[r[c>>>8&255]]^p[r[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,l,c,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,d,h,p,i),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,o,a,s){for(var l=this._nRounds,c=e[t]^n[0],u=e[t+1]^n[1],d=e[t+2]^n[2],h=e[t+3]^n[3],p=4,f=1;f<l;f++){var g=r[c>>>24]^i[u>>>16&255]^o[d>>>8&255]^a[255&h]^n[p++],m=r[u>>>24]^i[d>>>16&255]^o[h>>>8&255]^a[255&c]^n[p++],y=r[d>>>24]^i[h>>>16&255]^o[c>>>8&255]^a[255&u]^n[p++],b=r[h>>>24]^i[c>>>16&255]^o[u>>>8&255]^a[255&d]^n[p++];c=g,u=m,d=y,h=b}g=(s[c>>>24]<<24|s[u>>>16&255]<<16|s[d>>>8&255]<<8|s[255&h])^n[p++],m=(s[u>>>24]<<24|s[d>>>16&255]<<16|s[h>>>8&255]<<8|s[255&c])^n[p++],y=(s[d>>>24]<<24|s[h>>>16&255]<<16|s[c>>>8&255]<<8|s[255&u])^n[p++],b=(s[h>>>24]<<24|s[c>>>16&255]<<16|s[u>>>8&255]<<8|s[255&d])^n[p++],e[t]=g,e[t+1]=m,e[t+2]=y,e[t+3]=b},keySize:8});e.AES=t._createHelper(g)}(),o.AES)}()},501:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(488),n(523),n(199),n(211),n(238),function(){var e=o,t=e.lib.BlockCipher,n=e.algo;const r=16,i=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],a=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var s={pbox:[],sbox:[]};function l(e,t){let n=t>>24&255,r=t>>16&255,i=t>>8&255,o=255&t,a=e.sbox[0][n]+e.sbox[1][r];return a^=e.sbox[2][i],a+=e.sbox[3][o],a}function c(e,t,n){let i,o=t,a=n;for(let s=0;s<r;++s)o^=e.pbox[s],a=l(e,o)^a,i=o,o=a,a=i;return i=o,o=a,a=i,a^=e.pbox[r],o^=e.pbox[r+1],{left:o,right:a}}function u(e,t,n){let i,o=t,a=n;for(let s=r+1;s>1;--s)o^=e.pbox[s],a=l(e,o)^a,i=o,o=a,a=i;return i=o,o=a,a=i,a^=e.pbox[1],o^=e.pbox[0],{left:o,right:a}}function d(e,t,n){for(let r=0;r<4;r++){e.sbox[r]=[];for(let t=0;t<256;t++)e.sbox[r][t]=a[r][t]}let o=0;for(let a=0;a<r+2;a++)e.pbox[a]=i[a]^t[o],o++,o>=n&&(o=0);let s=0,l=0,u=0;for(let i=0;i<r+2;i+=2)u=c(e,s,l),s=u.left,l=u.right,e.pbox[i]=s,e.pbox[i+1]=l;for(let r=0;r<4;r++)for(let t=0;t<256;t+=2)u=c(e,s,l),s=u.left,l=u.right,e.sbox[r][t]=s,e.sbox[r][t+1]=l;return!0}var h=n.Blowfish=t.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4;d(s,t,n)}},encryptBlock:function(e,t){var n=c(s,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},decryptBlock:function(e,t){var n=u(s,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},blockSize:2,keySize:4,ivSize:2});e.Blowfish=t._createHelper(h)}(),o.Blowfish)}()},238:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(488),n(211),void(o.lib.Cipher||function(e){var t=o,n=t.lib,r=n.Base,i=n.WordArray,a=n.BufferedBlockAlgorithm,s=t.enc,l=(s.Utf8,s.Base64),c=t.algo.EvpKDF,u=n.Cipher=a.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?v:y}return function(t){return{encrypt:function(n,r,i){return e(r).encrypt(t,n,r,i)},decrypt:function(n,r,i){return e(r).decrypt(t,n,r,i)}}}}()}),d=(n.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),t.mode={}),h=n.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),p=d.CBC=function(){var t=h.extend();function n(t,n,r){var i,o=this._iv;o?(i=o,this._iv=e):i=this._prevBlock;for(var a=0;a<r;a++)t[n+a]^=i[a]}return t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize;n.call(this,e,t,i),r.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),t.Decryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,o=e.slice(t,t+i);r.decryptBlock(e,t),n.call(this,e,t,i),this._prevBlock=o}}),t}(),f=(t.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,o=r<<24|r<<16|r<<8|r,a=[],s=0;s<r;s+=4)a.push(o);var l=i.create(a,r);e.concat(l)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},g=(n.BlockCipher=u.extend({cfg:u.cfg.extend({mode:p,padding:f}),reset:function(){var e;u.reset.call(this);var t=this.cfg,n=t.iv,r=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=r.createEncryptor:(e=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(r,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),n.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),m=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?i.create([1398893684,1701076831]).concat(n).concat(t):t).toString(l)},parse:function(e){var t,n=l.parse(e),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(t=i.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),g.create({ciphertext:n,salt:t})}},y=n.SerializableCipher=r.extend({cfg:r.extend({format:m}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r),o=i.finalize(t),a=i.cfg;return g.create({ciphertext:o,key:n,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),b=(t.kdf={}).OpenSSL={execute:function(e,t,n,r,o){if(r||(r=i.random(8)),o)a=c.create({keySize:t+n,hasher:o}).compute(e,r);else var a=c.create({keySize:t+n}).compute(e,r);var s=i.create(a.words.slice(t),4*n);return a.sigBytes=4*t,g.create({key:a,iv:s,salt:r})}},v=n.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:b}),encrypt:function(e,t,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize,r.salt,r.hasher);r.iv=i.iv;var o=y.encrypt.call(this,e,t,i.key,r);return o.mixIn(i),o},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=r.kdf.execute(n,e.keySize,e.ivSize,t.salt,r.hasher);return r.iv=i.iv,y.decrypt.call(this,e,t,i.key,r)}})}()))}()},488:function(e,t,n){e.exports=function(){var e=e||function(e,t){var r;if("undefined"!==typeof window&&window.crypto&&(r=window.crypto),"undefined"!==typeof self&&self.crypto&&(r=self.crypto),"undefined"!==typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!==typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&"undefined"!==typeof n.g&&n.g.crypto&&(r=n.g.crypto),!r)try{r=n(477)}catch(m){}var i=function(){if(r){if("function"===typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(m){}if("function"===typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(m){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),a={},s=a.lib={},l=s.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=s.WordArray=l.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=a<<24-(r+o)%4*8}else for(var s=0;s<i;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=l.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new c.init(t,e)}}),u=a.enc={},d=u.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new c.init(n,t/2)}},h=u.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new c.init(n,t)}},p=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},f=s.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,o=r.sigBytes,a=this.blockSize,s=o/(4*a),l=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,u=e.min(4*l,o);if(l){for(var d=0;d<l;d+=a)this._doProcessBlock(i,d);n=i.splice(0,l),r.sigBytes-=u}return new c.init(n,u)},clone:function(){var e=l.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),g=(s.Hasher=f.extend({cfg:l.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new g.HMAC.init(e,n).finalize(t)}}}),a.algo={});return a}(Math);return e}()},523:function(e,t,n){!function(t,r){var i;e.exports=(i=n(488),function(){var e=i,t=e.lib.WordArray;function n(e,n,r){for(var i=[],o=0,a=0;a<n;a++)if(a%4){var s=r[e.charCodeAt(a-1)]<<a%4*2|r[e.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=s<<24-o%4*8,o++}return t.create(i,o)}e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<n;s++)i.push(r.charAt(a>>>6*(3-s)&63));var l=r.charAt(64);if(l)for(;i.length%4;)i.push(l);return i.join("")},parse:function(e){var t=e.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<r.length;o++)i[r.charCodeAt(o)]=o}var a=r.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return n(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),i.enc.Base64)}()},646:function(e,t,n){!function(t,r){var i;e.exports=(i=n(488),function(){var e=i,t=e.lib.WordArray;function n(e,n,r){for(var i=[],o=0,a=0;a<n;a++)if(a%4){var s=r[e.charCodeAt(a-1)]<<a%4*2|r[e.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=s<<24-o%4*8,o++}return t.create(i,o)}e.enc.Base64url={stringify:function(e,t){void 0===t&&(t=!0);var n=e.words,r=e.sigBytes,i=t?this._safe_map:this._map;e.clamp();for(var o=[],a=0;a<r;a+=3)for(var s=(n[a>>>2]>>>24-a%4*8&255)<<16|(n[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|n[a+2>>>2]>>>24-(a+2)%4*8&255,l=0;l<4&&a+.75*l<r;l++)o.push(i.charAt(s>>>6*(3-l)&63));var c=i.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(e,t){void 0===t&&(t=!0);var r=e.length,i=t?this._safe_map:this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var a=0;a<i.length;a++)o[i.charCodeAt(a)]=a}var s=i.charAt(64);if(s){var l=e.indexOf(s);-1!==l&&(r=l)}return n(e,r,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),i.enc.Base64url)}()},168:function(e,t,n){!function(t,r){var i;e.exports=(i=n(488),function(){var e=i,t=e.lib.WordArray,n=e.enc;function r(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i+=2){var o=t[i>>>2]>>>16-i%4*8&65535;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var n=e.length,r=[],i=0;i<n;i++)r[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return t.create(r,2*n)}},n.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],o=0;o<n;o+=2){var a=r(t[o>>>2]>>>16-o%4*8&65535);i.push(String.fromCharCode(a))}return i.join("")},parse:function(e){for(var n=e.length,i=[],o=0;o<n;o++)i[o>>>1]|=r(e.charCodeAt(o)<<16-o%2*16);return t.create(i,2*n)}}}(),i.enc.Utf16)}()},211:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(488),n(2),n(220),function(){var e=o,t=e.lib,n=t.Base,r=t.WordArray,i=e.algo,a=i.MD5,s=i.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,i=this.cfg,o=i.hasher.create(),a=r.create(),s=a.words,l=i.keySize,c=i.iterations;s.length<l;){n&&o.update(n),n=o.update(e).finalize(t),o.reset();for(var u=1;u<c;u++)n=o.finalize(n),o.reset();a.concat(n)}return a.sigBytes=4*l,a}});e.EvpKDF=function(e,t,n){return s.create(n).compute(e,t)}}(),o.EvpKDF)}()},708:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(488),n(238),function(e){var t=o,n=t.lib.CipherParams,r=t.enc.Hex;t.format.Hex={stringify:function(e){return e.ciphertext.toString(r)},parse:function(e){var t=r.parse(e);return n.create({ciphertext:t})}}}(),o.format.Hex)}()},220:function(e,t,n){!function(t,r){var i;e.exports=(i=n(488),void function(){var e=i,t=e.lib.Base,n=e.enc.Utf8;e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var r=e.blockSize,i=4*r;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),a=this._iKey=t.clone(),s=o.words,l=a.words,c=0;c<r;c++)s[c]^=1549556828,l[c]^=909522486;o.sigBytes=a.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})}())}()},111:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(488),n(749),n(503),n(168),n(523),n(646),n(199),n(2),n(368),n(641),n(61),n(92),n(600),n(423),n(220),n(930),n(211),n(238),n(112),n(962),n(49),n(380),n(99),n(884),n(132),n(804),n(548),n(87),n(708),n(780),n(475),n(638),n(875),n(659),n(501),o)}()},503:function(e,t,n){!function(t,r){var i;e.exports=(i=n(488),function(){if("function"==typeof ArrayBuffer){var e=i.lib.WordArray,t=e.init,n=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!==typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,r=[],i=0;i<n;i++)r[i>>>2]|=e[i]<<24-i%4*8;t.call(this,r,n)}else t.apply(this,arguments)};n.prototype=e}}(),i.lib.WordArray)}()},199:function(e,t,n){!function(t,r){var i;e.exports=(i=n(488),function(e){var t=i,n=t.lib,r=n.WordArray,o=n.Hasher,a=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var l=a.MD5=o.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=e[t+0],l=e[t+1],p=e[t+2],f=e[t+3],g=e[t+4],m=e[t+5],y=e[t+6],b=e[t+7],v=e[t+8],w=e[t+9],x=e[t+10],$=e[t+11],S=e[t+12],k=e[t+13],A=e[t+14],C=e[t+15],E=o[0],T=o[1],P=o[2],R=o[3];E=c(E,T,P,R,a,7,s[0]),R=c(R,E,T,P,l,12,s[1]),P=c(P,R,E,T,p,17,s[2]),T=c(T,P,R,E,f,22,s[3]),E=c(E,T,P,R,g,7,s[4]),R=c(R,E,T,P,m,12,s[5]),P=c(P,R,E,T,y,17,s[6]),T=c(T,P,R,E,b,22,s[7]),E=c(E,T,P,R,v,7,s[8]),R=c(R,E,T,P,w,12,s[9]),P=c(P,R,E,T,x,17,s[10]),T=c(T,P,R,E,$,22,s[11]),E=c(E,T,P,R,S,7,s[12]),R=c(R,E,T,P,k,12,s[13]),P=c(P,R,E,T,A,17,s[14]),E=u(E,T=c(T,P,R,E,C,22,s[15]),P,R,l,5,s[16]),R=u(R,E,T,P,y,9,s[17]),P=u(P,R,E,T,$,14,s[18]),T=u(T,P,R,E,a,20,s[19]),E=u(E,T,P,R,m,5,s[20]),R=u(R,E,T,P,x,9,s[21]),P=u(P,R,E,T,C,14,s[22]),T=u(T,P,R,E,g,20,s[23]),E=u(E,T,P,R,w,5,s[24]),R=u(R,E,T,P,A,9,s[25]),P=u(P,R,E,T,f,14,s[26]),T=u(T,P,R,E,v,20,s[27]),E=u(E,T,P,R,k,5,s[28]),R=u(R,E,T,P,p,9,s[29]),P=u(P,R,E,T,b,14,s[30]),E=d(E,T=u(T,P,R,E,S,20,s[31]),P,R,m,4,s[32]),R=d(R,E,T,P,v,11,s[33]),P=d(P,R,E,T,$,16,s[34]),T=d(T,P,R,E,A,23,s[35]),E=d(E,T,P,R,l,4,s[36]),R=d(R,E,T,P,g,11,s[37]),P=d(P,R,E,T,b,16,s[38]),T=d(T,P,R,E,x,23,s[39]),E=d(E,T,P,R,k,4,s[40]),R=d(R,E,T,P,a,11,s[41]),P=d(P,R,E,T,f,16,s[42]),T=d(T,P,R,E,y,23,s[43]),E=d(E,T,P,R,w,4,s[44]),R=d(R,E,T,P,S,11,s[45]),P=d(P,R,E,T,C,16,s[46]),E=h(E,T=d(T,P,R,E,p,23,s[47]),P,R,a,6,s[48]),R=h(R,E,T,P,b,10,s[49]),P=h(P,R,E,T,A,15,s[50]),T=h(T,P,R,E,m,21,s[51]),E=h(E,T,P,R,S,6,s[52]),R=h(R,E,T,P,f,10,s[53]),P=h(P,R,E,T,x,15,s[54]),T=h(T,P,R,E,l,21,s[55]),E=h(E,T,P,R,v,6,s[56]),R=h(R,E,T,P,C,10,s[57]),P=h(P,R,E,T,y,15,s[58]),T=h(T,P,R,E,k,21,s[59]),E=h(E,T,P,R,g,6,s[60]),R=h(R,E,T,P,$,10,s[61]),P=h(P,R,E,T,p,15,s[62]),T=h(T,P,R,E,w,21,s[63]),o[0]=o[0]+E|0,o[1]=o[1]+T|0,o[2]=o[2]+P|0,o[3]=o[3]+R|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var o=e.floor(r/4294967296),a=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,l=s.words,c=0;c<4;c++){var u=l[c];l[c]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,n,r,i,o,a){var s=e+(t&n|~t&r)+i+a;return(s<<o|s>>>32-o)+t}function u(e,t,n,r,i,o,a){var s=e+(t&r|n&~r)+i+a;return(s<<o|s>>>32-o)+t}function d(e,t,n,r,i,o,a){var s=e+(t^n^r)+i+a;return(s<<o|s>>>32-o)+t}function h(e,t,n,r,i,o,a){var s=e+(n^(t|~r))+i+a;return(s<<o|s>>>32-o)+t}t.MD5=o._createHelper(l),t.HmacMD5=o._createHmacHelper(l)}(Math),i.MD5)}()},112:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(488),n(238),o.mode.CFB=function(){var e=o.lib.BlockCipherMode.extend();function t(e,t,n,r){var i,o=this._iv;o?(i=o.slice(0),this._iv=void 0):i=this._prevBlock,r.encryptBlock(i,0);for(var a=0;a<n;a++)e[t+a]^=i[a]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize;t.call(this,e,n,i,r),this._prevBlock=e.slice(n,n+i)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,o=e.slice(n,n+i);t.call(this,e,n,i,r),this._prevBlock=o}}),e}(),o.mode.CFB)}()},49:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(488),n(238),o.mode.CTRGladman=function(){var e=o.lib.BlockCipherMode.extend();function t(e){if(255===(e>>24&255)){var t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}function n(e){return 0===(e[0]=t(e[0]))&&(e[1]=t(e[1])),e}var r=e.Encryptor=e.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,o=this._iv,a=this._counter;o&&(a=this._counter=o.slice(0),this._iv=void 0),n(a);var s=a.slice(0);r.encryptBlock(s,0);for(var l=0;l<i;l++)e[t+l]^=s[l]}});return e.Decryptor=r,e}(),o.mode.CTRGladman)}()},962:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(488),n(238),o.mode.CTR=function(){var e=o.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var a=o.slice(0);n.encryptBlock(a,0),o[r-1]=o[r-1]+1|0;for(var s=0;s<r;s++)e[t+s]^=a[s]}});return e.Decryptor=t,e}(),o.mode.CTR)}()},99:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(488),n(238),o.mode.ECB=function(){var e=o.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),e.Decryptor=e.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),e}(),o.mode.ECB)}()},380:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(488),n(238),o.mode.OFB=function(){var e=o.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),n.encryptBlock(o,0);for(var a=0;a<r;a++)e[t+a]^=o[a]}});return e.Decryptor=t,e}(),o.mode.OFB)}()},884:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(488),n(238),o.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,r=4*t,i=r-n%r,o=n+i-1;e.clamp(),e.words[o>>>2]|=i<<24-o%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},o.pad.Ansix923)}()},132:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(488),n(238),o.pad.Iso10126={pad:function(e,t){var n=4*t,r=n-e.sigBytes%n;e.concat(o.lib.WordArray.random(r-1)).concat(o.lib.WordArray.create([r<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},o.pad.Iso10126)}()},804:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(488),n(238),o.pad.Iso97971={pad:function(e,t){e.concat(o.lib.WordArray.create([2147483648],1)),o.pad.ZeroPadding.pad(e,t)},unpad:function(e){o.pad.ZeroPadding.unpad(e),e.sigBytes--}},o.pad.Iso97971)}()},87:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(488),n(238),o.pad.NoPadding={pad:function(){},unpad:function(){}},o.pad.NoPadding)}()},548:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(488),n(238),o.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;for(n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},o.pad.ZeroPadding)}()},930:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(488),n(368),n(220),function(){var e=o,t=e.lib,n=t.Base,r=t.WordArray,i=e.algo,a=i.SHA256,s=i.HMAC,l=i.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:a,iterations:25e4}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,i=s.create(n.hasher,e),o=r.create(),a=r.create([1]),l=o.words,c=a.words,u=n.keySize,d=n.iterations;l.length<u;){var h=i.update(t).finalize(a);i.reset();for(var p=h.words,f=p.length,g=h,m=1;m<d;m++){g=i.finalize(g),i.reset();for(var y=g.words,b=0;b<f;b++)p[b]^=y[b]}o.concat(h),c[0]++}return o.sigBytes=4*u,o}});e.PBKDF2=function(e,t,n){return l.create(n).compute(e,t)}}(),o.PBKDF2)}()},659:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(488),n(523),n(199),n(211),n(238),function(){var e=o,t=e.lib.StreamCipher,n=e.algo,r=[],i=[],a=[],s=n.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)l.call(this);for(i=0;i<8;i++)r[i]^=n[i+4&7];if(t){var o=t.words,a=o[0],s=o[1],c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),d=c>>>16|4294901760&u,h=u<<16|65535&c;for(r[0]^=c,r[1]^=d,r[2]^=u,r[3]^=h,r[4]^=c,r[5]^=d,r[6]^=u,r[7]^=h,i=0;i<4;i++)l.call(this)}},_doProcessBlock:function(e,t){var n=this._X;l.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)r[i]=16711935&(r[i]<<8|r[i]>>>24)|4278255360&(r[i]<<24|r[i]>>>8),e[t+i]^=r[i]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,n=0;n<8;n++)i[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],o=65535&r,s=r>>>16,l=((o*o>>>17)+o*s>>>15)+s*s,c=((4294901760&r)*r|0)+((65535&r)*r|0);a[n]=l^c}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.RabbitLegacy=t._createHelper(s)}(),o.RabbitLegacy)}()},875:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(488),n(523),n(199),n(211),n(238),function(){var e=o,t=e.lib.StreamCipher,n=e.algo,r=[],i=[],a=[],s=n.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)l.call(this);for(n=0;n<8;n++)i[n]^=r[n+4&7];if(t){var o=t.words,a=o[0],s=o[1],c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),d=c>>>16|4294901760&u,h=u<<16|65535&c;for(i[0]^=c,i[1]^=d,i[2]^=u,i[3]^=h,i[4]^=c,i[5]^=d,i[6]^=u,i[7]^=h,n=0;n<4;n++)l.call(this)}},_doProcessBlock:function(e,t){var n=this._X;l.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)r[i]=16711935&(r[i]<<8|r[i]>>>24)|4278255360&(r[i]<<24|r[i]>>>8),e[t+i]^=r[i]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,n=0;n<8;n++)i[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],o=65535&r,s=r>>>16,l=((o*o>>>17)+o*s>>>15)+s*s,c=((4294901760&r)*r|0)+((65535&r)*r|0);a[n]=l^c}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.Rabbit=t._createHelper(s)}(),o.Rabbit)}()},638:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(488),n(523),n(199),n(211),n(238),function(){var e=o,t=e.lib.StreamCipher,n=e.algo,r=n.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,r=this._S=[],i=0;i<256;i++)r[i]=i;i=0;for(var o=0;i<256;i++){var a=i%n,s=t[a>>>2]>>>24-a%4*8&255;o=(o+r[i]+s)%256;var l=r[i];r[i]=r[o],r[o]=l}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=i.call(this)},keySize:8,ivSize:0});function i(){for(var e=this._S,t=this._i,n=this._j,r=0,i=0;i<4;i++){n=(n+e[t=(t+1)%256])%256;var o=e[t];e[t]=e[n],e[n]=o,r|=e[(e[t]+e[n])%256]<<24-8*i}return this._i=t,this._j=n,r}e.RC4=t._createHelper(r);var a=n.RC4Drop=r.extend({cfg:r.cfg.extend({drop:192}),_doReset:function(){r._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)i.call(this)}});e.RC4Drop=t._createHelper(a)}(),o.RC4)}()},423:function(e,t,n){!function(t,r){var i;e.exports=(i=n(488),function(e){var t=i,n=t.lib,r=n.WordArray,o=n.Hasher,a=t.algo,s=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=r.create([0,1518500249,1859775393,2400959708,2840853838]),h=r.create([1352829926,1548603684,1836072691,2053994217,0]),p=a.RIPEMD160=o.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,a,p,w,x,$,S,k,A,C,E,T=this._hash.words,P=d.words,R=h.words,M=s.words,I=l.words,L=c.words,B=u.words;for($=o=T[0],S=a=T[1],k=p=T[2],A=w=T[3],C=x=T[4],n=0;n<80;n+=1)E=o+e[t+M[n]]|0,E+=n<16?f(a,p,w)+P[0]:n<32?g(a,p,w)+P[1]:n<48?m(a,p,w)+P[2]:n<64?y(a,p,w)+P[3]:b(a,p,w)+P[4],E=(E=v(E|=0,L[n]))+x|0,o=x,x=w,w=v(p,10),p=a,a=E,E=$+e[t+I[n]]|0,E+=n<16?b(S,k,A)+R[0]:n<32?y(S,k,A)+R[1]:n<48?m(S,k,A)+R[2]:n<64?g(S,k,A)+R[3]:f(S,k,A)+R[4],E=(E=v(E|=0,B[n]))+C|0,$=C,C=A,A=v(k,10),k=S,S=E;E=T[1]+p+A|0,T[1]=T[2]+w+C|0,T[2]=T[3]+x+$|0,T[3]=T[4]+o+S|0,T[4]=T[0]+a+k|0,T[0]=E},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,o=i.words,a=0;a<5;a++){var s=o[a];o[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return i},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function f(e,t,n){return e^t^n}function g(e,t,n){return e&t|~e&n}function m(e,t,n){return(e|~t)^n}function y(e,t,n){return e&n|t&~n}function b(e,t,n){return e^(t|~n)}function v(e,t){return e<<t|e>>>32-t}t.RIPEMD160=o._createHelper(p),t.HmacRIPEMD160=o._createHmacHelper(p)}(Math),i.RIPEMD160)}()},2:function(e,t,n){!function(t,r){var i;e.exports=(i=n(488),function(){var e=i,t=e.lib,n=t.WordArray,r=t.Hasher,o=e.algo,a=[],s=o.SHA1=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],l=n[4],c=0;c<80;c++){if(c<16)a[c]=0|e[t+c];else{var u=a[c-3]^a[c-8]^a[c-14]^a[c-16];a[c]=u<<1|u>>>31}var d=(r<<5|r>>>27)+l+a[c];d+=c<20?1518500249+(i&o|~i&s):c<40?1859775393+(i^o^s):c<60?(i&o|i&s|o&s)-1894007588:(i^o^s)-899497514,l=s,s=o,o=i<<30|i>>>2,i=r,r=d}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=r._createHelper(s),e.HmacSHA1=r._createHmacHelper(s)}(),i.SHA1)}()},641:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(488),n(368),function(){var e=o,t=e.lib.WordArray,n=e.algo,r=n.SHA256,i=n.SHA224=r.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=r._doFinalize.call(this);return e.sigBytes-=4,e}});e.SHA224=r._createHelper(i),e.HmacSHA224=r._createHmacHelper(i)}(),o.SHA224)}()},368:function(e,t,n){!function(t,r){var i;e.exports=(i=n(488),function(e){var t=i,n=t.lib,r=n.WordArray,o=n.Hasher,a=t.algo,s=[],l=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(s[i]=n(e.pow(r,.5))),l[i]=n(e.pow(r,1/3)),i++),r++}();var c=[],u=a.SHA256=o.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],d=n[6],h=n[7],p=0;p<64;p++){if(p<16)c[p]=0|e[t+p];else{var f=c[p-15],g=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,m=c[p-2],y=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;c[p]=g+c[p-7]+y+c[p-16]}var b=r&i^r&o^i&o,v=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=h+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&d)+l[p]+c[p];h=d,d=u,u=s,s=a+w|0,a=o,o=i,i=r,r=w+(v+b)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+u|0,n[6]=n[6]+d|0,n[7]=n[7]+h|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(u),t.HmacSHA256=o._createHmacHelper(u)}(Math),i.SHA256)}()},600:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(488),n(749),function(e){var t=o,n=t.lib,r=n.WordArray,i=n.Hasher,a=t.x64.Word,s=t.algo,l=[],c=[],u=[];!function(){for(var e=1,t=0,n=0;n<24;n++){l[e+5*t]=(n+1)*(n+2)/2%64;var r=(2*e+3*t)%5;e=t%5,t=r}for(e=0;e<5;e++)for(t=0;t<5;t++)c[e+5*t]=t+(2*e+3*t)%5*5;for(var i=1,o=0;o<24;o++){for(var s=0,d=0,h=0;h<7;h++){if(1&i){var p=(1<<h)-1;p<32?d^=1<<p:s^=1<<p-32}128&i?i=i<<1^113:i<<=1}u[o]=a.create(s,d)}}();var d=[];!function(){for(var e=0;e<25;e++)d[e]=a.create()}();var h=s.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,r=this.blockSize/2,i=0;i<r;i++){var o=e[t+2*i],a=e[t+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(T=n[i]).high^=a,T.low^=o}for(var s=0;s<24;s++){for(var h=0;h<5;h++){for(var p=0,f=0,g=0;g<5;g++)p^=(T=n[h+5*g]).high,f^=T.low;var m=d[h];m.high=p,m.low=f}for(h=0;h<5;h++){var y=d[(h+4)%5],b=d[(h+1)%5],v=b.high,w=b.low;for(p=y.high^(v<<1|w>>>31),f=y.low^(w<<1|v>>>31),g=0;g<5;g++)(T=n[h+5*g]).high^=p,T.low^=f}for(var x=1;x<25;x++){var $=(T=n[x]).high,S=T.low,k=l[x];k<32?(p=$<<k|S>>>32-k,f=S<<k|$>>>32-k):(p=S<<k-32|$>>>64-k,f=$<<k-32|S>>>64-k);var A=d[c[x]];A.high=p,A.low=f}var C=d[0],E=n[0];for(C.high=E.high,C.low=E.low,h=0;h<5;h++)for(g=0;g<5;g++){var T=n[x=h+5*g],P=d[x],R=d[(h+1)%5+5*g],M=d[(h+2)%5+5*g];T.high=P.high^~R.high&M.high,T.low=P.low^~R.low&M.low}T=n[0];var I=u[s];T.high^=I.high,T.low^=I.low}},_doFinalize:function(){var t=this._data,n=t.words,i=(this._nDataBytes,8*t.sigBytes),o=32*this.blockSize;n[i>>>5]|=1<<24-i%32,n[(e.ceil((i+1)/o)*o>>>5)-1]|=128,t.sigBytes=4*n.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,l=s/8,c=[],u=0;u<l;u++){var d=a[u],h=d.high,p=d.low;h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),c.push(p),c.push(h)}return new r.init(c,s)},clone:function(){for(var e=i.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});t.SHA3=i._createHelper(h),t.HmacSHA3=i._createHmacHelper(h)}(Math),o.SHA3)}()},92:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(488),n(749),n(61),function(){var e=o,t=e.x64,n=t.Word,r=t.WordArray,i=e.algo,a=i.SHA512,s=i.SHA384=a.extend({_doReset:function(){this._hash=new r.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var e=a._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=a._createHelper(s),e.HmacSHA384=a._createHmacHelper(s)}(),o.SHA384)}()},61:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(488),n(749),function(){var e=o,t=e.lib.Hasher,n=e.x64,r=n.Word,i=n.WordArray,a=e.algo;function s(){return r.create.apply(r,arguments)}var l=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],c=[];!function(){for(var e=0;e<80;e++)c[e]=s()}();var u=a.SHA512=t.extend({_doReset:function(){this._hash=new i.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],d=n[6],h=n[7],p=r.high,f=r.low,g=i.high,m=i.low,y=o.high,b=o.low,v=a.high,w=a.low,x=s.high,$=s.low,S=u.high,k=u.low,A=d.high,C=d.low,E=h.high,T=h.low,P=p,R=f,M=g,I=m,L=y,B=b,O=v,F=w,N=x,D=$,z=S,_=k,U=A,j=C,H=E,W=T,V=0;V<80;V++){var G,Q,q=c[V];if(V<16)Q=q.high=0|e[t+2*V],G=q.low=0|e[t+2*V+1];else{var K=c[V-15],Z=K.high,X=K.low,J=(Z>>>1|X<<31)^(Z>>>8|X<<24)^Z>>>7,Y=(X>>>1|Z<<31)^(X>>>8|Z<<24)^(X>>>7|Z<<25),ee=c[V-2],te=ee.high,ne=ee.low,re=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,ie=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),oe=c[V-7],ae=oe.high,se=oe.low,le=c[V-16],ce=le.high,ue=le.low;Q=(Q=(Q=J+ae+((G=Y+se)>>>0<Y>>>0?1:0))+re+((G+=ie)>>>0<ie>>>0?1:0))+ce+((G+=ue)>>>0<ue>>>0?1:0),q.high=Q,q.low=G}var de,he=N&z^~N&U,pe=D&_^~D&j,fe=P&M^P&L^M&L,ge=R&I^R&B^I&B,me=(P>>>28|R<<4)^(P<<30|R>>>2)^(P<<25|R>>>7),ye=(R>>>28|P<<4)^(R<<30|P>>>2)^(R<<25|P>>>7),be=(N>>>14|D<<18)^(N>>>18|D<<14)^(N<<23|D>>>9),ve=(D>>>14|N<<18)^(D>>>18|N<<14)^(D<<23|N>>>9),we=l[V],xe=we.high,$e=we.low,Se=H+be+((de=W+ve)>>>0<W>>>0?1:0),ke=ye+ge;H=U,W=j,U=z,j=_,z=N,_=D,N=O+(Se=(Se=(Se=Se+he+((de+=pe)>>>0<pe>>>0?1:0))+xe+((de+=$e)>>>0<$e>>>0?1:0))+Q+((de+=G)>>>0<G>>>0?1:0))+((D=F+de|0)>>>0<F>>>0?1:0)|0,O=L,F=B,L=M,B=I,M=P,I=R,P=Se+(me+fe+(ke>>>0<ye>>>0?1:0))+((R=de+ke|0)>>>0<de>>>0?1:0)|0}f=r.low=f+R,r.high=p+P+(f>>>0<R>>>0?1:0),m=i.low=m+I,i.high=g+M+(m>>>0<I>>>0?1:0),b=o.low=b+B,o.high=y+L+(b>>>0<B>>>0?1:0),w=a.low=w+F,a.high=v+O+(w>>>0<F>>>0?1:0),$=s.low=$+D,s.high=x+N+($>>>0<D>>>0?1:0),k=u.low=k+_,u.high=S+z+(k>>>0<_>>>0?1:0),C=d.low=C+j,d.high=A+U+(C>>>0<j>>>0?1:0),T=h.low=T+W,h.high=E+H+(T>>>0<W>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(u),e.HmacSHA512=t._createHmacHelper(u)}(),o.SHA512)}()},475:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(488),n(523),n(199),n(211),n(238),function(){var e=o,t=e.lib,n=t.WordArray,r=t.BlockCipher,i=e.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=i.DES=r.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var r=a[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var c=i[o]=[],u=l[o];for(n=0;n<24;n++)c[n/6|0]|=t[(s[n]-1+u)%28]<<31-n%6,c[4+(n/6|0)]|=t[28+(s[n+24]-1+u)%28]<<31-n%6;for(c[0]=c[0]<<1|c[0]>>>31,n=1;n<7;n++)c[n]=c[n]>>>4*(n-1)+3;c[7]=c[7]<<5|c[7]>>>27}var d=this._invSubKeys=[];for(n=0;n<16;n++)d[n]=i[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],h.call(this,4,252645135),h.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),h.call(this,1,1431655765);for(var r=0;r<16;r++){for(var i=n[r],o=this._lBlock,a=this._rBlock,s=0,l=0;l<8;l++)s|=c[l][((a^i[l])&u[l])>>>0];this._lBlock=a,this._rBlock=o^s}var d=this._lBlock;this._lBlock=this._rBlock,this._rBlock=d,h.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function h(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function p(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}e.DES=r._createHelper(d);var f=i.TripleDES=r.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),r=e.length<4?e.slice(0,2):e.slice(2,4),i=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=d.createEncryptor(n.create(t)),this._des2=d.createEncryptor(n.create(r)),this._des3=d.createEncryptor(n.create(i))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=r._createHelper(f)}(),o.TripleDES)}()},749:function(e,t,n){!function(t,r){var i;e.exports=(i=n(488),function(e){var t=i,n=t.lib,r=n.Base,o=n.WordArray,a=t.x64={};a.Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),a.WordArray=r.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=n!=e?n:8*t.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var i=e[r];n.push(i.high),n.push(i.low)}return o.create(n,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;i<n;i++)t[i]=t[i].clone();return e}})}(),i)}()},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function v(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),$=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var B=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}var F,N=Object.assign;function D(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var z=!1;function _(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?D(e):""}function U(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=_(e.type,!1);case 11:return e=_(e.type.render,!1);case 1:return e=_(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case $:return"Portal";case A:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return j(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return N({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Y(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return N({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var $e=null,Se=null,ke=null;function Ae(e){if(e=vi(e)){if("function"!==typeof $e)throw Error(o(280));var t=e.stateNode;t&&(t=xi(t),$e(e.stateNode,e.type,t))}}function Ce(e){Se?ke?ke.push(e):ke=[e]:Se=e}function Ee(){if(Se){var e=Se,t=ke;if(ke=Se=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Te(e,t){return e(t)}function Pe(){}var Re=!1;function Me(e,t,n){if(Re)return e(t,n);Re=!0;try{return Te(e,t,n)}finally{Re=!1,(null!==Se||null!==ke)&&(Pe(),Ee())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Le=!1;if(u)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(ue){Le=!1}function Oe(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Fe=!1,Ne=null,De=!1,ze=null,_e={onError:function(e){Fe=!0,Ne=e}};function Ue(e,t,n,r,i,o,a,s,l){Fe=!1,Ne=null,Oe.apply(_e,arguments)}function je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(je(e)!==e)throw Error(o(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return We(i),e;if(a===r)return We(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Qe=i.unstable_scheduleCallback,qe=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Ze=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ye=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var vt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,$t,St,kt,At,Ct=!1,Et=[],Tt=null,Pt=null,Rt=null,Mt=new Map,It=new Map,Lt=[],Bt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Ft(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=vi(t))&&$t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Nt(e){var t=bi(e.target);if(null!==t){var n=je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void At(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vi(n))&&$t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function zt(e,t,n){Dt(e)&&n.delete(t)}function _t(){Ct=!1,null!==Tt&&Dt(Tt)&&(Tt=null),null!==Pt&&Dt(Pt)&&(Pt=null),null!==Rt&&Dt(Rt)&&(Rt=null),Mt.forEach(zt),It.forEach(zt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,_t)))}function jt(e){function t(t){return Ut(t,e)}if(0<Et.length){Ut(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Ut(Tt,e),null!==Pt&&Ut(Pt,e),null!==Rt&&Ut(Rt,e),Mt.forEach(t),It.forEach(t),n=0;n<Lt.length;n++)(r=Lt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)Nt(n),null===n.blockedOn&&Lt.shift()}var Ht=w.ReactCurrentBatchConfig,Wt=!0;function Vt(e,t,n,r){var i=vt,o=Ht.transition;Ht.transition=null;try{vt=1,Qt(e,t,n,r)}finally{vt=i,Ht.transition=o}}function Gt(e,t,n,r){var i=vt,o=Ht.transition;Ht.transition=null;try{vt=4,Qt(e,t,n,r)}finally{vt=i,Ht.transition=o}}function Qt(e,t,n,r){if(Wt){var i=Kt(e,t,n,r);if(null===i)Wr(e,t,r,qt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Ft(Tt,e,t,n,r,i),!0;case"dragenter":return Pt=Ft(Pt,e,t,n,r,i),!0;case"mouseover":return Rt=Ft(Rt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Mt.set(o,Ft(Mt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,It.set(o,Ft(It.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Bt.indexOf(e)){for(;null!==i;){var o=vi(i);if(null!==o&&xt(o),null===(o=Kt(e,t,n,r))&&Wr(e,t,r,qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var qt=null;function Kt(e,t,n,r){if(qt=null,null!==(e=bi(e=xe(r))))if(null===(t=je(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ye:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Yt=null;function en(){if(Yt)return Yt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Yt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=N({},cn,{view:0,detail:0}),hn=on(dn),pn=N({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=on(pn),gn=on(N({},pn,{dataTransfer:0})),mn=on(N({},dn,{relatedTarget:0})),yn=on(N({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=N({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=on(bn),wn=on(N({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function An(){return kn}var Cn=N({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?$n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=on(Cn),Tn=on(N({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=on(N({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),Rn=on(N({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=N({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=on(Mn),Ln=[9,13,27,32],Bn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Fn=u&&"TextEvent"in window&&!On,Nn=u&&(!Bn||On&&8<On&&11>=On),Dn=String.fromCharCode(32),zn=!1;function _n(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ce(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Qn=null;function qn(e){Dr(e,0)}function Kn(e){if(Q(wi(e)))return e}function Zn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Yn="oninput"in document;if(!Yn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Yn="function"===typeof er.oninput}Jn=Yn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Qn=Gn=null)}function nr(e){if("value"===e.propertyName&&Kn(Qn)){var t=[];Vn(t,Qn,e,xe(e)),Me(qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Qn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Qn)}function or(e,t){if("click"===e)return Kn(t)}function ar(e,t){if("input"===e||"change"===e)return Kn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,br=null,vr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==mr||mr!==q(r)||("selectionStart"in(r=mr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&lr(br,r)||(br=r,0<(r=Gr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $r={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Sr={},kr={};function Ar(e){if(Sr[e])return Sr[e];if(!$r[e])return e;var t,n=$r[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Sr[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete $r.animationend.animation,delete $r.animationiteration.animation,delete $r.animationstart.animation),"TransitionEvent"in window||delete $r.transitionend.transition);var Cr=Ar("animationend"),Er=Ar("animationiteration"),Tr=Ar("animationstart"),Pr=Ar("transitionend"),Rr=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Rr.set(e,t),l(t,[e])}for(var Lr=0;Lr<Mr.length;Lr++){var Br=Mr[Lr];Ir(Br.toLowerCase(),"on"+(Br[0].toUpperCase()+Br.slice(1)))}Ir(Cr,"onAnimationEnd"),Ir(Er,"onAnimationIteration"),Ir(Tr,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(Ue.apply(this,arguments),Fe){if(!Fe)throw Error(o(198));var u=Ne;Fe=!1,Ne=null,De||(De=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Nr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Nr(i,s,c),o=l}}}if(De)throw e=ze,De=!1,ze=null,e}function zr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function _r(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Ur]){e[Ur]=!0,a.forEach((function(t){"selectionchange"!==t&&(Fr.has(t)||_r(t,!1,e),_r(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,_r("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Zt(t)){case 1:var i=Vt;break;case 4:i=Gt;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=bi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Me((function(){var r=o,i=xe(n),a=[];e:{var s=Rr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Cr:case Er:case Tr:l=yn;break;case Pr:l=Rn;break;case"scroll":l=hn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var p,f=r;null!==f;){var g=(p=f).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==h&&(null!=(g=Ie(f,h))&&u.push(Vr(f,g,p)))),d)break;f=f.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!bi(c)&&!c[fi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bi(c):null)&&(c!==(d=je(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,g="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,g="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?s:wi(l),p=null==c?s:wi(c),(s=new u(g,f+"leave",l,n,i)).target=d,s.relatedTarget=p,g=null,bi(i)===r&&((u=new u(h,f+"enter",c,n,i)).target=p,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Qr(p))f++;for(p=0,g=h;g;g=Qr(g))p++;for(;0<f-p;)u=Qr(u),f--;for(;0<p-f;)h=Qr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Qr(u),h=Qr(h)}u=null}else u=null;null!==l&&qr(a,s,l,u,!1),null!==c&&null!==d&&qr(a,d,c,u,!0)}if("select"===(l=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Zn;else if(Wn(s))if(Xn)m=ar;else{m=ir;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?Vn(a,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?wi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,br=null);break;case"focusout":br=yr=mr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,wr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(a,n,i)}var b;if(Bn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else jn?_n(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Nn&&"ko"!==n.locale&&(jn||"onCompositionStart"!==v?"onCompositionEnd"===v&&jn&&(b=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,jn=!0)),0<(y=Gr(r,v)).length&&(v=new wn(v,e,null,n,i),a.push({event:v,listeners:y}),b?v.data=b:null!==(b=Un(n))&&(v.data=b))),(b=Fn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(zn=!0,Dn);case"textInput":return(e=t.data)===Dn&&zn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!Bn&&_n(e,t)?(e=en(),Yt=Jt=Xt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=b))}Dr(a,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ie(e,n))&&r.unshift(Vr(e,o,i)),null!=(o=Ie(e,t))&&r.push(Vr(e,o,i))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Ie(n,o))&&a.unshift(Vr(n,l,s)):i||null!=(l=Ie(n,o))&&a.push(Vr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Kr=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Zr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Yr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void jt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);jt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,pi="__reactProps$"+di,fi="__reactContainer$"+di,gi="__reactEvents$"+di,mi="__reactListeners$"+di,yi="__reactHandles$"+di;function bi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function vi(e){return!(e=e[hi]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xi(e){return e[pi]||null}var $i=[],Si=-1;function ki(e){return{current:e}}function Ai(e){0>Si||(e.current=$i[Si],$i[Si]=null,Si--)}function Ci(e,t){Si++,$i[Si]=e.current,e.current=t}var Ei={},Ti=ki(Ei),Pi=ki(!1),Ri=Ei;function Mi(e,t){var n=e.type.contextTypes;if(!n)return Ei;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ii(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Li(){Ai(Pi),Ai(Ti)}function Bi(e,t,n){if(Ti.current!==Ei)throw Error(o(168));Ci(Ti,t),Ci(Pi,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,H(e)||"Unknown",i));return N({},n,r)}function Fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ei,Ri=Ti.current,Ci(Ti,e),Ci(Pi,Pi.current),!0}function Ni(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Oi(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Ai(Pi),Ai(Ti),Ci(Ti,e)):Ai(Pi),Ci(Pi,n)}var Di=null,zi=!1,_i=!1;function Ui(e){null===Di?Di=[e]:Di.push(e)}function ji(){if(!_i&&null!==Di){_i=!0;var e=0,t=vt;try{var n=Di;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Di=null,zi=!1}catch(i){throw null!==Di&&(Di=Di.slice(e+1)),Qe(Ye,ji),i}finally{vt=t,_i=!1}}return null}var Hi=[],Wi=0,Vi=null,Gi=0,Qi=[],qi=0,Ki=null,Zi=1,Xi="";function Ji(e,t){Hi[Wi++]=Gi,Hi[Wi++]=Vi,Vi=e,Gi=t}function Yi(e,t,n){Qi[qi++]=Zi,Qi[qi++]=Xi,Qi[qi++]=Ki,Ki=e;var r=Zi;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Zi=1<<32-at(t)+i|n<<i|r,Xi=o+e}else Zi=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Ji(e,1),Yi(e,1,0))}function to(e){for(;e===Vi;)Vi=Hi[--Wi],Hi[Wi]=null,Gi=Hi[--Wi],Hi[Wi]=null;for(;e===Ki;)Ki=Qi[--qi],Qi[qi]=null,Xi=Qi[--qi],Qi[qi]=null,Zi=Qi[--qi],Qi[qi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Mc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ki?{id:Zi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw po(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=ci(e.nextSibling)}function fo(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var mo=w.ReactCurrentBatchConfig;function yo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function bo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Nc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===I&&vo(o)===t.type)?((r=i(t,n.props)).ref=yo(e,t,n),r.return=e,r):((r=Bc(n.type,n.key,n.props,null,e.mode,r)).ref=yo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Dc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Nc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Bc(t.type,t.key,t.props,null,e.mode,n)).ref=yo(e,null,t),n.return=e,n;case $:return(t=Dc(t,e.mode,n)).return=e,t;case I:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Oc(t,e.mode,n,null)).return=e,t;bo(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case $:return n.key===i?u(e,t,n,r):null;case I:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:d(e,t,n,r,null);bo(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case $:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,i,null);bo(t,r)}return null}function g(i,o,s,l){for(var c=null,u=null,d=o,g=o=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var y=p(i,d,s[g],l);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(i,d),o=a(y,o,g),null===u?c=y:u.sibling=y,u=y,d=m}if(g===s.length)return n(i,d),io&&Ji(i,g),c;if(null===d){for(;g<s.length;g++)null!==(d=h(i,s[g],l))&&(o=a(d,o,g),null===u?c=d:u.sibling=d,u=d);return io&&Ji(i,g),c}for(d=r(i,d);g<s.length;g++)null!==(m=f(d,i,g,s[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),o=a(m,o,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(i,e)})),io&&Ji(i,g),c}function m(i,s,l,c){var u=O(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,g=s,m=s=0,y=null,b=l.next();null!==g&&!b.done;m++,b=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var v=p(i,g,b.value,c);if(null===v){null===g&&(g=y);break}e&&g&&null===v.alternate&&t(i,g),s=a(v,s,m),null===d?u=v:d.sibling=v,d=v,g=y}if(b.done)return n(i,g),io&&Ji(i,m),u;if(null===g){for(;!b.done;m++,b=l.next())null!==(b=h(i,b.value,c))&&(s=a(b,s,m),null===d?u=b:d.sibling=b,d=b);return io&&Ji(i,m),u}for(g=r(i,g);!b.done;m++,b=l.next())null!==(b=f(g,i,m,b.value,c))&&(e&&null!==b.alternate&&g.delete(null===b.key?m:b.key),s=a(b,s,m),null===d?u=b:d.sibling=b,d=b);return e&&g.forEach((function(e){return t(i,e)})),io&&Ji(i,m),u}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===S){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===I&&vo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=yo(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===S?((o=Oc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Bc(a.type,a.key,a.props,null,r.mode,l)).ref=yo(r,o,a),l.return=r,r=l)}return s(r);case $:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Dc(a,r.mode,l)).return=r,r=o}return s(r);case I:return e(r,o,(u=a._init)(a._payload),l)}if(te(a))return g(r,o,a,l);if(O(a))return m(r,o,a,l);bo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Nc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var xo=wo(!0),$o=wo(!1),So=ki(null),ko=null,Ao=null,Co=null;function Eo(){Co=Ao=ko=null}function To(e){var t=So.current;Ai(So),e._currentValue=t}function Po(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ro(e,t){ko=e,Co=Ao=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vs=!0),e.firstContext=null)}function Mo(e){var t=e._currentValue;if(Co!==e)if(e={context:e,memoizedValue:t,next:null},null===Ao){if(null===ko)throw Error(o(308));Ao=e,ko.dependencies={lanes:0,firstContext:e}}else Ao=Ao.next=e;return t}var Io=null;function Lo(e){null===Io?Io=[e]:Io.push(e)}function Bo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Lo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Oo(e,r)}function Oo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Fo=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Do(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _o(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Oo(e,n)}return null===(i=r.interleaved)?(t.next=t,Lo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Oo(e,n)}function Uo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function jo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ho(e,t,n,r){var i=e.updateQueue;Fo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,p=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,g=s;switch(h=t,p=n,g.tag){case 1:if("function"===typeof(f=g.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=g.payload)?f.call(p,d,h):f)||void 0===h)break e;d=N({},d,h);break e;case 2:Fo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Fl|=a,e.lanes=a,e.memoizedState=d}}function Wo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Vo={},Go=ki(Vo),Qo=ki(Vo),qo=ki(Vo);function Ko(e){if(e===Vo)throw Error(o(174));return e}function Zo(e,t){switch(Ci(qo,t),Ci(Qo,e),Ci(Go,Vo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ai(Go),Ci(Go,t)}function Xo(){Ai(Go),Ai(Qo),Ai(qo)}function Jo(e){Ko(qo.current);var t=Ko(Go.current),n=le(t,e.type);t!==n&&(Ci(Qo,e),Ci(Go,n))}function Yo(e){Qo.current===e&&(Ai(Go),Ai(Qo))}var ea=ki(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=w.ReactCurrentDispatcher,oa=w.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ca=null,ua=!1,da=!1,ha=0,pa=0;function fa(){throw Error(o(321))}function ga(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Ya:es,e=n(r,i),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(o(301));a+=1,ca=la=null,t.updateQueue=null,ia.current=ts,e=n(r,i)}while(da)}if(ia.current=Ja,t=null!==la&&null!==la.next,aa=0,ca=la=sa=null,ua=!1,t)throw Error(o(300));return e}function ya(){var e=0!==ha;return ha=0,e}function ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?sa.memoizedState=ca=e:ca=ca.next=e,ca}function va(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?sa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(o(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?sa.memoizedState=ca=e:ca=ca.next=e}return ca}function wa(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=va(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,sa.lanes|=d,Fl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(vs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Fl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function $a(e){var t=va(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(vs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function ka(e,t){var n=sa,r=va(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,vs=!0),r=r.queue,Fa(Ea.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Ma(9,Ca.bind(null,n,r,i,t),void 0,null),null===Pl)throw Error(o(349));0!==(30&aa)||Aa(n,t,i)}return i}function Aa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ca(e,t,n,r){t.value=n,t.getSnapshot=r,Ta(t)&&Pa(e)}function Ea(e,t,n){return n((function(){Ta(t)&&Pa(e)}))}function Ta(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Pa(e){var t=Oo(e,1);null!==t&&nc(t,e,1,-1)}function Ra(e){var t=ba();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=qa.bind(null,sa,e),[t.memoizedState,e]}function Ma(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ia(){return va().memoizedState}function La(e,t,n,r){var i=ba();sa.flags|=e,i.memoizedState=Ma(1|t,n,void 0,void 0===r?null:r)}function Ba(e,t,n,r){var i=va();r=void 0===r?null:r;var o=void 0;if(null!==la){var a=la.memoizedState;if(o=a.destroy,null!==r&&ga(r,a.deps))return void(i.memoizedState=Ma(t,n,o,r))}sa.flags|=e,i.memoizedState=Ma(1|t,n,o,r)}function Oa(e,t){return La(8390656,8,e,t)}function Fa(e,t){return Ba(2048,8,e,t)}function Na(e,t){return Ba(4,2,e,t)}function Da(e,t){return Ba(4,4,e,t)}function za(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function _a(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4,4,za.bind(null,t,e),n)}function Ua(){}function ja(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ha(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wa(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,vs=!0),e.memoizedState=n):(sr(n,t)||(n=gt(),sa.lanes|=n,Fl|=n,e.baseState=!0),t)}function Va(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{vt=n,oa.transition=r}}function Ga(){return va().memoizedState}function Qa(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ka(e))Za(t,n);else if(null!==(n=Bo(e,t,n,r))){nc(n,e,r,ec()),Xa(n,t,r)}}function qa(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ka(e))Za(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,Lo(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Bo(e,t,i,r))&&(nc(n,e,r,i=ec()),Xa(n,t,r))}}function Ka(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Za(e,t){da=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var Ja={readContext:Mo,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},Ya={readContext:Mo,useCallback:function(e,t){return ba().memoizedState=[e,void 0===t?null:t],e},useContext:Mo,useEffect:Oa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,La(4194308,4,za.bind(null,t,e),n)},useLayoutEffect:function(e,t){return La(4194308,4,e,t)},useInsertionEffect:function(e,t){return La(4,2,e,t)},useMemo:function(e,t){var n=ba();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ba();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Qa.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ba().memoizedState=e},useState:Ra,useDebugValue:Ua,useDeferredValue:function(e){return ba().memoizedState=e},useTransition:function(){var e=Ra(!1),t=e[0];return e=Va.bind(null,e[1]),ba().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=ba();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Pl)throw Error(o(349));0!==(30&aa)||Aa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Oa(Ea.bind(null,r,a,e),[e]),r.flags|=2048,Ma(9,Ca.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ba(),t=Pl.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Zi&~(1<<32-at(Zi)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Mo,useCallback:ja,useContext:Mo,useEffect:Fa,useImperativeHandle:_a,useInsertionEffect:Na,useLayoutEffect:Da,useMemo:Ha,useReducer:xa,useRef:Ia,useState:function(){return xa(wa)},useDebugValue:Ua,useDeferredValue:function(e){return Wa(va(),la.memoizedState,e)},useTransition:function(){return[xa(wa)[0],va().memoizedState]},useMutableSource:Sa,useSyncExternalStore:ka,useId:Ga,unstable_isNewReconciler:!1},ts={readContext:Mo,useCallback:ja,useContext:Mo,useEffect:Fa,useImperativeHandle:_a,useInsertionEffect:Na,useLayoutEffect:Da,useMemo:Ha,useReducer:$a,useRef:Ia,useState:function(){return $a(wa)},useDebugValue:Ua,useDeferredValue:function(e){var t=va();return null===la?t.memoizedState=e:Wa(t,la.memoizedState,e)},useTransition:function(){return[$a(wa)[0],va().memoizedState]},useMutableSource:Sa,useSyncExternalStore:ka,useId:Ga,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=N({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:N({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=zo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=_o(e,o,i))&&(nc(t,e,i,r),Uo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=zo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=_o(e,o,i))&&(nc(t,e,i,r),Uo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=zo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=_o(e,i,r))&&(nc(t,e,r,n),Uo(t,e,r))}};function os(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function as(e,t,n){var r=!1,i=Ei,o=t.contextType;return"object"===typeof o&&null!==o?o=Mo(o):(i=Ii(t)?Ri:Ti.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Mi(e,i):Ei),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},No(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Mo(o):(o=Ii(t)?Ri:Ti.current,i.context=Mi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),Ho(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=zo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Vl=r),ds(0,t)},n}function fs(e,t,n){(n=zo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ac.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zo(-1,1)).tag=2,_o(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=w.ReactCurrentOwner,vs=!1;function ws(e,t,n,r){t.child=null===e?$o(t,null,n,r):xo(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var o=t.ref;return Ro(t,i),r=ma(e,t,n,r,o,i),n=ya(),null===e||vs?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function $s(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Ic(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Bc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ss(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Lc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(vs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(vs=!0)}}return Cs(e,t,n,r,i)}function ks(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Ll,Il),Il|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Ll,Il),Il|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ci(Ll,Il),Il|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ci(Ll,Il),Il|=r;return ws(e,t,i,n),t.child}function As(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var o=Ii(n)?Ri:Ti.current;return o=Mi(t,o),Ro(t,i),n=ma(e,t,n,r,o,i),r=ya(),null===e||vs?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Es(e,t,n,r,i){if(Ii(n)){var o=!0;Fi(t)}else o=!1;if(Ro(t,i),null===t.stateNode)Hs(e,t),as(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Mo(c):c=Mi(t,c=Ii(n)?Ri:Ti.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,a,r,c),Fo=!1;var h=t.memoizedState;a.state=h,Ho(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Pi.current||Fo?("function"===typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Fo||os(t,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Do(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Mo(l):l=Mi(t,l=Ii(n)?Ri:Ti.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,a,r,l),Fo=!1,h=t.memoizedState,a.state=h,Ho(t,r,a,i);var f=t.memoizedState;s!==d||h!==f||Pi.current||Fo?("function"===typeof p&&(rs(t,n,p,r),f=t.memoizedState),(c=Fo||os(t,n,c,r,h,f,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,o,i)}function Ts(e,t,n,r,i,o){As(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Ni(t,n,!1),Ws(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&Ni(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Bi(0,t.context,!1),Zo(e,t.containerInfo)}function Rs(e,t,n,r,i){return fo(),go(i),t.flags|=256,ws(e,t,n,r),t.child}var Ms,Is,Ls,Bs,Os={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ns(e,t,n){var r,i=t.pendingProps,a=ea.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ci(ea,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Fc(l,i,0,null),e=Oc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Os,e):Ds(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,zs(e,t,s,r=us(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(a=Oc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&xo(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Os,a);if(0===(1&t.mode))return zs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,zs(e,t,s,r=us(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),vs||l){if(null!==(r=Pl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Oo(e,i),nc(r,e,i,-1))}return gc(),zs(e,t,s,r=us(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Qi[qi++]=Zi,Qi[qi++]=Xi,Qi[qi++]=Ki,Zi=e.id,Xi=e.overflow,Ki=t),t=Ds(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Lc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Lc(r,s):(s=Oc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Fs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Os,i}return e=(s=e.child).sibling,i=Lc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ds(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,n,r){return null!==r&&go(r),xo(t,e.child,null,n),(e=Ds(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function _s(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Po(e.return,t,n)}function Us(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function js(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&_s(e,n,t);else if(19===e.tag)_s(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Us(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Us(t,!0,n,null,o);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ii(t.type)&&Li(),Gs(t),null;case 3:return r=t.stateNode,Xo(),Ai(Pi),Ai(Ti),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Is(e,t),Gs(t),null;case 5:Yo(t);var i=Ko(qo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ls(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Gs(t),null}if(e=Ko(Go.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[pi]=a,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)zr(Or[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Z(r,a),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},zr("invalid",r);break;case"textarea":ie(r,a),zr("invalid",r)}for(var l in be(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":G(r),Y(r,a,!0);break;case"textarea":G(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Yr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[pi]=r,Ms(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)zr(Or[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":Z(e,r),i=K(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=N({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(a in be(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?me(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&zr("scroll",e):null!=u&&v(e,a,u,l))}switch(n){case"input":G(e),Y(e,r,!1);break;case"textarea":G(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Yr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Bs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Ko(qo.current),Ko(Go.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gs(t),null;case 13:if(Ai(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))po(),fo(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else fo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Bl&&(Bl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return Xo(),Is(e,t),null===e&&jr(t.stateNode.containerInfo),Gs(t),null;case 10:return To(t.type._context),Gs(t),null;case 19:if(Ai(ea),null===(a=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Vs(a,!1);else{if(0!==Bl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Vs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>jl&&(t.flags|=128,r=!0,Vs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Gs(t),null}else 2*Xe()-a.renderingStartTime>jl&&1073741824!==n&&(t.flags|=128,r=!0,Vs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ea.current,Ci(ea,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Il)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function qs(e,t){switch(to(t),t.tag){case 1:return Ii(t.type)&&Li(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xo(),Ai(Pi),Ai(Ti),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Yo(t),null;case 13:if(Ai(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ai(ea),null;case 4:return Xo(),null;case 10:return To(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ms=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Is=function(){},Ls=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ko(Go.current);var o,a=null;switch(n){case"input":i=K(e,i),r=K(e,r),a=[];break;case"select":i=N({},i,{value:void 0}),r=N({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Yr)}for(u in be(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Bs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ks=!1,Zs=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Ys(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){kc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[pi],delete t[gi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Yr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Zs||Ys(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),jt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Zs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Zs&&(Ys(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){kc(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Zs=(r=Zs)||null!==n.memoizedState,hl(e,t,n),Zs=r):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));pl(a,s,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(m){kc(e,e.return,m)}try{nl(5,e,e.return)}catch(m){kc(e,e.return,m)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&Ys(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&Ys(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){kc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),ve(l,s);var u=ve(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):v(i,d,h,u)}switch(l){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(i,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(m){kc(e,e.return,m)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){kc(e,e.return,m)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jt(t.containerInfo)}catch(m){kc(e,e.return,m)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Ul=Xe())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Zs=(u=Zs)||d,gl(t,e),Zs=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(h=Js=d;null!==Js;){switch(f=(p=Js).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Ys(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){kc(r,n,m)}}break;case 5:Ys(p,p.return);break;case 22:if(null!==p.memoizedState){xl(h);continue}}null!==f?(f.return=p,Js=f):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",s))}catch(m){kc(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){kc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),yl(e),4&r&&fl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,sl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(o(161))}}catch(s){kc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Js=e,vl(e,t,n)}function vl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ks;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Zs;s=Ks;var c=Zs;if(Ks=a,(Zs=l)&&!c)for(Js=i;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?$l(i):null!==l?(l.return=a,Js=l):$l(i);for(;null!==o;)Js=o,vl(o,t,n),o=o.sibling;Js=i,Ks=s,Zs=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Js=o):wl(e)}}function wl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Zs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Zs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Wo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&jt(h)}}}break;default:throw Error(o(163))}Zs||512&t.flags&&il(t)}catch(p){kc(t,t.return,p)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function xl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function $l(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var o=t.return;try{il(t)}catch(l){kc(t,o,l)}break;case 5:var a=t.return;try{il(t)}catch(l){kc(t,a,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Sl,kl=Math.ceil,Al=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,El=w.ReactCurrentBatchConfig,Tl=0,Pl=null,Rl=null,Ml=0,Il=0,Ll=ki(0),Bl=0,Ol=null,Fl=0,Nl=0,Dl=0,zl=null,_l=null,Ul=0,jl=1/0,Hl=null,Wl=!1,Vl=null,Gl=null,Ql=!1,ql=null,Kl=0,Zl=0,Xl=null,Jl=-1,Yl=0;function ec(){return 0!==(6&Tl)?Xe():-1!==Jl?Jl:Jl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Ml?Ml&-Ml:null!==mo.transition?(0===Yl&&(Yl=gt()),Yl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function nc(e,t,n,r){if(50<Zl)throw Zl=0,Xl=null,Error(o(185));yt(e,n,r),0!==(2&Tl)&&e===Pl||(e===Pl&&(0===(2&Tl)&&(Nl|=n),4===Bl&&sc(e,Ml)),rc(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(jl=Xe()+500,zi&&ji()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=pt(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Pl?Ml:0);if(0===r)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){zi=!0,Ui(e)}(lc.bind(null,e)):Ui(lc.bind(null,e)),ai((function(){0===(6&Tl)&&ji()})),n=null;else{switch(wt(r)){case 1:n=Ye;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Yl=0,0!==(6&Tl))throw Error(o(327));var n=e.callbackNode;if($c()&&e.callbackNode!==n)return null;var r=ht(e,e===Pl?Ml:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Tl;Tl|=2;var a=fc();for(Pl===e&&Ml===t||(Hl=null,jl=Xe()+500,hc(e,t));;)try{bc();break}catch(l){pc(e,l)}Eo(),Al.current=a,Tl=i,null!==Rl?t=0:(Pl=null,Ml=0,t=Bl)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ol,hc(e,0),sc(e,r),rc(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(a=ft(e))&&(r=a,t=oc(e,a))),1===t))throw n=Ol,hc(e,0),sc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,_l,Hl);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Ul+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,_l,Hl),t);break}xc(e,_l,Hl);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,_l,Hl),r);break}xc(e,_l,Hl);break;default:throw Error(o(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=_l,_l=n,null!==t&&ac(t)),e}function ac(e){null===_l?_l=e:_l.push.apply(_l,e)}function sc(e,t){for(t&=~Dl,t&=~Nl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Tl))throw Error(o(327));$c();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ol,hc(e,0),sc(e,t),rc(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,_l,Hl),rc(e,Xe()),null}function cc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(jl=Xe()+500,zi&&ji())}}function uc(e){null!==ql&&0===ql.tag&&0===(6&Tl)&&$c();var t=Tl;Tl|=1;var n=El.transition,r=vt;try{if(El.transition=null,vt=1,e)return e()}finally{vt=r,El.transition=n,0===(6&(Tl=t))&&ji()}}function dc(){Il=Ll.current,Ai(Ll)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Li();break;case 3:Xo(),Ai(Pi),Ai(Ti),ra();break;case 5:Yo(r);break;case 4:Xo();break;case 13:case 19:Ai(ea);break;case 10:To(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Pl=e,Rl=e=Lc(e.current,null),Ml=Il=t,Bl=0,Ol=null,Dl=Nl=Fl=0,_l=zl=null,null!==Io){for(t=0;t<Io.length;t++)if(null!==(r=(n=Io[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Io=null}return e}function pc(e,t){for(;;){var n=Rl;try{if(Eo(),ia.current=Ja,ua){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ua=!1}if(aa=0,ca=la=sa=null,da=!1,ha=0,Cl.current=null,null===n||null===n.return){Bl=1,Ol=t,Rl=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Ml,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=ms(s);if(null!==f){f.flags&=-257,ys(f,s,l,0,t),1&f.mode&&gs(a,u,t),c=u;var g=(t=f).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){gs(a,u,t),gc();break e}c=Error(o(426))}else if(io&&1&l.mode){var y=ms(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,l,0,t),go(cs(c,l));break e}}a=c=cs(c,l),4!==Bl&&(Bl=2),null===zl?zl=[a]:zl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,jo(a,ps(0,c,t));break e;case 1:l=c;var b=a.type,v=a.stateNode;if(0===(128&a.flags)&&("function"===typeof b.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Gl||!Gl.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t,jo(a,fs(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(w){t=w,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function fc(){var e=Al.current;return Al.current=Ja,null===e?Ja:e}function gc(){0!==Bl&&3!==Bl&&2!==Bl||(Bl=4),null===Pl||0===(268435455&Fl)&&0===(268435455&Nl)||sc(Pl,Ml)}function mc(e,t){var n=Tl;Tl|=2;var r=fc();for(Pl===e&&Ml===t||(Hl=null,hc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(Eo(),Tl=n,Al.current=r,null!==Rl)throw Error(o(261));return Pl=null,Ml=0,Bl}function yc(){for(;null!==Rl;)vc(Rl)}function bc(){for(;null!==Rl&&!Ke();)vc(Rl)}function vc(e){var t=Sl(e.alternate,e,Il);e.memoizedProps=e.pendingProps,null===t?wc(e):Rl=t,Cl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Il)))return void(Rl=n)}else{if(null!==(n=qs(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Bl=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Bl&&(Bl=5)}function xc(e,t,n){var r=vt,i=El.transition;try{El.transition=null,vt=1,function(e,t,n,r){do{$c()}while(null!==ql);if(0!==(6&Tl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Pl&&(Rl=Pl=null,Ml=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Pc(tt,(function(){return $c(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=El.transition,El.transition=null;var s=vt;vt=1;var l=Tl;Tl|=4,Cl.current=null,function(e,t){if(ei=Wt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===i&&(l=s),p===a&&++d===r&&(c=s),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:ns(t.type,m),y);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(x){kc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}g=tl,tl=!1}(e,n),ml(n,e),fr(ti),Wt=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Ze(),Tl=l,vt=s,El.transition=a}else e.current=n;if(Ql&&(Ql=!1,ql=e,Kl=i),a=e.pendingLanes,0===a&&(Gl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Vl,Vl=null,e;0!==(1&Kl)&&0!==e.tag&&$c(),a=e.pendingLanes,0!==(1&a)?e===Xl?Zl++:(Zl=0,Xl=e):Zl=0,ji()}(e,t,n,r)}finally{El.transition=i,vt=r}return null}function $c(){if(null!==ql){var e=wt(Kl),t=El.transition,n=vt;try{if(El.transition=null,vt=16>e?16:e,null===ql)var r=!1;else{if(e=ql,ql=null,Kl=0,0!==(6&Tl))throw Error(o(331));var i=Tl;for(Tl|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Js=h;else for(;null!==Js;){var p=(d=Js).sibling,f=d.return;if(ol(d),d===u){Js=null;break}if(null!==p){p.return=f,Js=p;break}Js=f}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var b=a.sibling;if(null!==b){b.return=a.return,Js=b;break e}Js=a.return}}var v=e.current;for(Js=v;null!==Js;){var w=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Js=w;else e:for(s=v;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch($){kc(l,l.return,$)}if(l===s){Js=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Js=x;break e}Js=l.return}}if(Tl=i,ji(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch($){}r=!0}return r}finally{vt=n,El.transition=t}}return!1}function Sc(e,t,n){e=_o(e,t=ps(0,t=cs(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=_o(t,e=fs(t,e=cs(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ac(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Ml&n)===n&&(4===Bl||3===Bl&&(130023424&Ml)===Ml&&500>Xe()-Ul?hc(e,0):Dl|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Oo(e,t))&&(yt(e,t,n),rc(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Cc(e,n)}function Pc(e,t){return Qe(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(e,t,n,r){return new Rc(e,t,n,r)}function Ic(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=Mc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Bc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Ic(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Oc(n.children,i,a,t);case k:s=8,i|=8;break;case A:return(e=Mc(12,n,t,2|i)).elementType=A,e.lanes=a,e;case P:return(e=Mc(13,n,t,i)).elementType=P,e.lanes=a,e;case R:return(e=Mc(19,n,t,i)).elementType=R,e.lanes=a,e;case L:return Fc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case E:s=9;break e;case T:s=11;break e;case M:s=14;break e;case I:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Mc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Oc(e,t,n,r){return(e=Mc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Mc(22,e,r,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function Nc(e,t,n){return(e=Mc(6,e,null,t)).lanes=n,e}function Dc(e,t,n){return(t=Mc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _c(e,t,n,r,i,o,a,s,l){return e=new zc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Mc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},No(o),e}function Uc(e){if(!e)return Ei;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ii(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ii(n))return Oi(e,n,t)}return t}function jc(e,t,n,r,i,o,a,s,l){return(e=_c(n,r,!0,e,0,o,0,s,l)).context=Uc(null),n=e.current,(o=zo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,_o(n,o,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,o=ec(),a=tc(i);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=zo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=_o(i,t,a))&&(nc(e,i,a,o),Uo(e,i,a)),a}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)vs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return vs=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),fo();break;case 5:Jo(t);break;case 1:Ii(t.type)&&Fi(t);break;case 4:Zo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(So,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ns(e,t,n):(Ci(ea,1&ea.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ci(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return js(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,n)}return Ws(e,t,n)}(e,t,n);vs=0!==(131072&e.flags)}else vs=!1,io&&0!==(1048576&t.flags)&&Yi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Mi(t,Ti.current);Ro(t,n),i=ma(null,t,r,e,i,n);var a=ya();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ii(r)?(a=!0,Fi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,No(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=Ts(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ic(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===M)return 14}return 2}(r),e=ns(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=Es(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=$s(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Es(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Do(e,t),Ho(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Rs(e,t,r,n,i=cs(Error(o(423)),t));break e}if(r!==i){t=Rs(e,t,r,n,i=cs(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=$o(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),r===i){t=Ws(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return Jo(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),As(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ns(e,t,n);case 4:return Zo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ci(So,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Pi.current){t=Ws(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=zo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Po(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Po(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ro(t,n),r=r(i=Mo(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),$s(e,t,r,i=ns(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),Hs(e,t),t.tag=1,Ii(r)?(e=!0,Fi(t)):e=!1,Ro(t,n),as(t,r,i),ls(t,r,i,n),Ts(null,t,r,!0,e,n);case 19:return js(e,t,n);case 22:return ks(e,t,n)}throw Error(o(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function qc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Yc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Wc(a);s.call(e)}}Hc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Wc(a);o.call(e)}}var a=jc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[fi]=a.current,jr(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wc(l);s.call(e)}}var l=_c(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[fi]=l.current,jr(8===e.nodeType?e.parentNode:e),uc((function(){Hc(t,l,n,r)})),l}(n,t,e,i,r);return Wc(a)}Kc.prototype.render=qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hc(e,t,null,null)},Kc.prototype.unmount=qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Hc(null,e,null,null)})),t[fi]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&Nt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(bt(t,1|n),rc(t,Xe()),0===(6&Tl)&&(jl=Xe()+500,ji()))}break;case 13:uc((function(){var t=Oo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},$t=function(e){if(13===e.tag){var t=Oo(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Oo(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},kt=function(){return vt},At=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},$e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(o(90));Q(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,Pe=uc;var eu={usingClientEntryPoint:!1,Events:[vi,wi,xi,Ce,Ee,cc]},tu={findFiberByHostInstance:bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:$,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zc(e))throw Error(o(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=_c(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,jr(8===e.nodeType?e.parentNode:e),new qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(o(200));return Yc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=jc(t,null,e,1,null!=n?n:null,i,0,a,s),e[fi]=t.current,jr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Kc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(o(200));return Yc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){Yc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Yc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function b(){}function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var w=v.prototype=new b;w.constructor=v,g(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,$=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)$.call(t,i)&&!k.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:S.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+T(l,0):o,x(a)?(i="",null!=e&&(i=e.replace(E,"$&/")+"/"),P(a,t,i,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",x(e))for(var c=0;c<e.length;c++){var u=o+T(s=e[c],c);l+=P(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=P(s=s.value,t,i,u=o+T(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},L={transition:null},B={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:L,ReactCurrentOwner:S};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=v,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)$.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,g=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(m=!1,w(e),!g)if(null!==r(c))g=!0,L($);else{var t=r(u);null!==t&&B(x,t.startTime-e)}}function $(e,n){g=!1,m&&(m=!1,b(C),C=-1),f=!0;var o=p;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!P());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&B(x,d.startTime-n),l=!1}return l}finally{h=null,p=o,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,A=null,C=-1,E=5,T=-1;function P(){return!(t.unstable_now()-T<E)}function R(){if(null!==A){var e=t.unstable_now();T=e;var n=!0;try{n=A(!0,e)}finally{n?S():(k=!1,A=null)}}else k=!1}if("function"===typeof v)S=function(){v(R)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,I=M.port2;M.port1.onmessage=R,S=function(){I.postMessage(null)}}else S=function(){y(R,0)};function L(e){A=e,k||(k=!0,S())}function B(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,L($))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(m?(b(C),C=-1):m=!0,B(x,o-a))):(e.sortIndex=s,n(c,e),g||f||(g=!0,L($))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},477:()=>{}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{OG:()=>Vs,My:()=>Fs,Ph:()=>zs,lX:()=>_s,Id:()=>Ws,fg:()=>qs,qj:()=>Hs,aT:()=>Ds,lq:()=>Us,z:()=>js,Q5:()=>Zs});var t={};n.r(t),n.d(t,{hasBrowserEnv:()=>Df,hasStandardBrowserEnv:()=>zf,hasStandardBrowserWebWorkerEnv:()=>Uf,origin:()=>jf});var r=n(43),i=n(391);const o=async e=>{const t=(await window.ethereum.request({method:"eth_requestAccounts"}))[0];console.log(t),e((e=>({...e,account:t})))},a=async e=>{const t=await window.ethereum.request({method:"eth_chainId"}),n=parseInt(t,16);console.log(n),e((e=>({...e,chainId:n})))};function s(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function l(e,t,n){s(e,t),t.set(e,n)}function c(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function u(e,t){return e.get(c(e,t))}function d(e,t,n){return e.set(c(e,t),n),n}const h="6.13.1";function p(e,t,n){const r=t.split("|").map((e=>e.trim()));for(let o=0;o<r.length;o++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const i=new Error("invalid value for type ".concat(t));throw i.code="INVALID_ARGUMENT",i.argument="value.".concat(n),i.value=e,i}async function f(e){const t=Object.keys(e),n=await Promise.all(t.map((t=>Promise.resolve(e[t]))));return n.reduce(((e,n,r)=>(e[t[r]]=n,e)),{})}function g(e,t,n){for(let r in t){let i=t[r];const o=n?n[r]:null;o&&p(i,o,r),Object.defineProperty(e,r,{enumerable:!0,value:i,writable:!1})}}function m(e){if(null==e)return"null";if(Array.isArray(e))return"[ "+e.map(m).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let n="0x";for(let r=0;r<e.length;r++)n+=t[e[r]>>4],n+=t[15&e[r]];return n}if("object"===typeof e&&"function"===typeof e.toJSON)return m(e.toJSON());switch(typeof e){case"boolean":case"symbol":case"number":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const t=Object.keys(e);return t.sort(),"{ "+t.map((t=>"".concat(m(t),": ").concat(m(e[t])))).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function y(e,t){return e&&e.code===t}function b(e){return y(e,"CALL_EXCEPTION")}function v(e,t,n){let r,i=e;{const r=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error("value will overwrite populated values: ".concat(m(n)));for(const e in n){if("shortMessage"===e)continue;const t=n[e];r.push(e+"="+m(t))}}r.push("code=".concat(t)),r.push("version=".concat(h)),r.length&&(e+=" ("+r.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":r=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":r=new RangeError(e);break;default:r=new Error(e)}return g(r,{code:t}),n&&Object.assign(r,n),null==r.shortMessage&&g(r,{shortMessage:i}),r}function w(e,t,n,r){if(!e)throw v(t,n,r)}function x(e,t,n,r){w(e,t,"INVALID_ARGUMENT",{argument:n,value:r})}function $(e,t,n){null==n&&(n=""),n&&(n=": "+n),w(e>=t,"missing arguemnt"+n,"MISSING_ARGUMENT",{count:e,expectedCount:t}),w(e<=t,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}const S=["NFD","NFC","NFKD","NFKC"].reduce(((e,t)=>{try{if("test"!=="test".normalize(t))throw new Error("bad");if("NFD"===t){const e=String.fromCharCode(233).normalize("NFD");if(e!==String.fromCharCode(101,769))throw new Error("broken")}e.push(t)}catch(n){}return e}),[]);function k(e,t,n){if(null==n&&(n=""),e!==t){let e=n,t="new";n&&(e+=".",t+=" "+n),w(!1,"private constructor; use ".concat(e,"from* methods"),"UNSUPPORTED_OPERATION",{operation:t})}}function A(e,t){s(e,t),t.add(e)}function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function E(e){var t=function(e,t){if("object"!=C(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==C(t)?t:t+""}function T(e,t,n){return(t=E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t,n){if(e instanceof Uint8Array)return n?new Uint8Array(e):e;if("string"===typeof e&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const t=new Uint8Array((e.length-2)/2);let n=2;for(let r=0;r<t.length;r++)t[r]=parseInt(e.substring(n,n+2),16),n+=2;return t}x(!1,"invalid BytesLike value",t||"value",e)}function R(e,t){return P(e,t,!1)}function M(e,t){return P(e,t,!0)}function I(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(("number"!==typeof t||e.length===2+2*t)&&(!0!==t||e.length%2===0))}function L(e){return I(e,!0)||e instanceof Uint8Array}const B="0123456789abcdef";function O(e){const t=R(e);let n="0x";for(let r=0;r<t.length;r++){const e=t[r];n+=B[(240&e)>>4]+B[15&e]}return n}function F(e){return"0x"+e.map((e=>O(e).substring(2))).join("")}function N(e){return I(e,!0)?(e.length-2)/2:R(e).length}function D(e,t,n){const r=R(e);return null!=n&&n>r.length&&w(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),O(r.slice(null==t?0:t,null==n?r.length:n))}function z(e,t,n){const r=R(e);w(t>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:t,offset:t+1});const i=new Uint8Array(t);return i.fill(0),n?i.set(r,t-r.length):i.set(r,0),O(i)}function _(e,t){return z(e,t,!0)}const U=BigInt(0),j=BigInt(1),H=9007199254740991;function W(e,t){let n=G(e,"value");const r=BigInt(Z(t,"width")),i=j<<r-j;if(n<U){n=-n,w(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e});return(~n&(j<<r)-j)+j}return w(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),n}function V(e,t){const n=Q(e,"value"),r=BigInt(Z(t,"bits"));return n&(j<<r)-j}function G(e,t){switch(typeof e){case"bigint":return e;case"number":return x(Number.isInteger(e),"underflow",t||"value",e),x(e>=-H&&e<=H,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw new Error("empty string");return"-"===e[0]&&"-"!==e[1]?-BigInt(e.substring(1)):BigInt(e)}catch(yh){x(!1,"invalid BigNumberish string: ".concat(yh.message),t||"value",e)}}x(!1,"invalid BigNumberish value",t||"value",e)}function Q(e,t){const n=G(e,t);return w(n>=U,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),n}const q="0123456789abcdef";function K(e){if(e instanceof Uint8Array){let t="0x0";for(const n of e)t+=q[n>>4],t+=q[15&n];return BigInt(t)}return G(e)}function Z(e,t){switch(typeof e){case"bigint":return x(e>=-H&&e<=H,"overflow",t||"value",e),Number(e);case"number":return x(Number.isInteger(e),"underflow",t||"value",e),x(e>=-H&&e<=H,"overflow",t||"value",e),e;case"string":try{if(""===e)throw new Error("empty string");return Z(BigInt(e),t)}catch(yh){x(!1,"invalid numeric string: ".concat(yh.message),t||"value",e)}}x(!1,"invalid numeric value",t||"value",e)}function X(e,t){let n=Q(e,"value").toString(16);if(null==t)n.length%2&&(n="0"+n);else{const r=Z(t,"width");for(w(2*r>=n.length,"value exceeds width (".concat(r," bytes)"),"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});n.length<2*r;)n="0"+n}return"0x"+n}function J(e){const t=Q(e,"value");if(t===U)return new Uint8Array([]);let n=t.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let i=0;i<r.length;i++){const e=2*i;r[i]=parseInt(n.substring(e,e+2),16)}return r}function Y(e){let t=O(L(e)?e:J(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return""===t&&(t="0"),"0x"+t}const ee=32,te=new Uint8Array(ee),ne=["then"],re={},ie=new WeakMap;function oe(e){return ie.get(e)}function ae(e,t){ie.set(e,t)}function se(e,t){const n=new Error("deferred error during ABI decoding triggered accessing ".concat(e));throw n.error=t,n}function le(e,t,n){return e.indexOf(null)>=0?t.map(((e,t)=>e instanceof ue?le(oe(e),e,n):e)):e.reduce(((e,r,i)=>{let o=t.getValue(r);return r in e||(n&&o instanceof ue&&(o=le(oe(o),o,n)),e[r]=o),e}),{})}var ce=new WeakMap;class ue extends Array{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t[0];let i=t[1],o=(t[2]||[]).slice(),a=!0;r!==re&&(i=t,o=[],a=!1),super(i.length),l(this,ce,void 0),i.forEach(((e,t)=>{this[t]=e}));const s=o.reduce(((e,t)=>("string"===typeof t&&e.set(t,(e.get(t)||0)+1),e)),new Map);if(ae(this,Object.freeze(i.map(((e,t)=>{const n=o[t];return null!=n&&1===s.get(n)?n:null})))),d(ce,this,[]),null==u(ce,this)&&u(ce,this),!a)return;Object.freeze(this);const c=new Proxy(this,{get:(e,t,n)=>{if("string"===typeof t){if(t.match(/^[0-9]+$/)){const n=Z(t,"%index");if(n<0||n>=this.length)throw new RangeError("out of result range");const r=e[n];return r instanceof Error&&se("index ".concat(n),r),r}if(ne.indexOf(t)>=0)return Reflect.get(e,t,n);const r=e[t];if(r instanceof Function)return function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return r.apply(this===n?e:this,i)};if(!(t in e))return e.getValue.apply(this===n?e:this,[t])}return Reflect.get(e,t,n)}});return ae(c,oe(this)),c}toArray(e){const t=[];return this.forEach(((n,r)=>{n instanceof Error&&se("index ".concat(r),n),e&&n instanceof ue&&(n=n.toArray(e)),t.push(n)})),t}toObject(e){const t=oe(this);return t.reduce(((n,r,i)=>(w(null!=r,"value at index ".concat(i," unnamed"),"UNSUPPORTED_OPERATION",{operation:"toObject()"}),le(t,this,e))),{})}slice(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);const n=oe(this),r=[],i=[];for(let o=e;o<t;o++)r.push(this[o]),i.push(n[o]);return new ue(re,r,i)}filter(e,t){const n=oe(this),r=[],i=[];for(let o=0;o<this.length;o++){const a=this[o];a instanceof Error&&se("index ".concat(o),a),e.call(t,a,o,this)&&(r.push(a),i.push(n[o]))}return new ue(re,r,i)}map(e,t){const n=[];for(let r=0;r<this.length;r++){const i=this[r];i instanceof Error&&se("index ".concat(r),i),n.push(e.call(t,i,r,this))}return n}getValue(e){const t=oe(this).indexOf(e);if(-1===t)return;const n=this[t];return n instanceof Error&&se("property ".concat(JSON.stringify(e)),n.error),n}static fromItems(e,t){return new ue(re,e,t)}}function de(e){let t=J(e);return w(t.length<=ee,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:ee,offset:t.length}),t.length!==ee&&(t=M(F([te.slice(t.length%ee),t]))),t}class he{constructor(e,t,n,r){T(this,"name",void 0),T(this,"type",void 0),T(this,"localName",void 0),T(this,"dynamic",void 0),g(this,{name:e,type:t,localName:n,dynamic:r},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){x(!1,e,this.localName,t)}}var pe=new WeakMap,fe=new WeakMap,ge=new WeakSet;class me{constructor(){A(this,ge),l(this,pe,void 0),l(this,fe,void 0),d(pe,this,[]),d(fe,this,0)}get data(){return F(u(pe,this))}get length(){return u(fe,this)}appendWriter(e){return c(ge,this,ye).call(this,M(e.data))}writeBytes(e){let t=M(e);const n=t.length%ee;return n&&(t=M(F([t,te.slice(n)]))),c(ge,this,ye).call(this,t)}writeValue(e){return c(ge,this,ye).call(this,de(e))}writeUpdatableValue(){const e=u(pe,this).length;return u(pe,this).push(te),d(fe,this,u(fe,this)+ee),t=>{u(pe,this)[e]=de(t)}}}function ye(e){return u(pe,this).push(e),d(fe,this,u(fe,this)+e.length),e.length}var be=new WeakMap,ve=new WeakMap,we=new WeakMap,xe=new WeakMap,$e=new WeakMap,Se=new WeakSet;class ke{constructor(e,t,n){A(this,Se),T(this,"allowLoose",void 0),l(this,be,void 0),l(this,ve,void 0),l(this,we,void 0),l(this,xe,void 0),l(this,$e,void 0),g(this,{allowLoose:!!t}),d(be,this,M(e)),d(we,this,0),d(xe,this,null),d($e,this,null!=n?n:1024),d(ve,this,0)}get data(){return O(u(be,this))}get dataLength(){return u(be,this).length}get consumed(){return u(ve,this)}get bytes(){return new Uint8Array(u(be,this))}subReader(e){const t=new ke(u(be,this).slice(u(ve,this)+e),this.allowLoose,u($e,this));return d(xe,t,this),t}readBytes(e,t){let n=c(Se,this,Ce).call(this,0,e,!!t);return c(Se,this,Ae).call(this,e),d(ve,this,u(ve,this)+n.length),n.slice(0,e)}readValue(){return K(this.readBytes(ee))}readIndex(){return Z(K(this.readBytes(ee)))}}function Ae(e){var t;if(u(xe,this))return c(Se,t=u(xe,this),Ae).call(t,e);d(we,this,u(we,this)+e),w(u($e,this)<1||u(we,this)<=u($e,this)*this.dataLength,"compressed ABI data exceeds inflation ratio of ".concat(u($e,this)," ( see: https://github.com/ethers-io/ethers.js/issues/4537 )"),"BUFFER_OVERRUN",{buffer:M(u(be,this)),offset:u(ve,this),length:e,info:{bytesRead:u(we,this),dataLength:this.dataLength}})}function Ce(e,t,n){let r=Math.ceil(t/ee)*ee;return u(ve,this)+r>u(be,this).length&&(this.allowLoose&&n&&u(ve,this)+t<=u(be,this).length?r=t:w(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:M(u(be,this)),length:u(be,this).length,offset:u(ve,this)+r})),u(be,this).slice(u(ve,this),u(ve,this)+r)}function Ee(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Wrong positive integer: ".concat(e))}function Te(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Expected Uint8Array of length ".concat(n,", not of length=").concat(e.length))}function Pe(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Ee(e.outputLen),Ee(e.blockLen)}function Re(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Me(e,t){Te(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}const Ie=BigInt(2**32-1),Le=BigInt(32);function Be(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&Ie),l:Number(e>>Le&Ie)}:{h:0|Number(e>>Le&Ie),l:0|Number(e&Ie)}}function Oe(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:a}=Be(e[i],t);[n[i],r[i]]=[o,a]}return[n,r]}const Fe=(e,t,n)=>e<<n|t>>>32-n,Ne=(e,t,n)=>t<<n|e>>>32-n,De=(e,t,n)=>t<<n-32|e>>>64-n,ze=(e,t,n)=>e<<n-32|t>>>64-n;const _e={fromBig:Be,split:Oe,toBig:(e,t)=>BigInt(e>>>0)<<Le|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:Fe,rotlSL:Ne,rotlBH:De,rotlBL:ze,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},Ue=_e,je="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,He=e=>e instanceof Uint8Array,We=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ve=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function Ge(e){if("string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got ".concat(typeof e));return new Uint8Array((new TextEncoder).encode(e))}(e)),!He(e))throw new Error("expected Uint8Array, got ".concat(typeof e));return e}class Qe{clone(){return this._cloneInto()}}function qe(e){const t=t=>e().update(Ge(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Ke(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(je&&"function"===typeof je.getRandomValues)return je.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const[Ze,Xe,Je]=[[],[],[]],Ye=BigInt(0),et=BigInt(1),tt=BigInt(2),nt=BigInt(7),rt=BigInt(256),it=BigInt(113);for(let n=0,pN=et,fN=1,gN=0;n<24;n++){[fN,gN]=[gN,(2*fN+3*gN)%5],Ze.push(2*(5*gN+fN)),Xe.push((n+1)*(n+2)/2%64);let e=Ye;for(let t=0;t<7;t++)pN=(pN<<et^(pN>>nt)*it)%rt,pN&tt&&(e^=et<<(et<<BigInt(t))-et);Je.push(e)}const[ot,at]=Oe(Je,!0),st=(e,t,n)=>n>32?De(e,t,n):Fe(e,t,n),lt=(e,t,n)=>n>32?ze(e,t,n):Ne(e,t,n);class ct extends Qe{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ee(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var o;this.state=new Uint8Array(200),this.state32=(o=this.state,new Uint32Array(o.buffer,o.byteOffset,Math.floor(o.byteLength/4)))}keccak(){!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,i=(r+2)%10,o=n[i],a=n[i+1],s=st(o,a,1)^n[t],l=lt(o,a,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=s,e[r+n+1]^=l}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=Xe[n],o=st(t,i,r),a=lt(t,i,r),s=Ze[n];t=e[s],i=e[s+1],e[s]=o,e[s+1]=a}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=ot[r],e[1]^=at[r]}n.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Re(this);const{blockLen:t,state:n}=this,r=(e=Ge(e)).length;for(let i=0;i<r;){const o=Math.min(t-this.pos,r-i);for(let t=0;t<o;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){Re(this,!1),Te(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+o),r),this.posOut+=o,r+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ee(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Me(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:o}=this;return e||(e=new ct(t,n,r,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=o,e.destroyed=this.destroyed,e}}const ut=(e,t,n)=>qe((()=>new ct(t,e,n))),dt=ut(1,136,32);let ht=!1;const pt=function(e){return dt(e)};let ft=pt;function gt(e){const t=R(e,"data");return O(ft(t))}gt._=pt,gt.lock=function(){ht=!0},gt.register=function(e){if(ht)throw new TypeError("keccak256 is locked");ft=e},Object.freeze(gt);const mt=BigInt(0),yt=BigInt(36);function bt(e){const t=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=t[i].charCodeAt(0);const r=R(gt(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(15&r[i>>1])>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const vt={};for(let n=0;n<10;n++)vt[String(n)]=String(n);for(let n=0;n<26;n++)vt[String.fromCharCode(65+n)]=String(10+n);const wt=15;function xt(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>vt[e])).join("");for(;t.length>=wt;){let e=t.substring(0,wt);t=parseInt(e,10)%97+t.substring(e.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}const $t=function(){const e={};for(let t=0;t<36;t++){e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t)}return e}();function St(e){if(x("string"===typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=bt(e);return x(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){x(e.substring(2,4)===xt(e),"bad icap checksum","address",e);let t=function(e){e=e.toLowerCase();let t=mt;for(let n=0;n<e.length;n++)t=t*yt+$t[e[n]];return t}(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return bt("0x"+t)}x(!1,"invalid address","address",e)}const kt={};function At(e,t){let n=!1;return t<0&&(n=!0,t*=-1),new Pt(kt,"".concat(n?"":"u","int").concat(t),e,{signed:n,width:t})}function Ct(e,t){return new Pt(kt,"bytes".concat(t||""),e,{size:t})}const Et=Symbol.for("_ethers_typed");var Tt=new WeakMap;class Pt{constructor(e,t,n,r){T(this,"type",void 0),T(this,"value",void 0),l(this,Tt,void 0),T(this,"_typedSymbol",void 0),null==r&&(r=null),k(kt,e,"Typed"),g(this,{_typedSymbol:Et,type:t,value:n}),d(Tt,this,r),this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?"tuple(".concat(this.value.map((e=>e.format())).join(","),")"):this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return u(Tt,this)}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===u(Tt,this)?-1:!1===u(Tt,this)?this.value.length:null}static from(e,t){return new Pt(kt,e,t)}static uint8(e){return At(e,8)}static uint16(e){return At(e,16)}static uint24(e){return At(e,24)}static uint32(e){return At(e,32)}static uint40(e){return At(e,40)}static uint48(e){return At(e,48)}static uint56(e){return At(e,56)}static uint64(e){return At(e,64)}static uint72(e){return At(e,72)}static uint80(e){return At(e,80)}static uint88(e){return At(e,88)}static uint96(e){return At(e,96)}static uint104(e){return At(e,104)}static uint112(e){return At(e,112)}static uint120(e){return At(e,120)}static uint128(e){return At(e,128)}static uint136(e){return At(e,136)}static uint144(e){return At(e,144)}static uint152(e){return At(e,152)}static uint160(e){return At(e,160)}static uint168(e){return At(e,168)}static uint176(e){return At(e,176)}static uint184(e){return At(e,184)}static uint192(e){return At(e,192)}static uint200(e){return At(e,200)}static uint208(e){return At(e,208)}static uint216(e){return At(e,216)}static uint224(e){return At(e,224)}static uint232(e){return At(e,232)}static uint240(e){return At(e,240)}static uint248(e){return At(e,248)}static uint256(e){return At(e,256)}static uint(e){return At(e,256)}static int8(e){return At(e,-8)}static int16(e){return At(e,-16)}static int24(e){return At(e,-24)}static int32(e){return At(e,-32)}static int40(e){return At(e,-40)}static int48(e){return At(e,-48)}static int56(e){return At(e,-56)}static int64(e){return At(e,-64)}static int72(e){return At(e,-72)}static int80(e){return At(e,-80)}static int88(e){return At(e,-88)}static int96(e){return At(e,-96)}static int104(e){return At(e,-104)}static int112(e){return At(e,-112)}static int120(e){return At(e,-120)}static int128(e){return At(e,-128)}static int136(e){return At(e,-136)}static int144(e){return At(e,-144)}static int152(e){return At(e,-152)}static int160(e){return At(e,-160)}static int168(e){return At(e,-168)}static int176(e){return At(e,-176)}static int184(e){return At(e,-184)}static int192(e){return At(e,-192)}static int200(e){return At(e,-200)}static int208(e){return At(e,-208)}static int216(e){return At(e,-216)}static int224(e){return At(e,-224)}static int232(e){return At(e,-232)}static int240(e){return At(e,-240)}static int248(e){return At(e,-248)}static int256(e){return At(e,-256)}static int(e){return At(e,-256)}static bytes1(e){return Ct(e,1)}static bytes2(e){return Ct(e,2)}static bytes3(e){return Ct(e,3)}static bytes4(e){return Ct(e,4)}static bytes5(e){return Ct(e,5)}static bytes6(e){return Ct(e,6)}static bytes7(e){return Ct(e,7)}static bytes8(e){return Ct(e,8)}static bytes9(e){return Ct(e,9)}static bytes10(e){return Ct(e,10)}static bytes11(e){return Ct(e,11)}static bytes12(e){return Ct(e,12)}static bytes13(e){return Ct(e,13)}static bytes14(e){return Ct(e,14)}static bytes15(e){return Ct(e,15)}static bytes16(e){return Ct(e,16)}static bytes17(e){return Ct(e,17)}static bytes18(e){return Ct(e,18)}static bytes19(e){return Ct(e,19)}static bytes20(e){return Ct(e,20)}static bytes21(e){return Ct(e,21)}static bytes22(e){return Ct(e,22)}static bytes23(e){return Ct(e,23)}static bytes24(e){return Ct(e,24)}static bytes25(e){return Ct(e,25)}static bytes26(e){return Ct(e,26)}static bytes27(e){return Ct(e,27)}static bytes28(e){return Ct(e,28)}static bytes29(e){return Ct(e,29)}static bytes30(e){return Ct(e,30)}static bytes31(e){return Ct(e,31)}static bytes32(e){return Ct(e,32)}static address(e){return new Pt(kt,"address",e)}static bool(e){return new Pt(kt,"bool",!!e)}static bytes(e){return new Pt(kt,"bytes",e)}static string(e){return new Pt(kt,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new Pt(kt,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"===typeof e&&"_typedSymbol"in e&&e._typedSymbol===Et}static dereference(e,t){if(Pt.isTyped(e)){if(e.type!==t)throw new Error("invalid type: expecetd ".concat(t,", got ").concat(e.type));return e.value}return e}}class Rt extends he{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let n=Pt.dereference(t,"string");try{n=St(n)}catch(r){return this._throwError(r.message,t)}return e.writeValue(n)}decode(e){return St(X(e.readValue(),20))}}class Mt extends he{constructor(e){super(e.name,e.type,"_",e.dynamic),T(this,"coder",void 0),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function It(e,t,n){let r=[];if(Array.isArray(n))r=n;else if(n&&"object"===typeof n){let e={};r=t.map((t=>{const r=t.localName;return w(r,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),w(!e[r],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),e[r]=!0,n[r]}))}else x(!1,"invalid tuple value","tuple",n);x(t.length===r.length,"types/value length mismatch","tuple",n);let i=new me,o=new me,a=[];t.forEach(((e,t)=>{let n=r[t];if(e.dynamic){let t=o.length;e.encode(o,n);let r=i.writeUpdatableValue();a.push((e=>{r(e+t)}))}else e.encode(i,n)})),a.forEach((e=>{e(i.length)}));let s=e.appendWriter(i);return s+=e.appendWriter(o),s}function Lt(e,t){let n=[],r=[],i=e.subReader(0);return t.forEach((t=>{let o=null;if(t.dynamic){let n=e.readIndex(),r=i.subReader(n);try{o=t.decode(r)}catch(a){if(y(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=t.name,o.name=t.localName,o.type=t.type}}else try{o=t.decode(e)}catch(a){if(y(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=t.name,o.name=t.localName,o.type=t.type}if(void 0==o)throw new Error("investigate");n.push(o),r.push(t.localName||null)})),ue.fromItems(n,r)}class Bt extends he{constructor(e,t,n){super("array",e.type+"["+(t>=0?t:"")+"]",n,-1===t||e.dynamic),T(this,"coder",void 0),T(this,"length",void 0),g(this,{coder:e,length:t})}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){const n=Pt.dereference(t,"array");Array.isArray(n)||this._throwError("expected array value",n);let r=this.length;-1===r&&(r=n.length,e.writeValue(n.length)),$(n.length,r,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let o=0;o<n.length;o++)i.push(this.coder);return It(e,i,n)}decode(e){let t=this.length;-1===t&&(t=e.readIndex(),w(t*ee<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*ee,length:e.dataLength}));let n=[];for(let r=0;r<t;r++)n.push(new Mt(this.coder));return Lt(e,n)}}class Ot extends he{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const n=Pt.dereference(t,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class Ft extends he{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=M(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class Nt extends Ft{constructor(e){super("bytes",e)}decode(e){return O(super.decode(e))}}class Dt extends he{constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),T(this,"size",void 0),g(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let n=M(Pt.dereference(t,this.type));return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return O(e.readBytes(this.size))}}const zt=new Uint8Array([]);class _t extends he{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes(zt)}decode(e){return e.readBytes(0),null}}const Ut=BigInt(0),jt=BigInt(1),Ht=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Wt extends he{constructor(e,t,n){const r=(t?"int":"uint")+8*e;super(r,r,n,!1),T(this,"size",void 0),T(this,"signed",void 0),g(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let n=G(Pt.dereference(t,this.type)),r=V(Ht,256);if(this.signed){let e=V(r,8*this.size-1);(n>e||n<-(e+jt))&&this._throwError("value out-of-bounds",t),n=W(n,256)}else(n<Ut||n>V(r,8*this.size))&&this._throwError("value out-of-bounds",t);return e.writeValue(n)}decode(e){let t=V(e.readValue(),8*this.size);return this.signed&&(t=function(e,t){const n=Q(e,"value"),r=BigInt(Z(t,"width"));if(w(n>>r===U,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),n>>r-j)return-((~n&(j<<r)-j)+j);return n}(t,8*this.size)),t}}function Vt(e,t,n,r,i){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let r=t+1;r<n.length&&n[r]>>6===2;r++)e++;return e}return"OVERRUN"===e?n.length-t-1:0}const Gt=Object.freeze({error:function(e,t,n,r,i){x(!1,"invalid codepoint at offset ".concat(t,"; ").concat(e),"bytes",n)},ignore:Vt,replace:function(e,t,n,r,i){return"OVERLONG"===e?(x("number"===typeof i,"invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),Vt(e,t,n))}});function Qt(e,t){null==t&&(t=Gt.error);const n=R(e,"bytes"),r=[];let i=0;for(;i<n.length;){const e=n[i++];if(e>>7===0){r.push(e);continue}let o=null,a=null;if(192===(224&e))o=1,a=127;else if(224===(240&e))o=2,a=2047;else{if(240!==(248&e)){i+=t(128===(192&e)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",i-1,n,r);continue}o=3,a=65535}if(i-1+o>=n.length){i+=t("OVERRUN",i-1,n,r);continue}let s=e&(1<<8-o-1)-1;for(let l=0;l<o;l++){let e=n[i];if(128!=(192&e)){i+=t("MISSING_CONTINUE",i,n,r),s=null;break}s=s<<6|63&e,i++}null!==s&&(s>1114111?i+=t("OUT_OF_RANGE",i-1-o,n,r,s):s>=55296&&s<=57343?i+=t("UTF16_SURROGATE",i-1-o,n,r,s):s<=a?i+=t("OVERLONG",i-1-o,n,r,s):r.push(s))}return r}function qt(e,t){x("string"===typeof e,"invalid string value","str",e),null!=t&&(!function(e){w(S.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}(t),e=e.normalize(t));let n=[];for(let r=0;r<e.length;r++){const t=e.charCodeAt(r);if(t<128)n.push(t);else if(t<2048)n.push(t>>6|192),n.push(63&t|128);else if(55296==(64512&t)){r++;const i=e.charCodeAt(r);x(r<e.length&&56320===(64512&i),"invalid surrogate pair","str",e);const o=65536+((1023&t)<<10)+(1023&i);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(63&o|128)}else n.push(t>>12|224),n.push(t>>6&63|128),n.push(63&t|128)}return new Uint8Array(n)}function Kt(e,t){return Qt(e,t).map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("")}class Zt extends Ft{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,qt(Pt.dereference(t,"string")))}decode(e){return Kt(super.decode(e))}}class Xt extends he{constructor(e,t){let n=!1;const r=[];e.forEach((e=>{e.dynamic&&(n=!0),r.push(e.type)}));super("tuple","tuple("+r.join(",")+")",t,n),T(this,"coders",void 0),g(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const n=t.localName;return n&&(e[n]||(e[n]=0),e[n]++),e}),{});return this.coders.forEach(((n,r)=>{let i=n.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[r]))})),Object.freeze(e)}encode(e,t){const n=Pt.dereference(t,"tuple");return It(e,this.coders,n)}decode(e){return Lt(e,this.coders)}}function Jt(e){return gt(qt(e))}var Yt;function en(e){const t=new Set;return e.forEach((e=>t.add(e))),Object.freeze(t)}const tn=en("external public payable override".split(" ")),nn="constant external internal payable private public pure view override",rn=en(nn.split(" ")),on="constructor error event fallback function receive struct",an=en(on.split(" ")),sn="calldata memory storage payable indexed",ln=en(sn.split(" ")),cn=en([on,sn,"tuple returns",nn].join(" ").split(" ")),un={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},dn=new RegExp("^(\\s*)"),hn=new RegExp("^([0-9]+)"),pn=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),fn=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),gn=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var mn=new WeakMap,yn=new WeakMap,bn=new WeakSet;class vn{get offset(){return u(mn,this)}get length(){return u(yn,this).length-u(mn,this)}constructor(e){A(this,bn),l(this,mn,void 0),l(this,yn,void 0),d(mn,this,0),d(yn,this,e.slice())}clone(){return new vn(u(yn,this))}reset(){d(mn,this,0)}popKeyword(e){const t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw new Error("expected keyword ".concat(t.text));return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error("expected ".concat(e,"; got ").concat(t.type," ").concat(JSON.stringify(t.text)))}return this.pop().text}popParen(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=c(bn,this,wn).call(this,u(mn,this)+1,e.match+1);return d(mn,this,e.match+1),t}popParams(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=[];for(;u(mn,this)<e.match-1;){const e=this.peek().linkNext;t.push(c(bn,this,wn).call(this,u(mn,this)+1,e)),d(mn,this,e)}return d(mn,this,e.match+1),t}peek(){if(u(mn,this)>=u(yn,this).length)throw new Error("out-of-bounds");return u(yn,this)[u(mn,this)]}peekKeyword(e){const t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;const t=this.peek();return t.type===e?t.text:null}pop(){var e;const t=this.peek();return d(mn,this,(e=u(mn,this),e++,e)),t}toString(){const e=[];for(let t=u(mn,this);t<u(yn,this).length;t++){const n=u(yn,this)[t];e.push("".concat(n.type,":").concat(n.text))}return"<TokenString ".concat(e.join(" "),">")}}function wn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Yt(u(yn,this).slice(e,t).map((t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e})))))}function xn(e){const t=[],n=t=>{const n=o<e.length?JSON.stringify(e[o]):"$EOI";throw new Error("invalid token ".concat(n," at ").concat(o,": ").concat(t))};let r=[],i=[],o=0;for(;o<e.length;){let a=e.substring(o),s=a.match(dn);s&&(o+=s[1].length,a=e.substring(o));const l={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:o,value:-1};t.push(l);let c=un[a[0]]||"";if(c){if(l.type=c,l.text=a[0],o++,"OPEN_PAREN"===c)r.push(t.length-1),i.push(t.length-1);else if("CLOSE_PAREN"==c)0===r.length&&n("no matching open bracket"),l.match=r.pop(),t[l.match].match=t.length-1,l.depth--,l.linkBack=i.pop(),t[l.linkBack].linkNext=t.length-1;else if("COMMA"===c)l.linkBack=i.pop(),t[l.linkBack].linkNext=t.length-1,i.push(t.length-1);else if("OPEN_BRACKET"===c)l.type="BRACKET";else if("CLOSE_BRACKET"===c){let e=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){const n=t.pop().text;e=n+e,t[t.length-1].value=Z(n)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw new Error("missing opening bracket");t[t.length-1].text+=e}}else if(s=a.match(pn),s){if(l.text=s[1],o+=l.text.length,cn.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(gn)){l.type="TYPE";continue}l.type="ID"}else{if(s=a.match(hn),!s)throw new Error("unexpected token ".concat(JSON.stringify(a[0])," at position ").concat(o));l.text=s[1],l.type="NUMBER",o+=l.text.length}}return new vn(t.map((e=>Object.freeze(e))))}function $n(e,t){let n=[];for(const r in t.keys())e.has(r)&&n.push(r);if(n.length>1)throw new Error("conflicting types: ".concat(n.join(", ")))}function Sn(e,t){if(t.peekKeyword(an)){const n=t.pop().text;if(n!==e)throw new Error("expected ".concat(e,", got ").concat(n))}return t.popType("ID")}function kn(e,t){const n=new Set;for(;;){const r=e.peekType("KEYWORD");if(null==r||t&&!t.has(r))break;if(e.pop(),n.has(r))throw new Error("duplicate keywords: ".concat(JSON.stringify(r)));n.add(r)}return Object.freeze(n)}function An(e){let t=kn(e,rn);return $n(t,en("constant payable nonpayable".split(" "))),$n(t,en("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function Cn(e,t){return e.popParams().map((e=>Un.from(e,t)))}function En(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return G(e.pop().text);throw new Error("invalid gas")}return null}function Tn(e){if(e.length)throw new Error("unexpected tokens at offset ".concat(e.offset,": ").concat(e.toString()))}Yt=vn;const Pn=new RegExp(/^(.*)\[([0-9]*)\]$/);function Rn(e){const t=e.match(gn);if(x(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){const n=parseInt(t[2]);x(0!==n&&n<=32,"invalid bytes length","type",e)}else if(t[3]){const n=parseInt(t[3]);x(0!==n&&n<=256&&n%8===0,"invalid numeric width","type",e)}return e}const Mn={},In=Symbol.for("_ethers_internal"),Ln="_ParamTypeInternal",Bn="_ErrorInternal",On="_EventInternal",Fn="_ConstructorInternal",Nn="_FallbackInternal",Dn="_FunctionInternal",zn="_StructInternal";var _n=new WeakSet;class Un{constructor(e,t,n,r,i,o,a,s){if(A(this,_n),T(this,"name",void 0),T(this,"type",void 0),T(this,"baseType",void 0),T(this,"indexed",void 0),T(this,"components",void 0),T(this,"arrayLength",void 0),T(this,"arrayChildren",void 0),k(e,Mn,"ParamType"),Object.defineProperty(this,In,{value:Ln}),o&&(o=Object.freeze(o.slice())),"array"===r){if(null==a||null==s)throw new Error("")}else if(null!=a||null!=s)throw new Error("");if("tuple"===r){if(null==o)throw new Error("")}else if(null!=o)throw new Error("");g(this,{name:t,type:n,baseType:r,indexed:i,components:o,arrayLength:a,arrayChildren:s})}format(e){if(null==e&&(e="sighash"),"json"===e){const t=this.name||"";if(this.isArray()){const e=JSON.parse(this.arrayChildren.format("json"));return e.name=t,e.type+="[".concat(this.arrayLength<0?"":String(this.arrayLength),"]"),JSON.stringify(e)}const n={type:"tuple"===this.baseType?"tuple":this.type,name:t};return"boolean"===typeof this.indexed&&(n.indexed=this.indexed),this.isTuple()&&(n.components=this.components.map((t=>JSON.parse(t.format(e))))),JSON.stringify(n)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+="[".concat(this.arrayLength<0?"":String(this.arrayLength),"]")):this.isTuple()?t+="("+this.components.map((t=>t.format(e))).join("full"===e?", ":",")+")":t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map((e=>n.arrayChildren.walk(e,t)))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map(((e,r)=>n.components[r].walk(e,t)))}return t(this.type,e)}async walkAsync(e,t){const n=[],r=[e];return c(_n,this,jn).call(this,n,e,t,(e=>{r[0]=e})),n.length&&await Promise.all(n),r[0]}static from(e,t){if(Un.isParamType(e))return e;if("string"===typeof e)try{return Un.from(xn(e),t)}catch(a){x(!1,"invalid param type","obj",e)}else if(e instanceof vn){let n="",r="",i=null;kn(e,en(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(r="tuple",i=e.popParams().map((e=>Un.from(e))),n="tuple(".concat(i.map((e=>e.format())).join(","),")")):(n=Rn(e.popType("TYPE")),r=n);let o=null,a=null;for(;e.length&&e.peekType("BRACKET");){const t=e.pop();o=new Un(Mn,"",n,r,null,i,a,o),a=t.value,n+=t.text,r="array",i=null}let s=null;if(kn(e,ln).has("indexed")){if(!t)throw new Error("");s=!0}const l=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Un(Mn,l,n,r,s,i,a,o)}const n=e.name;x(!n||"string"===typeof n&&n.match(fn),"invalid name","obj.name",n);let r=e.indexed;null!=r&&(x(t,"parameter cannot be indexed","obj.indexed",e.indexed),r=!!r);let i=e.type,o=i.match(Pn);if(o){const t=parseInt(o[2]||"-1"),a=Un.from({type:o[1],components:e.components});return new Un(Mn,n||"",i,"array",r,null,t,a)}if("tuple"===i||i.startsWith("tuple(")||i.startsWith("(")){const t=null!=e.components?e.components.map((e=>Un.from(e))):null;return new Un(Mn,n||"",i,"tuple",r,t,null,null)}return i=Rn(e.type),new Un(Mn,n||"",i,i,r,null,null,null)}static isParamType(e){return e&&e[In]===Ln}}function jn(e,t,n,r){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");const i=this.arrayChildren,o=t.slice();return o.forEach(((t,r)=>{c(_n,i,jn).call(i,e,t,n,(e=>{o[r]=e}))})),void r(o)}if(this.isTuple()){const i=this.components;let o;if(Array.isArray(t))o=t.slice();else{if(null==t||"object"!==typeof t)throw new Error("invalid tuple value");o=i.map((e=>{if(!e.name)throw new Error("cannot use object value with unnamed components");if(!(e.name in t))throw new Error("missing value for component ".concat(e.name));return t[e.name]}))}if(o.length!==this.components.length)throw new Error("array is wrong length");return o.forEach(((t,r)=>{var a;c(_n,a=i[r],jn).call(a,e,t,n,(e=>{o[r]=e}))})),void r(o)}const i=n(this.type,t);i.then?e.push(async function(){r(await i)}()):r(i)}class Hn{constructor(e,t,n){T(this,"type",void 0),T(this,"inputs",void 0),k(e,Mn,"Fragment"),g(this,{type:t,inputs:n=Object.freeze(n.slice())})}static from(e){if("string"===typeof e){try{Hn.from(JSON.parse(e))}catch(yh){}return Hn.from(xn(e))}if(e instanceof vn){switch(e.peekKeyword(an)){case"constructor":return qn.from(e);case"error":return Gn.from(e);case"event":return Qn.from(e);case"fallback":case"receive":return Kn.from(e);case"function":return Zn.from(e);case"struct":return Xn.from(e)}}else if("object"===typeof e){switch(e.type){case"constructor":return qn.from(e);case"error":return Gn.from(e);case"event":return Qn.from(e);case"fallback":case"receive":return Kn.from(e);case"function":return Zn.from(e);case"struct":return Xn.from(e)}w(!1,"unsupported type: ".concat(e.type),"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}x(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return qn.isFragment(e)}static isError(e){return Gn.isFragment(e)}static isEvent(e){return Qn.isFragment(e)}static isFunction(e){return Zn.isFragment(e)}static isStruct(e){return Xn.isFragment(e)}}class Wn extends Hn{constructor(e,t,n,r){super(e,t,r),T(this,"name",void 0),x("string"===typeof n&&n.match(fn),"invalid identifier","name",n),r=Object.freeze(r.slice()),g(this,{name:n})}}function Vn(e,t){return"("+t.map((t=>t.format(e))).join("full"===e?", ":",")+")"}class Gn extends Wn{constructor(e,t,n){super(e,"error",t,n),Object.defineProperty(this,In,{value:Bn})}get selector(){return Jt(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+Vn(e,this.inputs)),t.join(" ")}static from(e){if(Gn.isFragment(e))return e;if("string"===typeof e)return Gn.from(xn(e));if(e instanceof vn){const t=Sn("error",e),n=Cn(e);return Tn(e),new Gn(Mn,t,n)}return new Gn(Mn,e.name,e.inputs?e.inputs.map(Un.from):[])}static isFragment(e){return e&&e[In]===Bn}}class Qn extends Wn{constructor(e,t,n,r){super(e,"event",t,n),T(this,"anonymous",void 0),Object.defineProperty(this,In,{value:On}),g(this,{anonymous:r})}get topicHash(){return Jt(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+Vn(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){t=(t||[]).map((e=>Un.from(e)));return new Qn(Mn,e,t,!1).topicHash}static from(e){if(Qn.isFragment(e))return e;if("string"===typeof e)try{return Qn.from(xn(e))}catch(t){x(!1,"invalid event fragment","obj",e)}else if(e instanceof vn){const t=Sn("event",e),n=Cn(e,!0),r=!!kn(e,en(["anonymous"])).has("anonymous");return Tn(e),new Qn(Mn,t,n,r)}return new Qn(Mn,e.name,e.inputs?e.inputs.map((e=>Un.from(e,!0))):[],!!e.anonymous)}static isFragment(e){return e&&e[In]===On}}class qn extends Hn{constructor(e,t,n,r,i){super(e,t,n),T(this,"payable",void 0),T(this,"gas",void 0),Object.defineProperty(this,In,{value:Fn}),g(this,{payable:r,gas:i})}format(e){if(w(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=["constructor".concat(Vn(e,this.inputs))];return this.payable&&t.push("payable"),null!=this.gas&&t.push("@".concat(this.gas.toString())),t.join(" ")}static from(e){if(qn.isFragment(e))return e;if("string"===typeof e)try{return qn.from(xn(e))}catch(t){x(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof vn){kn(e,en(["constructor"]));const t=Cn(e),n=!!kn(e,tn).has("payable"),r=En(e);return Tn(e),new qn(Mn,"constructor",t,n,r)}return new qn(Mn,"constructor",e.inputs?e.inputs.map(Un.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[In]===Fn}}class Kn extends Hn{constructor(e,t,n){super(e,"fallback",t),T(this,"payable",void 0),Object.defineProperty(this,In,{value:Nn}),g(this,{payable:n})}format(e){const t=0===this.inputs.length?"receive":"fallback";if("json"===e){const e=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:e})}return"".concat(t,"()").concat(this.payable?" payable":"")}static from(e){if(Kn.isFragment(e))return e;if("string"===typeof e)try{return Kn.from(xn(e))}catch(t){x(!1,"invalid fallback fragment","obj",e)}else if(e instanceof vn){const t=e.toString();x(e.peekKeyword(en(["fallback","receive"])),"type must be fallback or receive","obj",t);if("receive"===e.popKeyword(en(["fallback","receive"]))){const t=Cn(e);return x(0===t.length,"receive cannot have arguments","obj.inputs",t),kn(e,en(["payable"])),Tn(e),new Kn(Mn,[],!0)}let n=Cn(e);n.length?x(1===n.length&&"bytes"===n[0].type,"invalid fallback inputs","obj.inputs",n.map((e=>e.format("minimal"))).join(", ")):n=[Un.from("bytes")];const r=An(e);if(x("nonpayable"===r||"payable"===r,"fallback cannot be constants","obj.stateMutability",r),kn(e,en(["returns"])).has("returns")){const t=Cn(e);x(1===t.length&&"bytes"===t[0].type,"invalid fallback outputs","obj.outputs",t.map((e=>e.format("minimal"))).join(", "))}return Tn(e),new Kn(Mn,n,"payable"===r)}if("receive"===e.type)return new Kn(Mn,[],!0);if("fallback"===e.type){const t=[Un.from("bytes")],n="payable"===e.stateMutability;return new Kn(Mn,t,n)}x(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[In]===Nn}}class Zn extends Wn{constructor(e,t,n,r,i,o){super(e,"function",t,r),T(this,"constant",void 0),T(this,"outputs",void 0),T(this,"stateMutability",void 0),T(this,"payable",void 0),T(this,"gas",void 0),Object.defineProperty(this,In,{value:Dn});g(this,{constant:"view"===n||"pure"===n,gas:o,outputs:i=Object.freeze(i.slice()),payable:"payable"===n,stateMutability:n})}get selector(){return Jt(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e)))),outputs:this.outputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+Vn(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(Vn(e,this.outputs))),null!=this.gas&&t.push("@".concat(this.gas.toString()))),t.join(" ")}static getSelector(e,t){t=(t||[]).map((e=>Un.from(e)));return new Zn(Mn,e,"view",t,[],null).selector}static from(e){if(Zn.isFragment(e))return e;if("string"===typeof e)try{return Zn.from(xn(e))}catch(n){x(!1,"invalid function fragment","obj",e)}else if(e instanceof vn){const t=Sn("function",e),n=Cn(e),r=An(e);let i=[];kn(e,en(["returns"])).has("returns")&&(i=Cn(e));const o=En(e);return Tn(e),new Zn(Mn,t,r,n,i,o)}let t=e.stateMutability;return null==t&&(t="payable","boolean"===typeof e.constant?(t="view",e.constant||(t="payable","boolean"!==typeof e.payable||e.payable||(t="nonpayable"))):"boolean"!==typeof e.payable||e.payable||(t="nonpayable")),new Zn(Mn,e.name,t,e.inputs?e.inputs.map(Un.from):[],e.outputs?e.outputs.map(Un.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[In]===Dn}}class Xn extends Wn{constructor(e,t,n){super(e,"struct",t,n),Object.defineProperty(this,In,{value:zn})}format(){throw new Error("@TODO")}static from(e){if("string"===typeof e)try{return Xn.from(xn(e))}catch(t){x(!1,"invalid struct fragment","obj",e)}else if(e instanceof vn){const t=Sn("struct",e),n=Cn(e);return Tn(e),new Xn(Mn,t,n)}return new Xn(Mn,e.name,e.inputs?e.inputs.map(Un.from):[])}static isFragment(e){return e&&e[In]===zn}}const Jn=new Map;Jn.set(0,"GENERIC_PANIC"),Jn.set(1,"ASSERT_FALSE"),Jn.set(17,"OVERFLOW"),Jn.set(18,"DIVIDE_BY_ZERO"),Jn.set(33,"ENUM_RANGE_ERROR"),Jn.set(34,"BAD_STORAGE_DATA"),Jn.set(49,"STACK_UNDERFLOW"),Jn.set(50,"ARRAY_RANGE_ERROR"),Jn.set(65,"OUT_OF_MEMORY"),Jn.set(81,"UNINITIALIZED_FUNCTION_CALL");const Yn=new RegExp(/^bytes([0-9]*)$/),er=new RegExp(/^(u?int)([0-9]*)$/);let tr=null,nr=1024;var rr=new WeakSet;class ir{constructor(){A(this,rr)}getDefaultValue(e){const t=e.map((e=>c(rr,this,or).call(this,Un.from(e))));return new Xt(t,"_").defaultValue()}encode(e,t){$(t.length,e.length,"types/values length mismatch");const n=e.map((e=>c(rr,this,or).call(this,Un.from(e)))),r=new Xt(n,"_"),i=new me;return r.encode(i,t),i.data}decode(e,t,n){const r=e.map((e=>c(rr,this,or).call(this,Un.from(e))));return new Xt(r,"_").decode(new ke(t,n,nr))}static _setDefaultMaxInflation(e){x("number"===typeof e&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),nr=e}static defaultAbiCoder(){return null==tr&&(tr=new ir),tr}static getBuiltinCallException(e,t,n){return function(e,t,n,r){let i="missing revert data",o=null,a=null;if(n){i="execution reverted";const e=R(n);if(n=O(n),0===e.length)i+=" (no data present; likely require(false) occurred",o="require(false)";else if(e.length%32!==4)i+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===O(e.slice(0,4)))try{o=r.decode(["string"],e.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[o]},i+=": ".concat(JSON.stringify(o))}catch(l){i+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===O(e.slice(0,4)))try{const t=Number(r.decode(["uint256"],e.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[t]},o="Panic due to ".concat(Jn.get(t)||"UNKNOWN","(").concat(t,")"),i+=": ".concat(o)}catch(l){i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const s={to:t.to?St(t.to):null,data:t.data||"0x"};return t.from&&(s.from=St(t.from)),v(i,"CALL_EXCEPTION",{action:e,data:n,reason:o,transaction:s,invocation:null,revert:a})}(e,t,n,ir.defaultAbiCoder())}}function or(e){if(e.isArray())return new Bt(c(rr,this,or).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Xt(e.components.map((e=>c(rr,this,or).call(this,e))),e.name);switch(e.baseType){case"address":return new Rt(e.name);case"bool":return new Ot(e.name);case"string":return new Zt(e.name);case"bytes":return new Nt(e.name);case"":return new _t(e.name)}let t=e.type.match(er);if(t){let n=parseInt(t[2]||"256");return x(0!==n&&n<=256&&n%8===0,"invalid "+t[1]+" bit length","param",e),new Wt(n/8,"int"===t[1],e.name)}if(t=e.type.match(Yn),t){let n=parseInt(t[1]);return x(0!==n&&n<=32,"invalid bytes length","param",e),new Dt(n,e.name)}x(!1,"invalid type","type",e.type)}function ar(e){return e&&"function"===typeof e.getAddress}async function sr(e,t){const n=await t;return null!=n&&"0x0000000000000000000000000000000000000000"!==n||(w("string"!==typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),x(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),St(n)}function lr(e,t){return"string"===typeof e?e.match(/^0x[0-9a-f]{40}$/i)?St(e):(w(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),sr(e,t.resolveName(e))):ar(e)?sr(e,e.getAddress()):e&&"function"===typeof e.then?sr(e,e):void x(!1,"unsupported addressable value","target",e)}const cr=new Uint8Array(32);cr.fill(0);const ur=BigInt(-1),dr=BigInt(0),hr=BigInt(1),pr=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const fr=X(hr,32),gr=X(dr,32),mr={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},yr=["name","version","chainId","verifyingContract","salt"];function br(e){return function(t){return x("string"===typeof t,"invalid domain value for ".concat(JSON.stringify(e)),"domain.".concat(e),t),t}}const vr={name:br("name"),version:br("version"),chainId:function(e){const t=G(e,"domain.chainId");return x(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t)?Number(t):Y(t)},verifyingContract:function(e){try{return St(e).toLowerCase()}catch(t){}x(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){const t=R(e,"domain.salt");return x(32===t.length,'invalid domain value "salt"',"domain.salt",e),O(t)}};function wr(e){{const t=e.match(/^(u?)int(\d+)$/);if(t){const n=""===t[1],r=parseInt(t[2]);x(r%8===0&&0!==r&&r<=256&&t[2]===String(r),"invalid numeric width","type",e);const i=V(pr,n?r-1:r),o=n?(i+hr)*ur:dr;return function(t){const r=G(t,"value");return x(r>=o&&r<=i,"value out-of-bounds for ".concat(e),"value",r),X(n?W(r,256):r,32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const n=parseInt(t[1]);return x(0!==n&&n<=32&&t[1]===String(n),"invalid bytes width","type",e),function(t){return x(R(t).length===n,"invalid length for ".concat(e),"value",t),function(e){const t=R(e),n=t.length%32;return n?F([t,cr.slice(n)]):O(t)}(t)}}}switch(e){case"address":return function(e){return _(St(e),32)};case"bool":return function(e){return e?fr:gr};case"bytes":return function(e){return gt(e)};case"string":return function(e){return Jt(e)}}return null}function xr(e,t){return"".concat(e,"(").concat(t.map((e=>{let{name:t,type:n}=e;return n+" "+t})).join(","),")")}function $r(e){const t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:e}}var Sr=new WeakMap,kr=new WeakMap,Ar=new WeakMap,Cr=new WeakSet;class Er{get types(){return JSON.parse(u(Sr,this))}constructor(e){A(this,Cr),T(this,"primaryType",void 0),l(this,Sr,void 0),l(this,kr,void 0),l(this,Ar,void 0),d(kr,this,new Map),d(Ar,this,new Map);const t=new Map,n=new Map,r=new Map,i={};Object.keys(e).forEach((o=>{i[o]=e[o].map((t=>{let{name:n,type:r}=t,{base:i,index:o}=$r(r);return"int"!==i||e.int||(i="int256"),"uint"!==i||e.uint||(i="uint256"),{name:n,type:i+(o||"")}})),t.set(o,new Set),n.set(o,[]),r.set(o,new Set)})),d(Sr,this,JSON.stringify(i));for(const a in i){const r=new Set;for(const o of i[a]){x(!r.has(o.name),"duplicate variable name ".concat(JSON.stringify(o.name)," in ").concat(JSON.stringify(a)),"types",e),r.add(o.name);const i=$r(o.type).base;x(i!==a,"circular type reference to ".concat(JSON.stringify(i)),"types",e);wr(i)||(x(n.has(i),"unknown type ".concat(JSON.stringify(i)),"types",e),n.get(i).push(a),t.get(a).add(i))}}const o=Array.from(n.keys()).filter((e=>0===n.get(e).length));x(0!==o.length,"missing primary type","types",e),x(1===o.length,"ambiguous primary types or unused types: ".concat(o.map((e=>JSON.stringify(e))).join(", ")),"types",e),g(this,{primaryType:o[0]}),function i(o,a){x(!a.has(o),"circular type reference to ".concat(JSON.stringify(o)),"types",e),a.add(o);for(const e of t.get(o))if(n.has(e)){i(e,a);for(const t of a)r.get(t).add(e)}a.delete(o)}(this.primaryType,new Set);for(const[a,s]of r){const e=Array.from(s);e.sort(),u(kr,this).set(a,xr(a,i[a])+e.map((e=>xr(e,i[e]))).join(""))}}getEncoder(e){let t=u(Ar,this).get(e);return t||(t=c(Cr,this,Tr).call(this,e),u(Ar,this).set(e,t)),t}encodeType(e){const t=u(kr,this).get(e);return x(t,"unknown type: ".concat(JSON.stringify(e)),"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return gt(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(wr(e))return n(e,t);const r=$r(e).array;if(r)return x(-1===r.count||r.count===t.length,"array length mismatch; expected length ".concat(r.count),"value",t),t.map((e=>this._visit(r.prefix,e,n)));const i=this.types[e];if(i)return i.reduce(((e,r)=>{let{name:i,type:o}=r;return e[i]=this._visit(o,t[i],n),e}),{});x(!1,"unknown type: ".concat(e),"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Er(e)}static getPrimaryType(e){return Er.from(e).primaryType}static hashStruct(e,t,n){return Er.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){if(null==e[n])continue;const r=mr[n];x(r,"invalid typed-data domain key: ".concat(JSON.stringify(n)),"domain",e),t.push({name:n,type:r})}return t.sort(((e,t)=>yr.indexOf(e.name)-yr.indexOf(t.name))),Er.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return F(["0x1901",Er.hashDomain(e),Er.from(t).hash(n)])}static hash(e,t,n){return gt(Er.encode(e,t,n))}static async resolveNames(e,t,n,r){e=Object.assign({},e);for(const a in e)null==e[a]&&delete e[a];const i={};e.verifyingContract&&!I(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const o=Er.from(t);o.visit(n,((e,t)=>("address"!==e||I(t,20)||(i[t]="0x"),t)));for(const a in i)i[a]=await r(a);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),{domain:e,value:n=o.visit(n,((e,t)=>"address"===e&&i[t]?i[t]:t))}}static getPayload(e,t,n){Er.hashDomain(e);const r={},i=[];yr.forEach((t=>{const n=e[t];null!=n&&(r[t]=vr[t](n),i.push({name:t,type:mr[t]}))}));const o=Er.from(t);t=o.types;const a=Object.assign({},t);return x(null==a.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),a.EIP712Domain=i,o.encode(n),{types:a,domain:r,primaryType:o.primaryType,message:o.visit(n,((e,t)=>{if(e.match(/^bytes(\d*)/))return O(R(t));if(e.match(/^u?int/))return G(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return x("string"===typeof t,"invalid string","value",t),t}x(!1,"unsupported type","type",e)}))}}}function Tr(e){{const t=wr(e);if(t)return t}const t=$r(e).array;if(t){const e=t.prefix,n=this.getEncoder(e);return r=>{x(-1===t.count||t.count===r.length,"array length mismatch; expected length ".concat(t.count),"value",r);let i=r.map(n);return u(kr,this).has(e)&&(i=i.map(gt)),gt(F(i))}}const n=this.types[e];if(n){const t=Jt(u(kr,this).get(e));return e=>{const r=n.map((t=>{let{name:n,type:r}=t;const i=this.getEncoder(r)(e[n]);return u(kr,this).has(r)?gt(i):i}));return r.unshift(t),F(r)}}x(!1,"unknown type: ".concat(e),"type",e)}function Pr(e,t){return{address:St(e),storageKeys:t.map(((e,t)=>(x(I(e,32),"invalid slot","storageKeys[".concat(t,"]"),e),e.toLowerCase())))}}function Rr(e){if(Array.isArray(e))return e.map(((t,n)=>Array.isArray(t)?(x(2===t.length,"invalid slot set","value[".concat(n,"]"),t),Pr(t[0],t[1])):(x(null!=t&&"object"===typeof t,"invalid address-slot set","value",e),Pr(t.address,t.storageKeys))));x(null!=e&&"object"===typeof e,"invalid access list","value",e);const t=Object.keys(e).map((t=>{const n=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return Pr(t,Object.keys(n).sort())}));return t.sort(((e,t)=>e.address.localeCompare(t.address))),t}function Mr(e){return async function(e,t){w(null==t||!t.cancelled,"request cancelled before sending","CANCELLED");const n=e.url.split(":")[0].toLowerCase();w("http"===n||"https"===n,"unsupported protocol ".concat(n),"UNSUPPORTED_OPERATION",{info:{protocol:n},operation:"request"}),w("https"===n||!e.credentials||e.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let r=null;const i=new AbortController,o=setTimeout((()=>{r=v("request timeout","TIMEOUT"),i.abort()}),e.timeout);t&&t.addListener((()=>{r=v("request cancelled","CANCELLED"),i.abort()}));const a={method:e.method,headers:new Headers(Array.from(e)),body:e.body||void 0,signal:i.signal};let s;try{s=await fetch(e.url,a)}catch(pi){if(clearTimeout(o),r)throw r;throw pi}clearTimeout(o);const l={};s.headers.forEach(((e,t)=>{l[t.toLowerCase()]=e}));const c=await s.arrayBuffer(),u=null==c?null:new Uint8Array(c);return{statusCode:s.status,statusMessage:s.statusText,headers:l,body:u}}}Mr();let Ir=Mr();const Lr=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Br=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Or=!1;async function Fr(e,t){try{const t=e.match(Lr);if(!t)throw new Error("invalid data");return new fi(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?function(e){e=atob(e);const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return R(t)}(t[3]):qt(t[3].replace(/%([0-9a-f][0-9a-f])/gi,((e,t)=>String.fromCharCode(parseInt(t,16))))))}catch(n){return new fi(599,"BAD REQUEST (invalid data: URI)",{},null,new ai(e))}}function Nr(e){return async function(t,n){try{const n=t.match(Br);if(!n)throw new Error("invalid link");return new ai("".concat(e).concat(n[2]))}catch(r){return new fi(599,"BAD REQUEST (invalid IPFS URI)",{},null,new ai(t))}}}const Dr={data:Fr,ipfs:Nr("https://gateway.ipfs.io/ipfs/")},zr=new WeakMap;var _r=new WeakMap,Ur=new WeakMap;class jr{constructor(e){l(this,_r,void 0),l(this,Ur,void 0),d(_r,this,[]),d(Ur,this,!1),zr.set(e,(()=>{if(!u(Ur,this)){d(Ur,this,!0);for(const e of u(_r,this))setTimeout((()=>{e()}),0);d(_r,this,[])}}))}addListener(e){w(!u(Ur,this),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),u(_r,this).push(e)}get cancelled(){return u(Ur,this)}checkSignal(){w(!this.cancelled,"cancelled","CANCELLED",{})}}function Hr(e){if(null==e)throw new Error("missing signal; should not happen");return e.checkSignal(),e}var Wr=new WeakMap,Vr=new WeakMap,Gr=new WeakMap,Qr=new WeakMap,qr=new WeakMap,Kr=new WeakMap,Zr=new WeakMap,Xr=new WeakMap,Jr=new WeakMap,Yr=new WeakMap,ei=new WeakMap,ti=new WeakMap,ni=new WeakMap,ri=new WeakMap,ii=new WeakMap,oi=new WeakSet;class ai{get url(){return u(Kr,this)}set url(e){d(Kr,this,String(e))}get body(){return null==u(Zr,this)?null:new Uint8Array(u(Zr,this))}set body(e){if(null==e)d(Zr,this,void 0),d(Xr,this,void 0);else if("string"===typeof e)d(Zr,this,qt(e)),d(Xr,this,"text/plain");else if(e instanceof Uint8Array)d(Zr,this,e),d(Xr,this,"application/octet-stream");else{if("object"!==typeof e)throw new Error("invalid body");d(Zr,this,qt(JSON.stringify(e))),d(Xr,this,"application/json")}}hasBody(){return null!=u(Zr,this)}get method(){return u(Qr,this)?u(Qr,this):this.hasBody()?"POST":"GET"}set method(e){null==e&&(e=""),d(Qr,this,String(e).toUpperCase())}get headers(){const e=Object.assign({},u(Gr,this));return u(Jr,this)&&(e.authorization="Basic ".concat(function(e){const t=R(e);let n="";for(let r=0;r<t.length;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(qt(u(Jr,this))))),this.allowGzip&&(e["accept-encoding"]="gzip"),null==e["content-type"]&&u(Xr,this)&&(e["content-type"]=u(Xr,this)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){u(Gr,this)[String(e).toLowerCase()]=String(t)}clearHeaders(){d(Gr,this,{})}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return u(Jr,this)||null}setCredentials(e,t){x(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),d(Jr,this,"".concat(e,":").concat(t))}get allowGzip(){return u(Vr,this)}set allowGzip(e){d(Vr,this,!!e)}get allowInsecureAuthentication(){return!!u(Wr,this)}set allowInsecureAuthentication(e){d(Wr,this,!!e)}get timeout(){return u(qr,this)}set timeout(e){x(e>=0,"timeout must be non-zero","timeout",e),d(qr,this,e)}get preflightFunc(){return u(Yr,this)||null}set preflightFunc(e){d(Yr,this,e)}get processFunc(){return u(ei,this)||null}set processFunc(e){d(ei,this,e)}get retryFunc(){return u(ti,this)||null}set retryFunc(e){d(ti,this,e)}get getUrlFunc(){return u(ii,this)||Ir}set getUrlFunc(e){d(ii,this,e)}constructor(e){A(this,oi),l(this,Wr,void 0),l(this,Vr,void 0),l(this,Gr,void 0),l(this,Qr,void 0),l(this,qr,void 0),l(this,Kr,void 0),l(this,Zr,void 0),l(this,Xr,void 0),l(this,Jr,void 0),l(this,Yr,void 0),l(this,ei,void 0),l(this,ti,void 0),l(this,ni,void 0),l(this,ri,void 0),l(this,ii,void 0),d(Kr,this,String(e)),d(Wr,this,!1),d(Vr,this,!0),d(Gr,this,{}),d(Qr,this,""),d(qr,this,3e5),d(ri,this,{slotInterval:250,maxAttempts:12}),d(ii,this,null)}toString(){return"<FetchRequest method=".concat(JSON.stringify(this.method)," url=").concat(JSON.stringify(this.url)," headers=").concat(JSON.stringify(this.headers)," body=").concat(u(Zr,this)?O(u(Zr,this)):"null",">")}setThrottleParams(e){null!=e.slotInterval&&(u(ri,this).slotInterval=e.slotInterval),null!=e.maxAttempts&&(u(ri,this).maxAttempts=e.maxAttempts)}send(){return w(null==u(ni,this),"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),d(ni,this,new jr(this)),c(oi,this,si).call(this,0,gi()+this.timeout,0,this,new fi(0,"",{},null,this))}cancel(){w(null!=u(ni,this),"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=zr.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();w("GET"===this.method&&("https"!==t||"http"!==n)&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:"redirect(".concat(this.method," ").concat(JSON.stringify(this.url)," => ").concat(JSON.stringify(e),")")});const r=new ai(e);return r.method="GET",r.allowGzip=this.allowGzip,r.timeout=this.timeout,d(Gr,r,Object.assign({},u(Gr,this))),u(Zr,this)&&d(Zr,r,new Uint8Array(u(Zr,this))),d(Xr,r,u(Xr,this)),r}clone(){const e=new ai(this.url);return d(Qr,e,u(Qr,this)),u(Zr,this)&&d(Zr,e,u(Zr,this)),d(Xr,e,u(Xr,this)),d(Gr,e,Object.assign({},u(Gr,this))),d(Jr,e,u(Jr,this)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),d(Yr,e,u(Yr,this)),d(ei,e,u(ei,this)),d(ti,e,u(ti,this)),d(ri,e,Object.assign({},u(ri,this))),d(ii,e,u(ii,this)),e}static lockConfig(){Or=!0}static getGateway(e){return Dr[e.toLowerCase()]||null}static registerGateway(e,t){if("http"===(e=e.toLowerCase())||"https"===e)throw new Error("cannot intercept ".concat(e,"; use registerGetUrl"));if(Or)throw new Error("gateways locked");Dr[e]=t}static registerGetUrl(e){if(Or)throw new Error("gateways locked");Ir=e}static createGetUrlFunc(e){return Mr()}static createDataGateway(){return Fr}static createIpfsGatewayFunc(e){return Nr(e)}}async function si(e,t,n,r,i){if(e>=u(ri,this).maxAttempts)return i.makeServerError("exceeded maximum retry limit");w(gi()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:r}),n>0&&await function(e){return new Promise((t=>setTimeout(t,e)))}(n);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in Dr){const e=await Dr[a](o.url,Hr(u(ni,r)));if(e instanceof fi){let t=e;if(this.processFunc){Hr(u(ni,r));try{t=await this.processFunc(o,t)}catch(f){null!=f.throttle&&"number"===typeof f.stall||t.makeServerError("error in post-processing function",f).assertOk()}}return t}o=e}this.preflightFunc&&(o=await this.preflightFunc(o));const s=await this.getUrlFunc(o,Hr(u(ni,r)));let l=new fi(s.statusCode,s.statusMessage,s.headers,s.body,r);if(301===l.statusCode||302===l.statusCode){try{var d;const n=l.headers.location||"";return c(oi,d=o.redirect(n),si).call(d,e+1,t,0,r,l)}catch(f){}return l}if(429===l.statusCode&&(null==this.retryFunc||await this.retryFunc(o,l,e))){var h;const n=l.headers["retry-after"];let i=u(ri,this).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return"string"===typeof n&&n.match(/^[1-9][0-9]*$/)&&(i=parseInt(n)),c(oi,h=o.clone(),si).call(h,e+1,t,i,r,l)}if(this.processFunc){Hr(u(ni,r));try{l=await this.processFunc(o,l)}catch(f){var p;null!=f.throttle&&"number"===typeof f.stall||l.makeServerError("error in post-processing function",f).assertOk();let n=u(ri,this).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return f.stall>=0&&(n=f.stall),c(oi,p=o.clone(),si).call(p,e+1,t,n,r,l)}}return l}var li=new WeakMap,ci=new WeakMap,ui=new WeakMap,di=new WeakMap,hi=new WeakMap,pi=new WeakMap;class fi{toString(){return"<FetchResponse status=".concat(this.statusCode," body=").concat(u(di,this)?O(u(di,this)):"null",">")}get statusCode(){return u(li,this)}get statusMessage(){return u(ci,this)}get headers(){return Object.assign({},u(ui,this))}get body(){return null==u(di,this)?null:new Uint8Array(u(di,this))}get bodyText(){try{return null==u(di,this)?"":Kt(u(di,this))}catch(e){w(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(e){w(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,n,r,i){l(this,li,void 0),l(this,ci,void 0),l(this,ui,void 0),l(this,di,void 0),l(this,hi,void 0),l(this,pi,void 0),d(li,this,e),d(ci,this,t),d(ui,this,Object.keys(n).reduce(((e,t)=>(e[t.toLowerCase()]=String(n[t]),e)),{})),d(di,this,null==r?null:new Uint8Array(r)),d(hi,this,i||null),d(pi,this,{message:""})}makeServerError(e,t){let n;e?n="CLIENT ESCALATED SERVER ERROR (".concat(this.statusCode," ").concat(this.statusMessage,"; ").concat(e,")"):(e="".concat(this.statusCode," ").concat(this.statusMessage),n="CLIENT ESCALATED SERVER ERROR (".concat(e,")"));const r=new fi(599,n,this.headers,this.body,u(hi,this)||void 0);return d(pi,r,{message:e,error:t}),r}throwThrottleError(e,t){null==t?t=-1:x(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const n=new Error(e||"throttling requests");throw g(n,{stall:t,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return null!=u(di,this)}get request(){return u(hi,this)}ok(){return""===u(pi,this).message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=u(pi,this);""===e&&(e="server response ".concat(this.statusCode," ").concat(this.statusMessage));let n=null;this.request&&(n=this.request.url);let r=null;try{u(di,this)&&(r=Kt(u(di,this)))}catch(yh){}w(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:n,responseBody:r,responseStatus:"".concat(this.statusCode," ").concat(this.statusMessage)}})}}function gi(){return(new Date).getTime()}const mi="0x0000000000000000000000000000000000000000";class yi{constructor(e,t,n){T(this,"fragment",void 0),T(this,"name",void 0),T(this,"signature",void 0),T(this,"topic",void 0),T(this,"args",void 0);const r=e.name,i=e.format();g(this,{fragment:e,name:r,signature:i,topic:t,args:n})}}class bi{constructor(e,t,n,r){T(this,"fragment",void 0),T(this,"name",void 0),T(this,"args",void 0),T(this,"signature",void 0),T(this,"selector",void 0),T(this,"value",void 0);const i=e.name,o=e.format();g(this,{fragment:e,name:i,args:n,signature:o,selector:t,value:r})}}class vi{constructor(e,t,n){T(this,"fragment",void 0),T(this,"name",void 0),T(this,"args",void 0),T(this,"signature",void 0),T(this,"selector",void 0);const r=e.name,i=e.format();g(this,{fragment:e,name:r,args:n,signature:i,selector:t})}}class wi{static isIndexed(e){return!(!e||!e._isIndexed)}constructor(e){T(this,"hash",void 0),T(this,"_isIndexed",void 0),g(this,{hash:e,_isIndexed:!0})}}const xi={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},$i={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>"reverted with reason string ".concat(JSON.stringify(e))},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&xi[e.toString()]&&(t=xi[e.toString()]),"reverted with panic code 0x".concat(e.toString(16)," (").concat(t,")")}}};var Si=new WeakMap,ki=new WeakMap,Ai=new WeakMap,Ci=new WeakMap,Ei=new WeakSet;class Ti{constructor(e){A(this,Ei),T(this,"fragments",void 0),T(this,"deploy",void 0),T(this,"fallback",void 0),T(this,"receive",void 0),l(this,Si,void 0),l(this,ki,void 0),l(this,Ai,void 0),l(this,Ci,void 0);let t=[];t="string"===typeof e?JSON.parse(e):e,d(Ai,this,new Map),d(Si,this,new Map),d(ki,this,new Map);const n=[];for(const a of t)try{n.push(Hn.from(a))}catch(o){console.log("[Warning] Invalid Fragment ".concat(JSON.stringify(a),":"),o.message)}g(this,{fragments:Object.freeze(n)});let r=null,i=!1;d(Ci,this,this.getAbiCoder()),this.fragments.forEach(((e,t)=>{let n;switch(e.type){case"constructor":return this.deploy?void console.log("duplicate definition - constructor"):void g(this,{deploy:e});case"fallback":return void(0===e.inputs.length?i=!0:(x(!r||e.payable!==r.payable,"conflicting fallback fragments","fragments[".concat(t,"]"),e),r=e,i=r.payable));case"function":n=u(Ai,this);break;case"event":n=u(ki,this);break;case"error":n=u(Si,this);break;default:return}const o=e.format();n.has(o)||n.set(o,e)})),this.deploy||g(this,{deploy:qn.from("constructor()")}),g(this,{fallback:r,receive:i})}format(e){const t=e?"minimal":"full",n=this.fragments.map((e=>e.format(t)));return n}formatJson(){const e=this.fragments.map((e=>e.format("json")));return JSON.stringify(e.map((e=>JSON.parse(e))))}getAbiCoder(){return ir.defaultAbiCoder()}getFunctionName(e){const t=c(Ei,this,Pi).call(this,e,null,!1);return x(t,"no matching function","key",e),t.name}hasFunction(e){return!!c(Ei,this,Pi).call(this,e,null,!1)}getFunction(e,t){return c(Ei,this,Pi).call(this,e,t||null,!0)}forEachFunction(e){const t=Array.from(u(Ai,this).keys());t.sort(((e,t)=>e.localeCompare(t)));for(let n=0;n<t.length;n++){const r=t[n];e(u(Ai,this).get(r),n)}}getEventName(e){const t=c(Ei,this,Ri).call(this,e,null,!1);return x(t,"no matching event","key",e),t.name}hasEvent(e){return!!c(Ei,this,Ri).call(this,e,null,!1)}getEvent(e,t){return c(Ei,this,Ri).call(this,e,t||null,!0)}forEachEvent(e){const t=Array.from(u(ki,this).keys());t.sort(((e,t)=>e.localeCompare(t)));for(let n=0;n<t.length;n++){const r=t[n];e(u(ki,this).get(r),n)}}getError(e,t){if(I(e)){const t=e.toLowerCase();if($i[t])return Gn.from($i[t].signature);for(const e of u(Si,this).values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const t=[];for(const[n,r]of u(Si,this))n.split("(")[0]===e&&t.push(r);if(0===t.length)return"Error"===e?Gn.from("error Error(string)"):"Panic"===e?Gn.from("error Panic(uint256)"):null;if(t.length>1){const n=t.map((e=>JSON.stringify(e.format()))).join(", ");x(!1,"ambiguous error description (i.e. ".concat(n,")"),"name",e)}return t[0]}if("Error(string)"===(e=Gn.from(e).format()))return Gn.from("error Error(string)");if("Panic(uint256)"===e)return Gn.from("error Panic(uint256)");const n=u(Si,this).get(e);return n||null}forEachError(e){const t=Array.from(u(Si,this).keys());t.sort(((e,t)=>e.localeCompare(t)));for(let n=0;n<t.length;n++){const r=t[n];e(u(Si,this).get(r),n)}}_decodeParams(e,t){return u(Ci,this).decode(e,t)}_encodeParams(e,t){return u(Ci,this).encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if("string"===typeof e){const t=this.getError(e);x(t,"unknown error","fragment",e),e=t}return x(D(t,0,4)===e.selector,"data signature does not match error ".concat(e.name,"."),"data",t),this._decodeParams(e.inputs,D(t,4))}encodeErrorResult(e,t){if("string"===typeof e){const t=this.getError(e);x(t,"unknown error","fragment",e),e=t}return F([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if("string"===typeof e){const t=this.getFunction(e);x(t,"unknown function","fragment",e),e=t}return x(D(t,0,4)===e.selector,"data signature does not match function ".concat(e.name,"."),"data",t),this._decodeParams(e.inputs,D(t,4))}encodeFunctionData(e,t){if("string"===typeof e){const t=this.getFunction(e);x(t,"unknown function","fragment",e),e=t}return F([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if("string"===typeof e){const t=this.getFunction(e);x(t,"unknown function","fragment",e),e=t}let n="invalid length for result data";const r=M(t);if(r.length%32===0)try{return u(Ci,this).decode(e.outputs,r)}catch(i){n="could not decode result data"}w(!1,n,"BAD_DATA",{value:O(r),info:{method:e.name,signature:e.format()}})}makeError(e,t){const n=R(e,"data"),r=ir.getBuiltinCallException("call",t,n);if(r.message.startsWith("execution reverted (unknown custom error)")){const e=O(n.slice(0,4)),t=this.getError(e);if(t)try{const e=u(Ci,this).decode(t.inputs,n.slice(4));r.revert={name:t.name,signature:t.format(),args:e},r.reason=r.revert.signature,r.message="execution reverted: ".concat(r.reason)}catch(yh){r.message="execution reverted (coult not decode custom error)"}}const i=this.parseTransaction(t);return i&&(r.invocation={method:i.name,signature:i.signature,args:i.args}),r}encodeFunctionResult(e,t){if("string"===typeof e){const t=this.getFunction(e);x(t,"unknown function","fragment",e),e=t}return O(u(Ci,this).encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if("string"===typeof e){const t=this.getEvent(e);x(t,"unknown event","eventFragment",e),e=t}w(t.length<=e.inputs.length,"too many arguments for ".concat(e.format()),"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const r=(e,t)=>"string"===e.type?Jt(t):"bytes"===e.type?gt(O(t)):("bool"===e.type&&"boolean"===typeof t?t=t?"0x01":"0x00":e.type.match(/^u?int/)?t=X(t):e.type.match(/^bytes/)?t=z(t,32,!1):"address"===e.type&&u(Ci,this).encode(["address"],[t]),_(O(t),32));for(t.forEach(((t,i)=>{const o=e.inputs[i];o.indexed?null==t?n.push(null):"array"===o.baseType||"tuple"===o.baseType?x(!1,"filtering with tuples or arrays not supported","contract."+o.name,t):Array.isArray(t)?n.push(t.map((e=>r(o,e)))):n.push(r(o,t)):x(null==t,"cannot filter non-indexed parameters; must be null","contract."+o.name,t)}));n.length&&null===n[n.length-1];)n.pop();return n}encodeEventLog(e,t){if("string"===typeof e){const t=this.getEvent(e);x(t,"unknown event","eventFragment",e),e=t}const n=[],r=[],i=[];return e.anonymous||n.push(e.topicHash),x(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach(((e,o)=>{const a=t[o];if(e.indexed)if("string"===e.type)n.push(Jt(a));else if("bytes"===e.type)n.push(gt(a));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");n.push(u(Ci,this).encode([e.type],[a]))}else r.push(e),i.push(a)})),{data:u(Ci,this).encode(r,i),topics:n}}decodeEventLog(e,t,n){if("string"===typeof e){const t=this.getEvent(e);x(t,"unknown event","eventFragment",e),e=t}if(null!=n&&!e.anonymous){const t=e.topicHash;x(I(n[0],32)&&n[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const r=[],i=[],o=[];e.inputs.forEach(((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(r.push(Un.from({type:"bytes32",name:e.name})),o.push(!0)):(r.push(e),o.push(!1)):(i.push(e),o.push(!1))}));const a=null!=n?u(Ci,this).decode(r,F(n)):null,s=u(Ci,this).decode(i,t,!0),l=[],c=[];let d=0,h=0;return e.inputs.forEach(((e,t)=>{let n=null;if(e.indexed)if(null==a)n=new wi(null);else if(o[t])n=new wi(a[h++]);else try{n=a[h++]}catch(r){n=r}else try{n=s[d++]}catch(r){n=r}l.push(n),c.push(e.name||null)})),ue.fromItems(l,c)}parseTransaction(e){const t=R(e.data,"tx.data"),n=G(null!=e.value?e.value:0,"tx.value"),r=this.getFunction(O(t.slice(0,4)));if(!r)return null;const i=u(Ci,this).decode(r.inputs,t.slice(4));return new bi(r,r.selector,i,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new yi(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=O(e),n=this.getError(D(t,0,4));if(!n)return null;const r=u(Ci,this).decode(n.inputs,D(t,4));return new vi(n,n.selector,r)}static from(e){return e instanceof Ti?e:"string"===typeof e?new Ti(JSON.parse(e)):"function"===typeof e.formatJson?new Ti(e.formatJson()):"function"===typeof e.format?new Ti(e.format("json")):new Ti(e)}}function Pi(e,t,n){if(I(e)){const t=e.toLowerCase();for(const e of u(Ai,this).values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const r=[];for(const[t,n]of u(Ai,this))t.split("(")[0]===e&&r.push(n);if(t){const e=t.length>0?t[t.length-1]:null;let n=t.length,i=!0;Pt.isTyped(e)&&"overrides"===e.type&&(i=!1,n--);for(let t=r.length-1;t>=0;t--){const e=r[t].inputs.length;e===n||i&&e===n-1||r.splice(t,1)}for(let o=r.length-1;o>=0;o--){const e=r[o].inputs;for(let n=0;n<t.length;n++)if(Pt.isTyped(t[n])){if(n>=e.length){if("overrides"===t[n].type)continue;r.splice(o,1);break}if(t[n].type!==e[n].baseType){r.splice(o,1);break}}}}if(1===r.length&&t&&t.length!==r[0].inputs.length){const e=t[t.length-1];(null==e||Array.isArray(e)||"object"!==typeof e)&&r.splice(0,1)}if(0===r.length)return null;if(r.length>1&&n){const t=r.map((e=>JSON.stringify(e.format()))).join(", ");x(!1,"ambiguous function description (i.e. matches ".concat(t,")"),"key",e)}return r[0]}const r=u(Ai,this).get(Zn.from(e).format());return r||null}function Ri(e,t,n){if(I(e)){const t=e.toLowerCase();for(const e of u(ki,this).values())if(t===e.topicHash)return e;return null}if(-1===e.indexOf("(")){const r=[];for(const[t,n]of u(ki,this))t.split("(")[0]===e&&r.push(n);if(t){for(let e=r.length-1;e>=0;e--)r[e].inputs.length<t.length&&r.splice(e,1);for(let e=r.length-1;e>=0;e--){const n=r[e].inputs;for(let i=0;i<t.length;i++)if(Pt.isTyped(t[i])&&t[i].type!==n[i].baseType){r.splice(e,1);break}}}if(0===r.length)return null;if(r.length>1&&n){const t=r.map((e=>JSON.stringify(e.format()))).join(", ");x(!1,"ambiguous event description (i.e. matches ".concat(t,")"),"key",e)}return r[0]}const r=u(ki,this).get(Qn.from(e).format());return r||null}const Mi=BigInt(0);function Ii(e){return null==e?null:e}function Li(e){return null==e?null:e.toString()}class Bi{constructor(e,t,n){T(this,"gasPrice",void 0),T(this,"maxFeePerGas",void 0),T(this,"maxPriorityFeePerGas",void 0),g(this,{gasPrice:Ii(e),maxFeePerGas:Ii(t),maxPriorityFeePerGas:Ii(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:Li(e),maxFeePerGas:Li(t),maxPriorityFeePerGas:Li(n)}}}function Oi(e){const t={};e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=O(e.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)i in e&&null!=e[i]&&(t[i]=G(e[i],"request.".concat(i)));const r="type,nonce".split(/,/);for(const i of r)i in e&&null!=e[i]&&(t[i]=Z(e[i],"request.".concat(i)));return e.accessList&&(t.accessList=Rr(e.accessList)),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),"blobVersionedHashes"in e&&e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.slice()),"kzg"in e&&(t.kzg=e.kzg),"blobs"in e&&e.blobs&&(t.blobs=e.blobs.map((e=>L(e)?O(e):Object.assign({},e)))),t}var Fi=new WeakMap;class Ni{constructor(e,t){T(this,"provider",void 0),T(this,"number",void 0),T(this,"hash",void 0),T(this,"timestamp",void 0),T(this,"parentHash",void 0),T(this,"parentBeaconBlockRoot",void 0),T(this,"nonce",void 0),T(this,"difficulty",void 0),T(this,"gasLimit",void 0),T(this,"gasUsed",void 0),T(this,"stateRoot",void 0),T(this,"receiptsRoot",void 0),T(this,"blobGasUsed",void 0),T(this,"excessBlobGas",void 0),T(this,"miner",void 0),T(this,"prevRandao",void 0),T(this,"extraData",void 0),T(this,"baseFeePerGas",void 0),l(this,Fi,void 0),d(Fi,this,e.transactions.map((e=>"string"!==typeof e?new ji(e,t):e))),g(this,{provider:t,hash:Ii(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Ii(e.prevRandao),extraData:e.extraData,baseFeePerGas:Ii(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return u(Fi,this).map((e=>"string"===typeof e?e:e.hash))}get prefetchedTransactions(){const e=u(Fi,this).slice();return 0===e.length?[]:(w("object"===typeof e[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:n,gasLimit:r,gasUsed:i,hash:o,miner:a,prevRandao:s,nonce:l,number:c,parentHash:u,parentBeaconBlockRoot:d,stateRoot:h,receiptsRoot:p,timestamp:f,transactions:g}=this;return{_type:"Block",baseFeePerGas:Li(e),difficulty:Li(t),extraData:n,gasLimit:Li(r),gasUsed:Li(i),blobGasUsed:Li(this.blobGasUsed),excessBlobGas:Li(this.excessBlobGas),hash:o,miner:a,prevRandao:s,nonce:l,number:c,parentHash:u,timestamp:f,parentBeaconBlockRoot:d,stateRoot:h,receiptsRoot:p,transactions:g}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return u(Fi,this).length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(e){let t;if("number"===typeof e)t=u(Fi,this)[e];else{const n=e.toLowerCase();for(const e of u(Fi,this)){if("string"===typeof e){if(e!==n)continue;t=e;break}if(e.hash!==n){t=e;break}}}if(null==t)throw new Error("no such tx");return"string"===typeof t?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if("number"===typeof e)return t[e];e=e.toLowerCase();for(const n of t)if(n.hash===e)return n;x(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return{orphan:"drop-block",hash:(e=this).hash,number:e.number};var e}}class Di{constructor(e,t){T(this,"provider",void 0),T(this,"transactionHash",void 0),T(this,"blockHash",void 0),T(this,"blockNumber",void 0),T(this,"removed",void 0),T(this,"address",void 0),T(this,"data",void 0),T(this,"topics",void 0),T(this,"index",void 0),T(this,"transactionIndex",void 0),this.provider=t;const n=Object.freeze(e.topics.slice());g(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:n,data:r,index:i,removed:o,topics:a,transactionHash:s,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:t,blockNumber:n,data:r,index:i,removed:o,topics:a,transactionHash:s,transactionIndex:l}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return w(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return w(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return w(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return{orphan:"drop-log",log:{transactionHash:(e=this).transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}};var e}}var zi=new WeakMap;class _i{constructor(e,t){T(this,"provider",void 0),T(this,"to",void 0),T(this,"from",void 0),T(this,"contractAddress",void 0),T(this,"hash",void 0),T(this,"index",void 0),T(this,"blockHash",void 0),T(this,"blockNumber",void 0),T(this,"logsBloom",void 0),T(this,"gasUsed",void 0),T(this,"blobGasUsed",void 0),T(this,"cumulativeGasUsed",void 0),T(this,"gasPrice",void 0),T(this,"blobGasPrice",void 0),T(this,"type",void 0),T(this,"status",void 0),T(this,"root",void 0),l(this,zi,void 0),d(zi,this,Object.freeze(e.logs.map((e=>new Di(e,t)))));let n=Mi;null!=e.effectiveGasPrice?n=e.effectiveGasPrice:null!=e.gasPrice&&(n=e.gasPrice),g(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return u(zi,this)}toJSON(){const{to:e,from:t,contractAddress:n,hash:r,index:i,blockHash:o,blockNumber:a,logsBloom:s,logs:l,status:c,root:u}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:n,cumulativeGasUsed:Li(this.cumulativeGasUsed),from:t,gasPrice:Li(this.gasPrice),blobGasUsed:Li(this.blobGasUsed),blobGasPrice:Li(this.blobGasPrice),gasUsed:Li(this.gasUsed),hash:r,index:i,logs:l,logsBloom:s,root:u,status:c,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(null==e)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(null==e)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Wi(this)}reorderedEvent(e){return w(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Hi(this,e)}}var Ui=new WeakMap;class ji{constructor(e,t){T(this,"provider",void 0),T(this,"blockNumber",void 0),T(this,"blockHash",void 0),T(this,"index",void 0),T(this,"hash",void 0),T(this,"type",void 0),T(this,"to",void 0),T(this,"from",void 0),T(this,"nonce",void 0),T(this,"gasLimit",void 0),T(this,"gasPrice",void 0),T(this,"maxPriorityFeePerGas",void 0),T(this,"maxFeePerGas",void 0),T(this,"maxFeePerBlobGas",void 0),T(this,"data",void 0),T(this,"value",void 0),T(this,"chainId",void 0),T(this,"signature",void 0),T(this,"accessList",void 0),T(this,"blobVersionedHashes",void 0),l(this,Ui,void 0),this.provider=t,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.maxFeePerBlobGas=null!=e.maxFeePerBlobGas?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.blobVersionedHashes=null!=e.blobVersionedHashes?e.blobVersionedHashes:null,d(Ui,this,-1)}toJSON(){const{blockNumber:e,blockHash:t,index:n,hash:r,type:i,to:o,from:a,nonce:s,data:l,signature:c,accessList:u,blobVersionedHashes:d}=this;return{_type:"TransactionResponse",accessList:u,blockNumber:e,blockHash:t,blobVersionedHashes:d,chainId:Li(this.chainId),data:l,from:a,gasLimit:Li(this.gasLimit),gasPrice:Li(this.gasPrice),hash:r,maxFeePerGas:Li(this.maxFeePerGas),maxPriorityFeePerGas:Li(this.maxPriorityFeePerGas),maxFeePerBlobGas:Li(this.maxFeePerBlobGas),nonce:s,signature:c,to:o,index:n,type:i,value:Li(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){const t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;const t=this.provider.getBlock(e);if(null==t)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){const{tx:e,blockNumber:t}=await f({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==e||null==e.blockNumber?0:t-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const n=null==e?1:e,r=null==t?0:t;let i=u(Ui,this),o=-1,a=-1===i;const s=async()=>{if(a)return null;const{blockNumber:e,nonce:t}=await f({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(t<this.nonce)return void(i=e);if(a)return null;const r=await this.getTransaction();if(!r||null==r.blockNumber)for(-1===o&&(o=i-3,o<u(Ui,this)&&(o=u(Ui,this)));o<=e;){if(a)return null;const t=await this.provider.getBlock(o,!0);if(null==t)return;for(const e of t)if(e===this.hash)return;for(let r=0;r<t.length;r++){const o=await t.getTransaction(r);if(o.from===this.from&&o.nonce===this.nonce){if(a)return null;const t=await this.provider.getTransactionReceipt(o.hash);if(null==t)return;if(e-t.blockNumber+1<n)return;let r="replaced";o.data===this.data&&o.to===this.to&&o.value===this.value?r="repriced":"0x"===o.data&&o.from===o.to&&o.value===Mi&&(r="cancelled"),w(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===r||"cancelled"===r,reason:r,replacement:o.replaceableTransaction(i),hash:o.hash,receipt:t})}}o++}},l=e=>{if(null==e||0!==e.status)return e;w(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})},c=await this.provider.getTransactionReceipt(this.hash);if(0===n)return l(c);if(c){if(await c.confirmations()>=n)return l(c)}else if(await s(),0===n)return null;const d=new Promise(((e,t)=>{const o=[],c=()=>{o.forEach((e=>e()))};if(o.push((()=>{a=!0})),r>0){const e=setTimeout((()=>{c(),t(v("wait for transaction timeout","TIMEOUT"))}),r);o.push((()=>{clearTimeout(e)}))}const u=async r=>{if(await r.confirmations()>=n){c();try{e(l(r))}catch(i){t(i)}}};if(o.push((()=>{this.provider.off(this.hash,u)})),this.provider.on(this.hash,u),i>=0){const e=async()=>{try{await s()}catch(n){if(y(n,"TRANSACTION_REPLACED"))return c(),void t(n)}a||this.provider.once("block",e)};o.push((()=>{this.provider.off("block",e)})),this.provider.once("block",e)}}));return await d}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){return w(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Wi(this)}reorderedEvent(e){return w(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),w(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Hi(this,e)}replaceableTransaction(e){x(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new ji(this,this.provider);return d(Ui,t,e),t}}function Hi(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function Wi(e){return{orphan:"drop-transaction",tx:e}}var Vi=new WeakMap;class Gi{constructor(e,t,n){T(this,"filter",void 0),T(this,"emitter",void 0),l(this,Vi,void 0),d(Vi,this,t),g(this,{emitter:e,filter:n})}async removeListener(){null!=u(Vi,this)&&await this.emitter.off(this.filter,u(Vi,this))}}class Qi extends Di{constructor(e,t,n){super(e,e.provider),T(this,"interface",void 0),T(this,"fragment",void 0),T(this,"args",void 0);g(this,{args:t.decodeEventLog(n,e.data,e.topics),fragment:n,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class qi extends Di{constructor(e,t){super(e,e.provider),T(this,"error",void 0),g(this,{error:t})}}var Ki=new WeakMap;class Zi extends _i{constructor(e,t,n){super(n,t),l(this,Ki,void 0),d(Ki,this,e)}get logs(){return super.logs.map((e=>{const t=e.topics.length?u(Ki,this).getEvent(e.topics[0]):null;if(t)try{return new Qi(e,u(Ki,this),t)}catch(n){return new qi(e,n)}return e}))}}var Xi=new WeakMap;class Ji extends ji{constructor(e,t,n){super(n,t),l(this,Xi,void 0),d(Xi,this,e)}async wait(e,t){const n=await super.wait(e,t);return null==n?null:new Zi(u(Xi,this),this.provider,n)}}class Yi extends Gi{constructor(e,t,n,r){super(e,t,n),T(this,"log",void 0),g(this,{log:r})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class eo extends Yi{constructor(e,t,n,r,i){super(e,t,n,new Qi(i,e.interface,r));g(this,{args:e.interface.decodeEventLog(r,this.log.data,this.log.topics),fragment:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const to=BigInt(0);function no(e){return e&&"function"===typeof e.call}function ro(e){return e&&"function"===typeof e.estimateGas}function io(e){return e&&"function"===typeof e.resolveName}function oo(e){return e&&"function"===typeof e.sendTransaction}function ao(e){if(null!=e){if(io(e))return e;if(e.provider)return e.provider}}var so=new WeakMap;class lo{constructor(e,t,n){if(l(this,so,void 0),T(this,"fragment",void 0),g(this,{fragment:t}),t.inputs.length<n.length)throw new Error("too many arguments");const r=co(e.runner,"resolveName"),i=io(r)?r:null;d(so,this,async function(){const r=await Promise.all(t.inputs.map(((e,t)=>null==n[t]?null:e.walkAsync(n[t],((e,t)=>"address"===e?Array.isArray(t)?Promise.all(t.map((e=>lr(e,i)))):lr(t,i):t)))));return e.interface.encodeFilterTopics(t,r)}())}getTopicFilter(){return u(so,this)}}function co(e,t){return null==e?null:"function"===typeof e[t]?e:e.provider&&"function"===typeof e.provider[t]?e.provider:null}function uo(e){return null==e?null:e.provider||null}async function ho(e,t){const n=Pt.dereference(e,"overrides");x("object"===typeof n,"invalid overrides parameter","overrides",e);const r=Oi(n);return x(null==r.to||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),x(null==r.data||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}function po(e){const t=async function(t){const n=await ho(t,["data"]);n.to=await e.getAddress(),n.from&&(n.from=await lr(n.from,ao(e.runner)));const r=e.interface,i=G(n.value||to,"overrides.value")===to,o="0x"===(n.data||"0x");!r.fallback||r.fallback.payable||!r.receive||o||i||x(!1,"cannot send data to receive or send value to non-payable fallback","overrides",t),x(r.fallback||o,"cannot send data to receive-only contract","overrides.data",n.data);return x(r.receive||r.fallback&&r.fallback.payable||i,"cannot send value to non-payable fallback","overrides.value",n.value),x(r.fallback||o,"cannot send data to receive-only contract","overrides.data",n.data),n},n=async function(n){const r=e.runner;w(oo(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const i=await r.sendTransaction(await t(n)),o=uo(e.runner);return new Ji(e.interface,o,i)},r=async e=>await n(e);return g(r,{_contract:e,estimateGas:async function(n){const r=co(e.runner,"estimateGas");return w(ro(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await t(n))},populateTransaction:t,send:n,staticCall:async function(n){const r=co(e.runner,"call");w(no(r),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await t(n);try{return await r.call(i)}catch(o){if(b(o)&&o.data)throw e.interface.makeError(o.data,i);throw o}}}),r}function fo(e,t){const n=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const o=e.interface.getFunction(t,r);return w(o,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),o},r=async function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];const o=n(...r);let a={};if(o.inputs.length+1===r.length&&(a=await ho(r.pop()),a.from&&(a.from=await lr(a.from,ao(e.runner)))),o.inputs.length!==r.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const s=await async function(e,t,n){const r=co(e,"resolveName"),i=io(r)?r:null;return await Promise.all(t.map(((e,t)=>e.walkAsync(n[t],((e,t)=>(t=Pt.dereference(t,e),"address"===e?lr(t,i):t))))))}(e.runner,o.inputs,r);return Object.assign({},a,await f({to:e.getAddress(),data:e.interface.encodeFunctionData(o,s)}))},i=async function(){const e=await a(...arguments);return 1===e.length?e[0]:e},o=async function(){const t=e.runner;w(oo(t),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const n=await t.sendTransaction(await r(...arguments)),i=uo(e.runner);return new Ji(e.interface,i,n)},a=async function(){const t=co(e.runner,"call");w(no(t),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await r(...arguments);let o="0x";try{o=await t.call(i)}catch(s){if(b(s)&&s.data)throw e.interface.makeError(s.data,i);throw s}const a=n(...arguments);return e.interface.decodeFunctionResult(a,o)},s=async function(){return n(...arguments).constant?await i(...arguments):await o(...arguments)};return g(s,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment:n,estimateGas:async function(){const t=co(e.runner,"estimateGas");return w(ro(t),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await t.estimateGas(await r(...arguments))},populateTransaction:r,send:o,staticCall:i,staticCallResult:a}),Object.defineProperty(s,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getFunction(t);return w(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),s}const go=Symbol.for("_ethersInternal_contract"),mo=new WeakMap;function yo(e){return mo.get(e[go])}async function bo(e,t){let n,r=null;if(Array.isArray(t)){const r=function(t){if(I(t,32))return t;const n=e.interface.getEvent(t);return x(n,"unknown fragment","name",t),n.topicHash};n=t.map((e=>null==e?null:Array.isArray(e)?e.map(r):r(e)))}else"*"===t?n=[null]:"string"===typeof t?I(t,32)?n=[t]:(r=e.interface.getEvent(t),x(r,"unknown fragment","event",t),n=[r.topicHash]):(i=t)&&"object"===typeof i&&"getTopicFilter"in i&&"function"===typeof i.getTopicFilter&&i.fragment?n=await t.getTopicFilter():"fragment"in t?(r=t.fragment,n=[r.topicHash]):x(!1,"unknown event name","event",t);var i;n=n.map((e=>{if(null==e)return null;if(Array.isArray(e)){const t=Array.from(new Set(e.map((e=>e.toLowerCase()))).values());return 1===t.length?t[0]:(t.sort(),t)}return e.toLowerCase()}));const o=n.map((e=>null==e?"null":Array.isArray(e)?e.join("|"):e)).join("&");return{fragment:r,tag:o,topics:n}}async function vo(e,t){const{subs:n}=yo(e);return n.get((await bo(e,t)).tag)||null}async function wo(e,t,n){const r=uo(e.runner);w(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:i,tag:o,topics:a}=await bo(e,n),{addr:s,subs:l}=yo(e);let c=l.get(o);if(!c){const t={address:s||e,topics:a},u=t=>{let r=i;if(null==r)try{r=e.interface.getEvent(t.topics[0])}catch(o){}if(r){const o=r,a=i?e.interface.decodeEventLog(i,t.data,t.topics):[];$o(e,n,a,(r=>new eo(e,r,n,o,t)))}else $o(e,n,[],(r=>new Yi(e,r,n,t)))};let d=[];c={tag:o,listeners:[],start:()=>{d.length||d.push(r.on(t,u))},stop:async()=>{if(0==d.length)return;let e=d;d=[],await Promise.all(e),r.off(t,u)}},l.set(o,c)}return c}let xo=Promise.resolve();async function $o(e,t,n,r){try{await xo}catch(o){}const i=async function(e,t,n,r){await xo;const i=await vo(e,t);if(!i)return!1;const a=i.listeners.length;return i.listeners=i.listeners.filter((t=>{let{listener:i,once:a}=t;const s=Array.from(n);r&&s.push(r(a?null:i));try{i.call(e,...s)}catch(o){}return!a})),0===i.listeners.length&&(i.stop(),yo(e).subs.delete(i.tag)),a>0}(e,t,n,r);return xo=i,await i}const So=["then"];class ko{constructor(e,t,n,r){T(this,"target",void 0),T(this,"interface",void 0),T(this,"runner",void 0),T(this,"filters",void 0),T(this,go,void 0),T(this,"fallback",void 0),x("string"===typeof e||ar(e),"invalid value for Contract target","target",e),null==n&&(n=null);const i=Ti.from(t);let o;g(this,{target:e,runner:n,interface:i}),Object.defineProperty(this,go,{value:{}});let a=null,s=null;if(r){const e=uo(n);s=new Ji(this.interface,e,r)}let l=new Map;if("string"===typeof e)if(I(e))a=e,o=Promise.resolve(e);else{const t=co(n,"resolveName");if(!io(t))throw v("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=t.resolveName(e).then((t=>{if(null==t)throw v("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return yo(this).addr=t,t}))}else o=e.getAddress().then((e=>{if(null==e)throw new Error("TODO");return yo(this).addr=e,e}));var c,u;c=this,u={addrPromise:o,addr:a,deployTx:s,subs:l},mo.set(c[go],u);const d=new Proxy({},{get:(e,t,n)=>{if("symbol"===typeof t||So.indexOf(t)>=0)return Reflect.get(e,t,n);try{return this.getEvent(t)}catch(r){if(!y(r,"INVALID_ARGUMENT")||"key"!==r.argument)throw r}},has:(e,t)=>So.indexOf(t)>=0?Reflect.has(e,t):Reflect.has(e,t)||this.interface.hasEvent(String(t))});return g(this,{filters:d}),g(this,{fallback:i.receive||i.fallback?po(this):null}),new Proxy(this,{get:(e,t,n)=>{if("symbol"===typeof t||t in e||So.indexOf(t)>=0)return Reflect.get(e,t,n);try{return e.getFunction(t)}catch(r){if(!y(r,"INVALID_ARGUMENT")||"key"!==r.argument)throw r}},has:(e,t)=>"symbol"===typeof t||t in e||So.indexOf(t)>=0?Reflect.has(e,t):e.interface.hasFunction(t)})}connect(e){return new ko(this.target,this.interface,e)}attach(e){return new ko(e,this.interface,this.runner)}async getAddress(){return await yo(this).addrPromise}async getDeployedCode(){const e=uo(this.runner);w(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return"0x"===t?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(null!=await this.getDeployedCode())return this;const t=uo(this.runner);return w(null!=t,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise(((e,n)=>{const r=async()=>{try{if(null!=await this.getDeployedCode())return e(this);t.once("block",r)}catch(i){n(i)}};r()}))}deploymentTransaction(){return yo(this).deployTx}getFunction(e){"string"!==typeof e&&(e=e.format());return fo(this,e)}getEvent(e){return"string"!==typeof e&&(e=e.format()),function(e,t){const n=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const o=e.interface.getEvent(t,r);return w(o,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),o},r=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return new lo(e,n(...r),r)};return g(r,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getEvent(t);return w(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),r}(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,n){null==t&&(t=0),null==n&&(n="latest");const{addr:r,addrPromise:i}=yo(this),o=r||await i,{fragment:a,topics:s}=await bo(this,e),l={address:o,topics:s,fromBlock:t,toBlock:n},c=uo(this.runner);return w(c,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await c.getLogs(l)).map((e=>{let t=a;if(null==t)try{t=this.interface.getEvent(e.topics[0])}catch(n){}if(t)try{return new Qi(e,this.interface,t)}catch(n){return new qi(e,n)}return new Di(e,c)}))}async on(e,t){const n=await wo(this,"on",e);return n.listeners.push({listener:t,once:!1}),n.start(),this}async once(e,t){const n=await wo(this,"once",e);return n.listeners.push({listener:t,once:!0}),n.start(),this}async emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return await $o(this,e,n,null)}async listenerCount(e){if(e){const t=await vo(this,e);return t?t.listeners.length:0}const{subs:t}=yo(this);let n=0;for(const{listeners:r}of t.values())n+=r.length;return n}async listeners(e){if(e){const t=await vo(this,e);return t?t.listeners.map((e=>{let{listener:t}=e;return t})):[]}const{subs:t}=yo(this);let n=[];for(const{listeners:r}of t.values())n=n.concat(r.map((e=>{let{listener:t}=e;return t})));return n}async off(e,t){const n=await vo(this,e);if(!n)return this;if(t){const e=n.listeners.map((e=>{let{listener:t}=e;return t})).indexOf(t);e>=0&&n.listeners.splice(e,1)}return null!=t&&0!==n.listeners.length||(n.stop(),yo(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const t=await vo(this,e);if(!t)return this;t.stop(),yo(this).subs.delete(t.tag)}else{const{subs:e}=yo(this);for(const{tag:t,stop:n}of e.values())n(),e.delete(t)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){return class extends ko{constructor(t){super(t,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}}}static from(e,t,n){null==n&&(n=null);return new this(e,t,n)}}class Ao extends(function(){return ko}()){}var Co="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const Eo=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),To=4;function Po(e){return function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function n(){return e[t++]<<8|e[t++]}let r=n(),i=1,o=[0,1];for(let w=1;w<r;w++)o.push(i+=n());let a=n(),s=t;t+=a;let l=0,c=0;function u(){return 0==l&&(c=c<<8|e[t++],l=8),c>>--l&1}const d=2**31,h=d>>>1,p=h>>1,f=d-1;let g=0;for(let w=0;w<31;w++)g=g<<1|u();let m=[],y=0,b=d;for(;;){let e=Math.floor(((g-y+1)*i-1)/b),t=0,n=r;for(;n-t>1;){let r=t+n>>>1;e<o[r]?n=r:t=r}if(0==t)break;m.push(t);let a=y+Math.floor(b*o[t]/i),s=y+Math.floor(b*o[t+1]/i)-1;for(;0==((a^s)&h);)g=g<<1&f|u(),a=a<<1&f,s=s<<1&f|1;for(;a&~s&p;)g=g&h|g<<1&f>>>1|u(),a=a<<1^h,s=(s^h)<<1|h|1;y=a,b=1+s-a}let v=r-4;return m.map((t=>{switch(t-v){case 3:return v+65792+(e[s++]<<16|e[s++]<<8|e[s++]);case 2:return v+256+(e[s++]<<8|e[s++]);case 1:return v+e[s++];default:return t-1}}))}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach(((e,n)=>t[e.charCodeAt(0)]=n));let n=e.length,r=new Uint8Array(6*n>>3);for(let i=0,o=0,a=0,s=0;i<n;i++)s=s<<6|t[e.charCodeAt(i)],a+=6,a>=8&&(r[o++]=s>>(a-=8));return r}(e)))}function Ro(e){return 1&e?~e>>1:e>>1}function Mo(e,t){let n=Array(e);for(let r=0,i=0;r<e;r++)n[r]=i+=Ro(t());return n}function Io(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];for(;;){let r=e(),i=e();if(!i)break;t+=r;for(let e=0;e<i;e++)n.push(t+e);t+=i+1}return n}function Lo(e){return Oo((()=>{let t=Io(e);if(t.length)return t}))}function Bo(e){let t=[];for(;;){let n=e();if(0==n)break;t.push(No(n,e))}for(;;){let n=e()-1;if(n<0)break;t.push(Do(n,e))}return t.flat()}function Oo(e){let t=[];for(;;){let n=e(t.length);if(!n)break;t.push(n)}return t}function Fo(e,t,n){let r=Array(e).fill().map((()=>[]));for(let i=0;i<t;i++)Mo(e,n).forEach(((e,t)=>r[t].push(e)));return r}function No(e,t){let n=1+t(),r=t(),i=Oo(t);return Fo(i.length,1+e,t).flatMap(((e,t)=>{let[o,...a]=e;return Array(i[t]).fill().map(((e,t)=>{let i=t*r;return[o+t*n,a.map((e=>e+i))]}))}))}function Do(e,t){return Fo(1+t(),1+e,t).map((e=>[e[0],e.slice(1)]))}function zo(e){return"{".concat(function(e){return e.toString(16).toUpperCase().padStart(2,"0")}(e),"}")}function _o(e){let t=[];for(let n=0,r=e.length;n<r;){let r=e.codePointAt(n);n+=r<65536?1:2,t.push(r)}return t}function Uo(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let n=[];for(let r=0;r<t;)n.push(String.fromCodePoint(...e.slice(r,r+=4096)));return n.join("")}function jo(e,t){let n=e.length,r=n-t.length;for(let i=0;0==r&&i<n;i++)r=e[i]-t[i];return r}var Ho="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const Wo=44032,Vo=4352,Go=4449,Qo=4519,qo=28,Ko=21*qo,Zo=Wo+19*Ko,Xo=Vo+19,Jo=Go+21,Yo=Qo+qo;function ea(e){return e>>24&255}function ta(e){return 16777215&e}let na,ra,ia,oa;function aa(e){return e>=Wo&&e<Zo}function sa(e,t){if(e>=Vo&&e<Xo&&t>=Go&&t<Jo)return Wo+(e-Vo)*Ko+(t-Go)*qo;if(aa(e)&&t>Qo&&t<Yo&&(e-Wo)%qo==0)return e+(t-Qo);{let n=oa.get(e);return n&&(n=n.get(t),n)?n:-1}}function la(e){na||function(){let e=Po(Ho);na=new Map(Lo(e).flatMap(((e,t)=>e.map((e=>[e,t+1<<24]))))),ra=new Set(Io(e)),ia=new Map,oa=new Map;for(let[t,n]of Bo(e)){if(!ra.has(t)&&2==n.length){let[e,r]=n,i=oa.get(e);i||(i=new Map,oa.set(e,i)),i.set(r,t)}ia.set(t,n.reverse())}}();let t=[],n=[],r=!1;function i(e){let n=na.get(e);n&&(r=!0,e|=n),t.push(e)}for(let o of e)for(;;){if(o<128)t.push(o);else if(aa(o)){let e=o-Wo,t=e%Ko/qo|0,n=e%qo;i(Vo+(e/Ko|0)),i(Go+t),n>0&&i(Qo+n)}else{let e=ia.get(o);e?n.push(...e):i(o)}if(!n.length)break;o=n.pop()}if(r&&t.length>1){let e=ea(t[0]);for(let n=1;n<t.length;n++){let r=ea(t[n]);if(0==r||e<=r){e=r;continue}let i=n-1;for(;;){let n=t[i+1];if(t[i+1]=t[i],t[i]=n,!i)break;if(e=ea(t[--i]),e<=r)break}e=ea(t[n])}}return t}function ca(e){return la(e).map(ta)}function ua(e){return function(e){let t=[],n=[],r=-1,i=0;for(let o of e){let e=ea(o),a=ta(o);if(-1==r)0==e?r=a:t.push(a);else if(i>0&&i>=e)0==e?(t.push(r,...n),n.length=0,r=a):n.push(a),i=e;else{let o=sa(r,a);o>=0?r=o:0==i&&0==e?(t.push(r),r=a):(n.push(a),i=e)}}return r>=0&&t.push(r,...n),t}(la(e))}const da=45,ha=".",pa=65039,fa=1,ga=e=>Array.from(e);function ma(e,t){return e.P.has(t)||e.Q.has(t)}class ya extends Array{get is_emoji(){return!0}}let ba,va,wa,xa,$a,Sa,ka,Aa,Ca,Ea,Ta,Pa;function Ra(){if(ba)return;let e=Po(Co);const t=()=>Io(e),n=()=>new Set(t()),r=(e,t)=>t.forEach((t=>e.add(t)));ba=new Map(Bo(e)),va=n(),wa=t(),xa=new Set(t().map((e=>wa[e]))),wa=new Set(wa),$a=n(),Sa=n();let i=Lo(e),o=e();const a=()=>{let e=new Set;return t().forEach((t=>r(e,i[t]))),r(e,t()),e};ka=Oo((t=>{let n=Oo(e).map((e=>e+96));if(n.length){let r=t>=o;return n[0]-=32,n=Uo(n),r&&(n="Restricted[".concat(n,"]")),{N:n,P:a(),Q:a(),M:!e(),R:r}}})),Aa=n(),Ca=new Map;let s=t().concat(ga(Aa)).sort(((e,t)=>e-t));s.forEach(((t,n)=>{let r=e(),i=s[n]=r?s[n-r]:{V:[],M:new Map};i.V.push(t),Aa.has(t)||Ca.set(t,i)}));for(let{V:u,M:d}of new Set(Ca.values())){let e=[];for(let n of u){let t=ka.filter((e=>ma(e,n))),i=e.find((e=>{let{G:n}=e;return t.some((e=>n.has(e)))}));i||(i={G:new Set,V:[]},e.push(i)),i.V.push(n),r(i.G,t)}let t=e.flatMap((e=>ga(e.G)));for(let{G:n,V:r}of e){let e=new Set(t.filter((e=>!n.has(e))));for(let t of r)d.set(t,e)}}Ea=new Set;let l=new Set;const c=e=>Ea.has(e)?l.add(e):Ea.add(e);for(let u of ka){for(let e of u.P)c(e);for(let e of u.Q)c(e)}for(let u of Ea)Ca.has(u)||l.has(u)||Ca.set(u,fa);r(Ea,ca(Ea)),Ta=function(e){let t=[],n=Io(e);return function e(n,r,i){let{S:o,B:a}=n;if(!(4&o&&i===r[r.length-1])){2&o&&(i=r[r.length-1]),1&o&&t.push(r);for(let t of a)for(let n of t.Q)e(t,[...r,n],i)}}(function t(r){let i=e(),o=Oo((()=>{let r=Io(e).map((e=>n[e]));if(r.length)return t(r)}));return{S:i,B:o,Q:r}}([]),[]),t}(e).map((e=>ya.from(e))).sort(jo),Pa=new Map;for(let u of Ta){let e=[Pa];for(let t of u){let n=e.map((e=>{let n=e.get(t);return n||(n=new Map,e.set(t,n)),n}));t===pa?e.push(...n):e=n}for(let t of e)t.V=u}}function Ma(e){return(Ba(e)?"":"".concat(Ia(La([e]))," "))+zo(e)}function Ia(e){return'"'.concat(e,'"\u200e')}function La(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zo,r=[];(function(e){return Ra(),wa.has(e)})(e[0])&&r.push("\u25cc"),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let i=0,o=e.length;for(let a=0;a<o;a++){let t=e[a];Ba(t)&&(r.push(Uo(e.slice(i,a))),r.push(n(t)),i=a+1)}return r.push(Uo(e.slice(i,o))),r.join("")}function Ba(e){return Ra(),$a.has(e)}function Oa(e,t,n){if(!e)return[];Ra();let r=0;return e.split(ha).map((e=>{let i=_o(e),o={input:i,offset:r};r+=i.length+1;try{let e,r=o.tokens=_a(i,t,n),a=r.length;if(!a)throw new Error("empty label");let s=o.output=r.flat();if(function(e){for(let t=e.lastIndexOf(95);t>0;)if(95!==e[--t])throw new Error("underscore allowed only at start")}(s),!(o.emoji=a>1||r[0].is_emoji)&&s.every((e=>e<128)))!function(e){if(e.length>=4&&e[2]==da&&e[3]==da)throw new Error('invalid label extension: "'.concat(Uo(e.slice(0,4)),'"'))}(s),e="ASCII";else{let t=r.flatMap((e=>e.is_emoji?[]:e));if(t.length){if(wa.has(s[0]))throw za("leading combining mark");for(let e=1;e<a;e++){let t=r[e];if(!t.is_emoji&&wa.has(t[0]))throw za('emoji + combining mark: "'.concat(Uo(r[e-1])," + ").concat(La([t[0]]),'"'))}!function(e){let t=e[0],n=Eo.get(t);if(n)throw za("leading ".concat(n));let r=e.length,i=-1;for(let o=1;o<r;o++){t=e[o];let r=Eo.get(t);if(r){if(i==o)throw za("".concat(n," + ").concat(r));i=o+1,n=r}}if(i==r)throw za("trailing ".concat(n))}(s);let n=ga(new Set(t)),[i]=function(e){let t=ka;for(let n of e){let e=t.filter((e=>ma(e,n)));if(!e.length)throw ka.some((e=>ma(e,n)))?Da(t[0],n):Na(n);if(t=e,1==e.length)break}return t}(n);!function(e,t){for(let n of t)if(!ma(e,n))throw Da(e,n);if(e.M){let e=ca(t);for(let t=1,n=e.length;t<n;t++)if(xa.has(e[t])){let r=t+1;for(let i;r<n&&xa.has(i=e[r]);r++)for(let n=t;n<r;n++)if(e[n]==i)throw new Error("duplicate non-spacing marks: ".concat(Ma(i)));if(r-t>To)throw new Error("excessive non-spacing marks: ".concat(Ia(La(e.slice(t-1,r)))," (").concat(r-t,"/").concat(To,")"));t=r}}}(i,t),function(e,t){let n,r=[];for(let i of t){let e=Ca.get(i);if(e===fa)return;if(e){let t=e.M.get(i);if(n=n?n.filter((e=>t.has(e))):ga(t),!n.length)return}else r.push(i)}if(n)for(let i of n)if(r.every((e=>ma(i,e))))throw new Error("whole-script confusable: ".concat(e.N,"/").concat(i.N))}(i,n),e=i.N}else e="Emoji"}o.type=e}catch(a){o.error=a}return o}))}function Fa(e){return e.map((t=>{let{input:n,error:r,output:i}=t;if(r){let t=r.message;throw new Error(1==e.length?t:"Invalid label ".concat(Ia(La(n,63)),": ").concat(t))}return Uo(i)})).join(ha)}function Na(e){return new Error("disallowed character: ".concat(Ma(e)))}function Da(e,t){let n=Ma(t),r=ka.find((e=>e.P.has(t)));return r&&(n="".concat(r.N," ").concat(n)),new Error("illegal mixture: ".concat(e.N," + ").concat(n))}function za(e){return new Error("illegal placement: ".concat(e))}function _a(e,t,n){let r=[],i=[];for(e=e.slice().reverse();e.length;){let o=ja(e);if(o)i.length&&(r.push(t(i)),i=[]),r.push(n(o));else{let t=e.pop();if(Ea.has(t))i.push(t);else{let e=ba.get(t);if(e)i.push(...e);else if(!va.has(t))throw Na(t)}}}return i.length&&r.push(t(i)),r}function Ua(e){return e.filter((e=>e!=pa))}function ja(e,t){let n,r=Pa,i=e.length;for(;i&&(r=r.get(e[--i]),r);){let{V:o}=r;o&&(n=o,t&&t.push(...e.slice(i).reverse()),e.length=i)}return n}const Ha=new Uint8Array(32);function Wa(e){return x(0!==e.length,"invalid ENS name; empty component","comp",e),e}function Va(e){const t=qt(function(e){try{if(0===e.length)throw new Error("empty label");return function(e){return Fa(Oa(e,ua,Ua))}(e)}catch(t){x(!1,"invalid ENS name (".concat(t.message,")"),"name",e)}}(e)),n=[];if(0===e.length)return n;let r=0;for(let i=0;i<t.length;i++){46===t[i]&&(n.push(Wa(t.slice(r,i))),r=i+1)}return x(r<t.length,"invalid ENS name; empty component","name",e),n.push(Wa(t.slice(r))),n}function Ga(e){x("string"===typeof e,"invalid ENS name; not a string","name",e),x(e.length,"invalid ENS name (empty label)","name",e);let t=Ha;const n=Va(e);for(;n.length;)t=gt(F([t,gt(n.pop())]));return O(t)}function Qa(e,t){const n=null!=t?t:63;return x(n<=255,"DNS encoded label cannot exceed 255","length",n),O(F(Va(e).map((t=>{x(t.length<=n,"label ".concat(JSON.stringify(e)," exceeds ").concat(n," bytes"),"name",e);const r=new Uint8Array(t.length+1);return r.set(t,1),r[0]=r.length-1,r}))))+"00"}Ha.fill(0);class qa extends Qe{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=We(this.buffer)}update(e){Re(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=Ge(e)).length;for(let o=0;o<i;){const a=Math.min(r-this.pos,i-o);if(a!==r)n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=We(e);for(;r<=i-o;o+=r)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Re(this),Me(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let u=o;u<r;u++)t[u]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),a=Number(n>>i&o),s=Number(n&o),l=r?4:0,c=r?0:4;e.setUint32(t+l,a,r),e.setUint32(t+c,s,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const a=We(e),s=this.outputLen;if(s%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=s/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)a.setUint32(4*u,c[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:a}=this;return e.length=r,e.pos=a,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}const Ka=(e,t,n)=>e&t^~e&n,Za=(e,t,n)=>e&t^e&n^t&n,Xa=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ja=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ya=new Uint32Array(64);class es extends qa{constructor(){super(64,32,8,!1),this.A=0|Ja[0],this.B=0|Ja[1],this.C=0|Ja[2],this.D=0|Ja[3],this.E=0|Ja[4],this.F=0|Ja[5],this.G=0|Ja[6],this.H=0|Ja[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:a,H:s}=this;return[e,t,n,r,i,o,a,s]}set(e,t,n,r,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let u=0;u<16;u++,t+=4)Ya[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const e=Ya[u-15],t=Ya[u-2],n=Ve(e,7)^Ve(e,18)^e>>>3,r=Ve(t,17)^Ve(t,19)^t>>>10;Ya[u]=r+Ya[u-7]+n+Ya[u-16]|0}let{A:n,B:r,C:i,D:o,E:a,F:s,G:l,H:c}=this;for(let u=0;u<64;u++){const e=c+(Ve(a,6)^Ve(a,11)^Ve(a,25))+Ka(a,s,l)+Xa[u]+Ya[u]|0,t=(Ve(n,2)^Ve(n,13)^Ve(n,22))+Za(n,r,i)|0;c=l,l=s,s=a,a=o+e|0,o=i,i=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,s=s+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(n,r,i,o,a,s,l,c)}roundClean(){Ya.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const ts=qe((()=>new es)),[ns,rs]=(()=>Ue.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),is=new Uint32Array(80),os=new Uint32Array(80);class as extends qa{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:o,Dh:a,Dl:s,Eh:l,El:c,Fh:u,Fl:d,Gh:h,Gl:p,Hh:f,Hl:g}=this;return[e,t,n,r,i,o,a,s,l,c,u,d,h,p,f,g]}set(e,t,n,r,i,o,a,s,l,c,u,d,h,p,f,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|o,this.Dh=0|a,this.Dl=0|s,this.Eh=0|l,this.El=0|c,this.Fh=0|u,this.Fl=0|d,this.Gh=0|h,this.Gl=0|p,this.Hh=0|f,this.Hl=0|g}process(e,t){for(let b=0;b<16;b++,t+=4)is[b]=e.getUint32(t),os[b]=e.getUint32(t+=4);for(let b=16;b<80;b++){const e=0|is[b-15],t=0|os[b-15],n=Ue.rotrSH(e,t,1)^Ue.rotrSH(e,t,8)^Ue.shrSH(e,t,7),r=Ue.rotrSL(e,t,1)^Ue.rotrSL(e,t,8)^Ue.shrSL(e,t,7),i=0|is[b-2],o=0|os[b-2],a=Ue.rotrSH(i,o,19)^Ue.rotrBH(i,o,61)^Ue.shrSH(i,o,6),s=Ue.rotrSL(i,o,19)^Ue.rotrBL(i,o,61)^Ue.shrSL(i,o,6),l=Ue.add4L(r,s,os[b-7],os[b-16]),c=Ue.add4H(l,n,a,is[b-7],is[b-16]);is[b]=0|c,os[b]=0|l}let{Ah:n,Al:r,Bh:i,Bl:o,Ch:a,Cl:s,Dh:l,Dl:c,Eh:u,El:d,Fh:h,Fl:p,Gh:f,Gl:g,Hh:m,Hl:y}=this;for(let b=0;b<80;b++){const e=Ue.rotrSH(u,d,14)^Ue.rotrSH(u,d,18)^Ue.rotrBH(u,d,41),t=Ue.rotrSL(u,d,14)^Ue.rotrSL(u,d,18)^Ue.rotrBL(u,d,41),v=u&h^~u&f,w=d&p^~d&g,x=Ue.add5L(y,t,w,rs[b],os[b]),$=Ue.add5H(x,m,e,v,ns[b],is[b]),S=0|x,k=Ue.rotrSH(n,r,28)^Ue.rotrBH(n,r,34)^Ue.rotrBH(n,r,39),A=Ue.rotrSL(n,r,28)^Ue.rotrBL(n,r,34)^Ue.rotrBL(n,r,39),C=n&i^n&a^i&a,E=r&o^r&s^o&s;m=0|f,y=0|g,f=0|h,g=0|p,h=0|u,p=0|d,({h:u,l:d}=Ue.add(0|l,0|c,0|$,0|S)),l=0|a,c=0|s,a=0|i,s=0|o,i=0|n,o=0|r;const T=Ue.add3L(S,A,E);n=Ue.add3H(T,$,k,C),r=0|T}({h:n,l:r}=Ue.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:o}=Ue.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:a,l:s}=Ue.add(0|this.Ch,0|this.Cl,0|a,0|s)),({h:l,l:c}=Ue.add(0|this.Dh,0|this.Dl,0|l,0|c)),({h:u,l:d}=Ue.add(0|this.Eh,0|this.El,0|u,0|d)),({h:h,l:p}=Ue.add(0|this.Fh,0|this.Fl,0|h,0|p)),({h:f,l:g}=Ue.add(0|this.Gh,0|this.Gl,0|f,0|g)),({h:m,l:y}=Ue.add(0|this.Hh,0|this.Hl,0|m,0|y)),this.set(n,r,i,o,a,s,l,c,u,d,h,p,f,g,m,y)}roundClean(){is.fill(0),os.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const ss=qe((()=>new as));const ls=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global;throw new Error("unable to locate global object")}();ls.crypto||ls.msCrypto;function cs(e){switch(e){case"sha256":return ts.create();case"sha512":return ss.create()}x(!1,"invalid hashing algorithm name","algorithm",e)}const us=function(e){return cs("sha256").update(e).digest()},ds=function(e){return cs("sha512").update(e).digest()};let hs=us,ps=ds,fs=!1,gs=!1;function ms(e){const t=R(e,"data");return O(hs(t))}function ys(e){const t=R(e,"data");return O(ps(t))}ms._=us,ms.lock=function(){fs=!0},ms.register=function(e){if(fs)throw new Error("sha256 is locked");hs=e},Object.freeze(ms),ys._=ds,ys.lock=function(){gs=!0},ys.register=function(e){if(gs)throw new Error("sha512 is locked");ps=e},Object.freeze(ms);const bs="0x0000000000000000000000000000000000000000000000000000000000000000",vs=BigInt(0),ws=BigInt(1),xs=BigInt(2),$s=BigInt(27),Ss=BigInt(28),ks=BigInt(35),As={};function Cs(e){return _(J(e),32)}var Es=new WeakMap,Ts=new WeakMap,Ps=new WeakMap,Rs=new WeakMap;class Ms{get r(){return u(Es,this)}set r(e){x(32===N(e),"invalid r","value",e),d(Es,this,O(e))}get s(){return u(Ts,this)}set s(e){x(32===N(e),"invalid s","value",e);const t=O(e);x(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),d(Ts,this,t)}get v(){return u(Ps,this)}set v(e){const t=Z(e,"value");x(27===t||28===t,"invalid v","v",e),d(Ps,this,t)}get networkV(){return u(Rs,this)}get legacyChainId(){const e=this.networkV;return null==e?null:Ms.getChainId(e)}get yParity(){return 27===this.v?0:1}get yParityAndS(){const e=R(this.s);return this.yParity&&(e[0]|=128),O(e)}get compactSerialized(){return F([this.r,this.yParityAndS])}get serialized(){return F([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,n,r){l(this,Es,void 0),l(this,Ts,void 0),l(this,Ps,void 0),l(this,Rs,void 0),k(e,As,"Signature"),d(Es,this,t),d(Ts,this,n),d(Ps,this,r),d(Rs,this,null)}[Symbol.for("nodejs.util.inspect.custom")](){return'Signature { r: "'.concat(this.r,'", s: "').concat(this.s,'", yParity: ').concat(this.yParity,", networkV: ").concat(this.networkV," }")}clone(){const e=new Ms(As,this.r,this.s,this.v);return this.networkV&&d(Rs,e,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const t=G(e,"v");return t==$s||t==Ss?vs:(x(t>=ks,"invalid EIP-155 v","v",e),(t-ks)/xs)}static getChainIdV(e,t){return G(e)*xs+BigInt(35+t-27)}static getNormalizedV(e){const t=G(e);return t===vs||t===$s?27:t===ws||t===Ss?28:(x(t>=ks,"invalid v","v",e),t&ws?27:28)}static from(e){function t(t,n){x(t,n,"signature",e)}if(null==e)return new Ms(As,bs,bs,27);if("string"===typeof e){const n=R(e,"signature");if(64===n.length){const e=O(n.slice(0,32)),t=n.slice(32,64),r=128&t[0]?28:27;return t[0]&=127,new Ms(As,e,O(t),r)}if(65===n.length){const e=O(n.slice(0,32)),r=n.slice(32,64);t(0===(128&r[0]),"non-canonical s");const i=Ms.getNormalizedV(n[64]);return new Ms(As,e,O(r),i)}t(!1,"invalid raw signature length")}if(e instanceof Ms)return e.clone();const n=e.r;t(null!=n,"missing r");const r=Cs(n),i=function(e,n){if(null!=e)return Cs(e);if(null!=n){t(I(n,32),"invalid yParityAndS");const e=R(n);return e[0]&=127,O(e)}t(!1,"missing s")}(e.s,e.yParityAndS);t(0==(128&R(i)[0]),"non-canonical s");const{networkV:o,v:a}=function(e,n,r){if(null!=e){const t=G(e);return{networkV:t>=ks?t:void 0,v:Ms.getNormalizedV(t)}}if(null!=n)return t(I(n,32),"invalid yParityAndS"),{v:128&R(n)[0]?28:27};if(null!=r){switch(Z(r,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),s=new Ms(As,r,i,a);return o&&d(Rs,s,o),t(null==e.yParity||Z(e.yParity,"sig.yParity")===s.yParity,"yParity mismatch"),t(null==e.yParityAndS||e.yParityAndS===s.yParityAndS,"yParityAndS mismatch"),s}}BigInt(0);const Is=BigInt(1),Ls=BigInt(2),Bs=e=>e instanceof Uint8Array,Os=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Fs(e){if(!Bs(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=Os[e[n]];return t}function Ns(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":"0x".concat(e))}function Ds(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const t=2*r,i=e.slice(t,t+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function zs(e){return Ns(Fs(e))}function _s(e){if(!Bs(e))throw new Error("Uint8Array expected");return Ns(Fs(Uint8Array.from(e).reverse()))}function Us(e,t){return Ds(e.toString(16).padStart(2*t,"0"))}function js(e,t){return Us(e,t).reverse()}function Hs(e,t,n){let r;if("string"===typeof t)try{r=Ds(t)}catch(yh){throw new Error("".concat(e,' must be valid hex string, got "').concat(t,'". Cause: ').concat(yh))}else{if(!Bs(t))throw new Error("".concat(e," must be hex string or Uint8Array"));r=Uint8Array.from(t)}const i=r.length;if("number"===typeof n&&i!==n)throw new Error("".concat(e," expected ").concat(n," bytes, got ").concat(i));return r}function Ws(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce(((e,t)=>e+t.length),0));let i=0;return t.forEach((e=>{if(!Bs(e))throw new Error("Uint8Array expected");r.set(e,i),i+=e.length})),r}const Vs=e=>(Ls<<BigInt(e-1))-Is,Gs=e=>new Uint8Array(e),Qs=e=>Uint8Array.from(e);function qs(e,t,n){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");let r=Gs(e),i=Gs(e),o=0;const a=()=>{r.fill(1),i.fill(0),o=0},s=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n(i,r,...t)},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gs();i=s(Qs([0]),e),r=s(),0!==e.length&&(i=s(Qs([1]),e),r=s())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=s();const t=r.slice();n.push(t),e+=r.length}return Ws(...n)};return(e,t)=>{let n;for(a(),l(e);!(n=t(c()));)l();return a(),n}}const Ks={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,stringOrUint8Array:e=>"string"===typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function Zs(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=Ks[n];if("function"!==typeof i)throw new Error('Invalid validator "'.concat(n,'", expected function'));const o=e[t];if((!r||void 0!==o)&&!i(o,e))throw new Error("Invalid param ".concat(String(t),"=").concat(o," (").concat(typeof o,"), expected ").concat(n))};for(const[i,o]of Object.entries(t))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return e}const Xs=BigInt(0),Js=BigInt(1),Ys=BigInt(2),el=BigInt(3),tl=BigInt(4),nl=BigInt(5),rl=BigInt(8);BigInt(9),BigInt(16);function il(e,t){const n=e%t;return n>=Xs?n:t+n}function ol(e,t,n){if(n<=Xs||t<Xs)throw new Error("Expected power/modulo > 0");if(n===Js)return Xs;let r=Js;for(;t>Xs;)t&Js&&(r=r*e%n),e=e*e%n,t>>=Js;return r}function al(e,t,n){let r=e;for(;t-- >Xs;)r*=r,r%=n;return r}function sl(e,t){if(e===Xs||t<=Xs)throw new Error("invert: expected positive integers, got n=".concat(e," mod=").concat(t));let n=il(e,t),r=t,i=Xs,o=Js,a=Js,s=Xs;for(;n!==Xs;){const e=r/n,t=r%n,l=i-a*e,c=o-s*e;r=n,n=t,i=a,o=s,a=l,s=c}if(r!==Js)throw new Error("invert: does not exist");return il(i,t)}function ll(e){if(e%tl===el){const t=(e+Js)/tl;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%rl===nl){const t=(e-nl)/rl;return function(e,n){const r=e.mul(n,Ys),i=e.pow(r,t),o=e.mul(n,i),a=e.mul(e.mul(o,Ys),i),s=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(s),n))throw new Error("Cannot find square root");return s}}return function(e){const t=(e-Js)/Ys;let n,r,i;for(n=e-Js,r=0;n%Ys===Xs;n/=Ys,r++);for(i=Ys;i<e&&ol(i,t,e)!==e-Js;i++);if(1===r){const t=(e+Js)/tl;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const o=(n+Js)/Ys;return function(e,a){if(e.pow(a,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let s=r,l=e.pow(e.mul(e.ONE,i),n),c=e.pow(a,o),u=e.pow(a,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<s&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(l,Js<<BigInt(s-t-1));l=e.sqr(n),c=e.mul(c,n),u=e.mul(u,l),s=t}return c}}(e)}const cl=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ul(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function dl(e){if("bigint"!==typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function hl(e){const t=dl(e);return t+Math.ceil(t/2)}class pl extends Qe{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Pe(e);const n=Ge(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return Re(this),this.iHash.update(e),this}digestInto(e){Re(this),Te(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:a}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const fl=(e,t,n)=>new pl(e,t).update(n).digest();fl.create=(e,t)=>new pl(e,t);const gl=BigInt(0),ml=BigInt(1);function yl(e){return Zs(e.Fp,cl.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),Zs(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ul(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const{Ph:bl,aT:vl}=e,wl={Err:class extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}},_parseInt(e){const{Err:t}=wl;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:bl(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=wl,n="string"===typeof e?vl(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:o}=wl._parseInt(n.subarray(2)),{d:a,l:s}=wl._parseInt(o);if(s.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?"0".concat(t):t},r=t(n(e.s)),i=t(n(e.r)),o=r.length/2,a=i.length/2,s=n(o),l=n(a);return"30".concat(n(a+o+4),"02").concat(l).concat(i,"02").concat(s).concat(r)}},xl=BigInt(0),$l=BigInt(1),Sl=(BigInt(2),BigInt(3));BigInt(4);function kl(e){const t=function(e){const t=yl(e);Zs(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const i=t.toAffine();return Ws(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function o(e){const{a:r,b:i}=t,o=n.sqr(e),a=n.mul(o,e);return n.add(n.add(a,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function a(e){return"bigint"===typeof e&&xl<e&&e<t.n}function s(e){if(!a(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:o}=t;if(n&&"bigint"!==typeof e){if(e instanceof Uint8Array&&(e=Fs(e)),"string"!==typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let a;try{a="bigint"===typeof e?e:zs(Hs("private key",e,r))}catch(l){throw new Error("private key must be ".concat(r," bytes, hex or bigint, not ").concat(typeof e))}return i&&(a=il(a,o)),s(a),a}const c=new Map;function u(e){if(!(e instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof d)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?d.ZERO:new d(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(d.fromAffine)}static fromHex(e){const t=d.fromAffine(i(Hs("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(l(e))}_setWindowSize(e){this._WINDOW_SIZE=e,c.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const i=n.sqr(r),a=o(e);if(!n.eql(i,a))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){u(e);const{px:t,py:r,pz:i}=this,{px:o,py:a,pz:s}=e,l=n.eql(n.mul(t,s),n.mul(o,i)),c=n.eql(n.mul(r,s),n.mul(a,i));return l&&c}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,Sl),{px:o,py:a,pz:s}=this;let l=n.ZERO,c=n.ZERO,u=n.ZERO,h=n.mul(o,o),p=n.mul(a,a),f=n.mul(s,s),g=n.mul(o,a);return g=n.add(g,g),u=n.mul(o,s),u=n.add(u,u),l=n.mul(e,u),c=n.mul(i,f),c=n.add(l,c),l=n.sub(p,c),c=n.add(p,c),c=n.mul(l,c),l=n.mul(g,l),u=n.mul(i,u),f=n.mul(e,f),g=n.sub(h,f),g=n.mul(e,g),g=n.add(g,u),u=n.add(h,h),h=n.add(u,h),h=n.add(h,f),h=n.mul(h,g),c=n.add(c,h),f=n.mul(a,s),f=n.add(f,f),h=n.mul(f,g),l=n.sub(l,h),u=n.mul(f,p),u=n.add(u,u),u=n.add(u,u),new d(l,c,u)}add(e){u(e);const{px:r,py:i,pz:o}=this,{px:a,py:s,pz:l}=e;let c=n.ZERO,h=n.ZERO,p=n.ZERO;const f=t.a,g=n.mul(t.b,Sl);let m=n.mul(r,a),y=n.mul(i,s),b=n.mul(o,l),v=n.add(r,i),w=n.add(a,s);v=n.mul(v,w),w=n.add(m,y),v=n.sub(v,w),w=n.add(r,o);let x=n.add(a,l);return w=n.mul(w,x),x=n.add(m,b),w=n.sub(w,x),x=n.add(i,o),c=n.add(s,l),x=n.mul(x,c),c=n.add(y,b),x=n.sub(x,c),p=n.mul(f,w),c=n.mul(g,b),p=n.add(c,p),c=n.sub(y,p),p=n.add(y,p),h=n.mul(c,p),y=n.add(m,m),y=n.add(y,m),b=n.mul(f,b),w=n.mul(g,w),y=n.add(y,b),b=n.sub(m,b),b=n.mul(f,b),w=n.add(w,b),m=n.mul(y,w),h=n.add(h,m),m=n.mul(x,w),c=n.mul(v,c),c=n.sub(c,m),m=n.mul(v,y),p=n.mul(x,p),p=n.add(p,m),new d(c,h,p)}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return p.wNAFCached(this,c,e,(e=>{const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(d.fromAffine)}))}multiplyUnsafe(e){const r=d.ZERO;if(e===xl)return r;if(s(e),e===$l)return this;const{endo:i}=t;if(!i)return p.unsafeLadder(this,e);let{k1neg:o,k1:a,k2neg:l,k2:c}=i.splitScalar(e),u=r,h=r,f=this;for(;a>xl||c>xl;)a&$l&&(u=u.add(f)),c&$l&&(h=h.add(f)),f=f.double(),a>>=$l,c>>=$l;return o&&(u=u.negate()),l&&(h=h.negate()),h=new d(n.mul(h.px,i.beta),h.py,h.pz),u.add(h)}multiply(e){s(e);let r,i,o=e;const{endo:a}=t;if(a){const{k1neg:e,k1:t,k2neg:s,k2:l}=a.splitScalar(o);let{p:c,f:u}=this.wNAF(t),{p:h,f:f}=this.wNAF(l);c=p.constTimeNegate(e,c),h=p.constTimeNegate(s,h),h=new d(n.mul(h.px,a.beta),h.py,h.pz),r=c.add(h),i=u.add(f)}else{const{p:e,f:t}=this.wNAF(o);r=e,i=t}return d.normalizeZ([r,i])[0]}multiplyAndAddUnsafe(e,t,n){const r=d.BASE,i=(e,t)=>t!==xl&&t!==$l&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,n));return o.is0()?void 0:o}toAffine(e){const{px:t,py:r,pz:i}=this,o=this.is0();null==e&&(e=o?n.ONE:n.inv(i));const a=n.mul(t,e),s=n.mul(r,e),l=n.mul(i,e);if(o)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw new Error("invZ was invalid");return{x:a,y:s}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===$l)return!0;if(n)return n(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===$l?this:n?n(d,this):this.multiplyUnsafe(t.h)}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.assertValidity(),r(d,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Fs(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const h=t.nBitLength,p=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,i=t;for(;n>gl;)n&ml&&(r=r.add(i)),i=i.double(),n>>=ml;return r},precomputeWindow(e,t){const{windows:n,windowSize:i}=r(t),o=[];let a=e,s=a;for(let r=0;r<n;r++){s=a,o.push(s);for(let e=1;e<i;e++)s=s.add(a),o.push(s);a=s.double()}return o},wNAF(t,i,o){const{windows:a,windowSize:s}=r(t);let l=e.ZERO,c=e.BASE;const u=BigInt(2**t-1),d=2**t,h=BigInt(t);for(let e=0;e<a;e++){const t=e*s;let r=Number(o&u);o>>=h,r>s&&(r-=d,o+=ml);const a=t,p=t+Math.abs(r)-1,f=e%2!==0,g=r<0;0===r?c=c.add(n(f,i[a])):l=l.add(n(g,i[p]))}return{p:l,f:c}},wNAFCached(e,t,n,r){const i=e._WINDOW_SIZE||1;let o=t.get(e);return o||(o=this.precomputeWindow(e,i),1!==i&&t.set(e,r(o))),this.wNAF(i,o,n)}}}(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:a}}function Al(e){const t=function(e){const t=yl(e);return Zs(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,i=n.BYTES+1,o=2*n.BYTES+1;function a(e){return il(e,r)}function s(e){return sl(e,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:u,isWithinCurveOrder:d}=kl({...t,toBytes(e,t,r){const i=t.toAffine(),o=n.toBytes(i.x),a=Ws;return r?a(Uint8Array.from([t.hasEvenY()?2:3]),o):a(Uint8Array.from([4]),o,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],a=e.subarray(1);if(t!==i||2!==r&&3!==r){if(t===o&&4===r){return{x:n.fromBytes(a.subarray(0,n.BYTES)),y:n.fromBytes(a.subarray(n.BYTES,2*n.BYTES))}}throw new Error("Point of length ".concat(t," was invalid. Expected ").concat(i," compressed bytes or ").concat(o," uncompressed bytes"))}{const e=zs(a);if(!(xl<(s=e)&&s<n.ORDER))throw new Error("Point is not on curve");const t=u(e);let i=n.sqrt(t);return 1===(1&r)!==((i&$l)===$l)&&(i=n.neg(i)),{x:e,y:i}}var s}}),h=e=>Fs(Us(e,t.nByteLength));function p(e){return e>r>>$l}const f=(e,t,n)=>zs(e.slice(t,n));class g{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=Hs("compactSignature",e,2*n),new g(f(e,0,n),f(e,n,2*n))}static fromDER(e){const{r:t,s:n}=wl.toSig(Hs("DER",e));return new g(t,n)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new g(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:i,recovery:o}=this,c=v(Hs("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const u=2===o||3===o?r+t.n:r;if(u>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=0===(1&o)?"02":"03",p=l.fromHex(d+h(u)),f=s(u),g=a(-c*f),m=a(i*f),y=l.BASE.multiplyAndAddUnsafe(p,g,m);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Ds(this.toDERHex())}toDERHex(){return wl.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ds(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const m={isValidPrivateKey(e){try{return c(e),!0}catch(t){return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const e=hl(t.n);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.length,i=dl(t),o=hl(t);if(r<16||r<o||r>1024)throw new Error("expected ".concat(o,"-1024 bytes of input, got ").concat(r));const a=il(n?zs(e):_s(e),t-Js)+Js;return n?js(a,i):Us(a,i)}(t.randomBytes(e),t.n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function y(e){const t=e instanceof Uint8Array,n="string"===typeof e,r=(t||n)&&e.length;return t?r===i||r===o:n?r===2*i||r===2*o:e instanceof l}const b=t.bits2int||function(e){const n=zs(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},v=t.bits2int_modN||function(e){return a(b(e))},w=Vs(t.nBitLength);function x(e){if("bigint"!==typeof e)throw new Error("bigint expected");if(!(xl<=e&&e<w))throw new Error("bigint expected < 2^".concat(t.nBitLength));return Us(e,t.nByteLength)}function $(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:u}=t;let{lowS:h,prehash:f,extraEntropy:m}=i;null==h&&(h=!0),e=Hs("msgHash",e),f&&(e=Hs("prehashed msgHash",o(e)));const y=v(e),w=c(r),$=[x(w),x(y)];if(null!=m){const e=!0===m?u(n.BYTES):m;$.push(Hs("extraEntropy",e))}const k=Ws(...$),A=y;return{seed:k,k2sig:function(e){const t=b(e);if(!d(t))return;const n=s(t),r=l.BASE.multiply(t).toAffine(),i=a(r.x);if(i===xl)return;const o=a(n*a(A+i*w));if(o===xl)return;let c=(r.x===i?0:2)|Number(r.y&$l),u=o;return h&&p(o)&&(u=function(e){return p(e)?a(-e):e}(o),c^=1),new g(i,u,c)}}}const S={lowS:t.lowS,prehash:!1},k={lowS:t.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return l.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(y(e))throw new Error("first arg must be private key");if(!y(t))throw new Error("second arg must be public key");return l.fromHex(t).multiply(c(e)).toRawBytes(n)},sign:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;const{seed:i,k2sig:o}=$(e,n,r),a=t;return qs(a.hash.outputLen,a.nByteLength,a.hmac)(i,o)},verify:function(e,n,r){var i;let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k;const c=e;if(n=Hs("msgHash",n),r=Hs("publicKey",r),"strict"in o)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:d}=o;let h,p;try{if("string"===typeof c||c instanceof Uint8Array)try{h=g.fromDER(c)}catch(S){if(!(S instanceof wl.Err))throw S;h=g.fromCompact(c)}else{if("object"!==typeof c||"bigint"!==typeof c.r||"bigint"!==typeof c.s)throw new Error("PARSE");{const{r:e,s:t}=c;h=new g(e,t)}}p=l.fromHex(r)}catch(A){if("PARSE"===A.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&h.hasHighS())return!1;d&&(n=t.hash(n));const{r:f,s:m}=h,y=v(n),b=s(m),w=a(y*b),x=a(f*b),$=null===(i=l.BASE.multiplyAndAddUnsafe(p,w,x))||void 0===i?void 0:i.toAffine();return!!$&&a($.x)===f},ProjectivePoint:l,Signature:g,utils:m}}function Cl(e){return{hash:e,hmac:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return fl(e,t,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce(((e,t)=>e+t.length),0));let i=0;return t.forEach((e=>{if(!He(e))throw new Error("Uint8Array expected");r.set(e,i),i+=e.length})),r}(...r))},randomBytes:Ke}}const El=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Tl=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Pl=BigInt(1),Rl=BigInt(2),Ml=(e,t)=>(e+t/Rl)/t;function Il(e){const t=El,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),a=BigInt(23),s=BigInt(44),l=BigInt(88),c=e*e*e%t,u=c*c*e%t,d=al(u,n,t)*u%t,h=al(d,n,t)*u%t,p=al(h,Rl,t)*c%t,f=al(p,i,t)*p%t,g=al(f,o,t)*f%t,m=al(g,s,t)*g%t,y=al(m,l,t)*m%t,b=al(y,s,t)*g%t,v=al(b,n,t)*u%t,w=al(v,a,t)*f%t,x=al(w,r,t)*c%t,$=al(x,Rl,t);if(!Ll.eql(Ll.sqr($),e))throw new Error("Cannot find square root");return $}const Ll=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=Xs)throw new Error("Expected Field ORDER > 0, got ".concat(e));const{nBitLength:i,nByteLength:o}=ul(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=ll(e),s=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:Vs(i),ZERO:Xs,ONE:Js,create:t=>il(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("Invalid field element: expected bigint, got ".concat(typeof t));return Xs<=t&&t<e},is0:e=>e===Xs,isOdd:e=>(e&Js)===Js,neg:t=>il(-t,e),eql:(e,t)=>e===t,sqr:t=>il(t*t,e),add:(t,n)=>il(t+n,e),sub:(t,n)=>il(t-n,e),mul:(t,n)=>il(t*n,e),pow:(e,t)=>function(e,t,n){if(n<Xs)throw new Error("Expected power > 0");if(n===Xs)return e.ONE;if(n===Js)return t;let r=e.ONE,i=t;for(;n>Xs;)n&Js&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Js;return r}(s,e,t),div:(t,n)=>il(t*sl(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>sl(t,e),sqrt:r.sqrt||(e=>a(s,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}(s,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?js(e,o):Us(e,o),fromBytes:e=>{if(e.length!==o)throw new Error("Fp.fromBytes: expected ".concat(o,", got ").concat(e.length));return n?_s(e):zs(e)}});return Object.freeze(s)}(El,void 0,void 0,{sqrt:Il}),Bl=function(e,t){const n=t=>Al({...e,...Cl(t)});return Object.freeze({...n(t),create:n})}({a:BigInt(0),b:BigInt(7),Fp:Ll,n:Tl,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Tl,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Pl*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,a=BigInt("0x100000000000000000000000000000000"),s=Ml(o*e,t),l=Ml(-r*e,t);let c=il(e-s*n-l*i,t),u=il(-s*r-l*o,t);const d=c>a,h=u>a;if(d&&(c=t-c),h&&(u=t-u),c>a||u>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:c,k2neg:h,k2:u}}}},ts);BigInt(0);Bl.ProjectivePoint;var Ol=new WeakMap;class Fl{constructor(e){l(this,Ol,void 0),x(32===N(e),"invalid private key","privateKey","[REDACTED]"),d(Ol,this,O(e))}get privateKey(){return u(Ol,this)}get publicKey(){return Fl.computePublicKey(u(Ol,this))}get compressedPublicKey(){return Fl.computePublicKey(u(Ol,this),!0)}sign(e){x(32===N(e),"invalid digest length","digest",e);const t=Bl.sign(M(e),M(u(Ol,this)),{lowS:!0});return Ms.from({r:X(t.r,32),s:X(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=Fl.computePublicKey(e);return O(Bl.getSharedSecret(M(u(Ol,this)),R(t),!1))}static computePublicKey(e,t){let n=R(e,"key");if(32===n.length){return O(Bl.getPublicKey(n,!!t))}if(64===n.length){const e=new Uint8Array(65);e[0]=4,e.set(n,1),n=e}return O(Bl.ProjectivePoint.fromHex(n).toRawBytes(t))}static recoverPublicKey(e,t){x(32===N(e),"invalid digest length","digest",e);const n=Ms.from(t);let r=Bl.Signature.fromCompact(M(F([n.r,n.s])));r=r.addRecoveryBit(n.yParity);const i=r.recoverPublicKey(M(e));return x(null!=i,"invalid signautre for digest","signature",t),"0x"+i.toHex(!1)}static addPoints(e,t,n){const r=Bl.ProjectivePoint.fromHex(Fl.computePublicKey(e).substring(2)),i=Bl.ProjectivePoint.fromHex(Fl.computePublicKey(t).substring(2));return"0x"+r.add(i).toHex(!!n)}}function Nl(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function Dl(e,t,n){let r=0;for(let i=0;i<n;i++)r=256*r+e[t+i];return r}function zl(e,t,n,r){const i=[];for(;n<t+1+r;){const o=_l(e,n);i.push(o.result),w((n+=o.consumed)<=t+1+r,"child data too short","BUFFER_OVERRUN",{buffer:e,length:r,offset:t})}return{consumed:1+r,result:i}}function _l(e,t){w(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});const n=t=>{w(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){const r=e[t]-247;n(t+1+r);const i=Dl(e,t+1,r);return n(t+1+r+i),zl(e,t,t+1+r,r+i)}if(e[t]>=192){const r=e[t]-192;return n(t+1+r),zl(e,t,t+1,r)}if(e[t]>=184){const r=e[t]-183;n(t+1+r);const i=Dl(e,t+1,r);n(t+1+r+i);return{consumed:1+r+i,result:O(e.slice(t+1+r,t+1+r+i))}}if(e[t]>=128){const r=e[t]-128;n(t+1+r);return{consumed:1+r,result:O(e.slice(t+1,t+1+r))}}return{consumed:1,result:Nl(e[t])}}function Ul(e){const t=R(e,"data"),n=_l(t,0);return x(n.consumed===t.length,"unexpected junk after rlp payload","data",e),n.result}function jl(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function Hl(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(Hl(e))})),t.length<=55)return t.unshift(192+t.length),t;const n=jl(t.length);return n.unshift(247+n.length),n.concat(t)}const t=Array.prototype.slice.call(R(e,"object"));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const n=jl(t.length);return n.unshift(183+n.length),n.concat(t)}const Wl="0123456789abcdef";function Vl(e){let t="0x";for(const n of Hl(e))t+=Wl[n>>4],t+=Wl[15&n];return t}function Gl(e,t){return function(e){let t;return t="string"===typeof e?Fl.computePublicKey(e,!1):e.publicKey,St(gt("0x"+t.substring(4)).substring(26))}(Fl.recoverPublicKey(e,t))}const Ql=BigInt(0),ql=BigInt(2),Kl=BigInt(27),Zl=BigInt(28),Xl=BigInt(35),Jl=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Yl=131072;function ec(e,t){let n=e.toString(16);for(;n.length<2;)n="0"+n;return n+=ms(t).substring(4),"0x"+n}function tc(e){return"0x"===e?null:St(e)}function nc(e,t){try{return Rr(e)}catch(n){x(!1,n.message,t,e)}}function rc(e,t){return"0x"===e?0:Z(e,t)}function ic(e,t){if("0x"===e)return Ql;const n=G(e,t);return x(n<=Jl,"value exceeds uint size",t,n),n}function oc(e,t){const n=G(e,"value"),r=J(n);return x(r.length<=32,"value too large","tx.".concat(t),n),r}function ac(e){return Rr(e).map((e=>[e.address,e.storageKeys]))}function sc(e,t){x(Array.isArray(e),"invalid ".concat(t),"value",e);for(let n=0;n<e.length;n++)x(I(e[n],32),"invalid ${ param } hash","value[".concat(n,"]"),e[n]);return e}function lc(e,t){let n;try{if(n=rc(t[0],"yParity"),0!==n&&1!==n)throw new Error("bad yParity")}catch(a){x(!1,"invalid yParity","yParity",t[0])}const r=_(t[1],32),i=_(t[2],32),o=Ms.from({r:r,s:i,yParity:n});e.signature=o}var cc=new WeakMap,uc=new WeakMap,dc=new WeakMap,hc=new WeakMap,pc=new WeakMap,fc=new WeakMap,gc=new WeakMap,mc=new WeakMap,yc=new WeakMap,bc=new WeakMap,vc=new WeakMap,wc=new WeakMap,xc=new WeakMap,$c=new WeakMap,Sc=new WeakMap,kc=new WeakMap,Ac=new WeakSet;class Cc{get type(){return u(cc,this)}set type(e){switch(e){case null:d(cc,this,null);break;case 0:case"legacy":d(cc,this,0);break;case 1:case"berlin":case"eip-2930":d(cc,this,1);break;case 2:case"london":case"eip-1559":d(cc,this,2);break;case 3:case"cancun":case"eip-4844":d(cc,this,3);break;default:x(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=u(uc,this);return null==e&&3===this.type?mi:e}set to(e){d(uc,this,null==e?null:St(e))}get nonce(){return u(hc,this)}set nonce(e){d(hc,this,Z(e,"value"))}get gasLimit(){return u(pc,this)}set gasLimit(e){d(pc,this,G(e))}get gasPrice(){const e=u(fc,this);return null!=e||0!==this.type&&1!==this.type?e:Ql}set gasPrice(e){d(fc,this,null==e?null:G(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=u(gc,this);return null==e?2===this.type||3===this.type?Ql:null:e}set maxPriorityFeePerGas(e){d(gc,this,null==e?null:G(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=u(mc,this);return null==e?2===this.type||3===this.type?Ql:null:e}set maxFeePerGas(e){d(mc,this,null==e?null:G(e,"maxFeePerGas"))}get data(){return u(dc,this)}set data(e){d(dc,this,O(e))}get value(){return u(yc,this)}set value(e){d(yc,this,G(e,"value"))}get chainId(){return u(bc,this)}set chainId(e){d(bc,this,G(e))}get signature(){return u(vc,this)||null}set signature(e){d(vc,this,null==e?null:Ms.from(e))}get accessList(){const e=u(wc,this)||null;return null==e?1===this.type||2===this.type||3===this.type?[]:null:e}set accessList(e){d(wc,this,null==e?null:Rr(e))}get maxFeePerBlobGas(){const e=u(xc,this);return null==e&&3===this.type?Ql:e}set maxFeePerBlobGas(e){d(xc,this,null==e?null:G(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=u($c,this);return null==e&&3===this.type?[]:e}set blobVersionedHashes(e){if(null!=e){x(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)x(I(e[t],32),"invalid blobVersionedHash","value[".concat(t,"]"),e[t])}d($c,this,e)}get blobs(){return null==u(kc,this)?null:u(kc,this).map((e=>Object.assign({},e)))}set blobs(e){if(null==e)return void d(kc,this,null);const t=[],n=[];for(let r=0;r<e.length;r++){const i=e[r];if(L(i)){w(u(Sc,this),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let e=R(i);if(x(e.length<=Yl,"blob is too large","blobs[".concat(r,"]"),i),e.length!==Yl){const t=new Uint8Array(Yl);t.set(e),e=t}const o=u(Sc,this).blobToKzgCommitment(e),a=O(u(Sc,this).computeBlobKzgProof(e,o));t.push({data:O(e),commitment:O(o),proof:a}),n.push(ec(1,o))}else{const e=O(i.commitment);t.push({data:O(i.data),commitment:e,proof:O(i.proof)}),n.push(ec(1,e))}}d(kc,this,t),d($c,this,n)}get kzg(){return u(Sc,this)}set kzg(e){d(Sc,this,e)}constructor(){A(this,Ac),l(this,cc,void 0),l(this,uc,void 0),l(this,dc,void 0),l(this,hc,void 0),l(this,pc,void 0),l(this,fc,void 0),l(this,gc,void 0),l(this,mc,void 0),l(this,yc,void 0),l(this,bc,void 0),l(this,vc,void 0),l(this,wc,void 0),l(this,xc,void 0),l(this,$c,void 0),l(this,Sc,void 0),l(this,kc,void 0),d(cc,this,null),d(uc,this,null),d(hc,this,0),d(pc,this,Ql),d(fc,this,null),d(gc,this,null),d(mc,this,null),d(dc,this,"0x"),d(yc,this,Ql),d(bc,this,Ql),d(vc,this,null),d(wc,this,null),d(xc,this,null),d($c,this,null),d(kc,this,null),d(Sc,this,null)}get hash(){return null==this.signature?null:gt(c(Ac,this,Ec).call(this,!0,!1))}get unsignedHash(){return gt(this.unsignedSerialized)}get from(){return null==this.signature?null:Gl(this.unsignedHash,this.signature)}get fromPublicKey(){return null==this.signature?null:Fl.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}get serialized(){return c(Ac,this,Ec).call(this,!0,!0)}get unsignedSerialized(){return c(Ac,this,Ec).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,n=null!=this.accessList,r=null!=u(xc,this)||u($c,this);null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&w(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),w(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),w(0!==this.type||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return null!=this.type?i.push(this.type):t?i.push(2):e?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(r&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}clone(){return Cc.from(this)}toJSON(){const e=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(null==e)return new Cc;if("string"===typeof e){const t=R(e);if(t[0]>=127)return Cc.from(function(e){const t=Ul(e);x(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);const n={type:0,nonce:rc(t[0],"nonce"),gasPrice:ic(t[1],"gasPrice"),gasLimit:ic(t[2],"gasLimit"),to:tc(t[3]),value:ic(t[4],"value"),data:O(t[5]),chainId:Ql};if(6===t.length)return n;const r=ic(t[6],"v"),i=ic(t[7],"r"),o=ic(t[8],"s");if(i===Ql&&o===Ql)n.chainId=r;else{let e=(r-Xl)/ql;e<Ql&&(e=Ql),n.chainId=e,x(e!==Ql||r===Kl||r===Zl,"non-canonical legacy v","v",t[6]),n.signature=Ms.from({r:_(t[7],32),s:_(t[8],32),v:r})}return n}(t));switch(t[0]){case 1:return Cc.from(function(e){const t=Ul(R(e).slice(1));x(Array.isArray(t)&&(8===t.length||11===t.length),"invalid field count for transaction type: 1","data",O(e));const n={type:1,chainId:ic(t[0],"chainId"),nonce:rc(t[1],"nonce"),gasPrice:ic(t[2],"gasPrice"),gasLimit:ic(t[3],"gasLimit"),to:tc(t[4]),value:ic(t[5],"value"),data:O(t[6]),accessList:nc(t[7],"accessList")};return 8===t.length||lc(n,t.slice(8)),n}(t));case 2:return Cc.from(function(e){const t=Ul(R(e).slice(1));x(Array.isArray(t)&&(9===t.length||12===t.length),"invalid field count for transaction type: 2","data",O(e));const n={type:2,chainId:ic(t[0],"chainId"),nonce:rc(t[1],"nonce"),maxPriorityFeePerGas:ic(t[2],"maxPriorityFeePerGas"),maxFeePerGas:ic(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:ic(t[4],"gasLimit"),to:tc(t[5]),value:ic(t[6],"value"),data:O(t[7]),accessList:nc(t[8],"accessList")};return 9===t.length||lc(n,t.slice(9)),n}(t));case 3:return Cc.from(function(e){let t=Ul(R(e).slice(1)),n="3",r=null;if(4===t.length&&Array.isArray(t[0])){n="3 (network format)";const e=t[1],i=t[2],o=t[3];x(Array.isArray(e),"invalid network format: blobs not an array","fields[1]",e),x(Array.isArray(i),"invalid network format: commitments not an array","fields[2]",i),x(Array.isArray(o),"invalid network format: proofs not an array","fields[3]",o),x(e.length===i.length,"invalid network format: blobs/commitments length mismatch","fields",t),x(e.length===o.length,"invalid network format: blobs/proofs length mismatch","fields",t),r=[];for(let n=0;n<t[1].length;n++)r.push({data:e[n],commitment:i[n],proof:o[n]});t=t[0]}x(Array.isArray(t)&&(11===t.length||14===t.length),"invalid field count for transaction type: ".concat(n),"data",O(e));const i={type:3,chainId:ic(t[0],"chainId"),nonce:rc(t[1],"nonce"),maxPriorityFeePerGas:ic(t[2],"maxPriorityFeePerGas"),maxFeePerGas:ic(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:ic(t[4],"gasLimit"),to:tc(t[5]),value:ic(t[6],"value"),data:O(t[7]),accessList:nc(t[8],"accessList"),maxFeePerBlobGas:ic(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};r&&(i.blobs=r),x(null!=i.to,"invalid address for transaction type: ".concat(n),"data",e),x(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let o=0;o<i.blobVersionedHashes.length;o++)x(I(i.blobVersionedHashes[o],32),"invalid blobVersionedHash at index ".concat(o,": must be length 32"),"data",e);return 11===t.length||lc(i,t.slice(11)),i}(t))}w(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new Cc;return null!=e.type&&(t.type=e.type),null!=e.to&&(t.to=e.to),null!=e.nonce&&(t.nonce=e.nonce),null!=e.gasLimit&&(t.gasLimit=e.gasLimit),null!=e.gasPrice&&(t.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null!=e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),null!=e.data&&(t.data=e.data),null!=e.value&&(t.value=e.value),null!=e.chainId&&(t.chainId=e.chainId),null!=e.signature&&(t.signature=Ms.from(e.signature)),null!=e.accessList&&(t.accessList=e.accessList),null!=e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),null!=e.kzg&&(t.kzg=e.kzg),null!=e.blobs&&(t.blobs=e.blobs),null!=e.hash&&(x(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),x(t.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&(x(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),x(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}function Ec(e,t){w(!e||null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return function(e,t){const n=[oc(e.nonce,"nonce"),oc(e.gasPrice||0,"gasPrice"),oc(e.gasLimit,"gasLimit"),e.to||"0x",oc(e.value,"value"),e.data];let r=Ql;if(e.chainId!=Ql)r=G(e.chainId,"tx.chainId"),x(!t||null==t.networkV||t.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){const t=e.signature.legacyChainId;null!=t&&(r=t)}if(!t)return r!==Ql&&(n.push(J(r)),n.push("0x"),n.push("0x")),Vl(n);let i=BigInt(27+t.yParity);return r!==Ql?i=Ms.getChainIdV(r,t.v):BigInt(t.v)!==i&&x(!1,"tx.chainId/sig.v mismatch","sig",t),n.push(J(i)),n.push(J(t.r)),n.push(J(t.s)),Vl(n)}(this,n);case 1:return function(e,t){const n=[oc(e.chainId,"chainId"),oc(e.nonce,"nonce"),oc(e.gasPrice||0,"gasPrice"),oc(e.gasLimit,"gasLimit"),e.to||"0x",oc(e.value,"value"),e.data,ac(e.accessList||[])];return t&&(n.push(oc(t.yParity,"recoveryParam")),n.push(J(t.r)),n.push(J(t.s))),F(["0x01",Vl(n)])}(this,n);case 2:return function(e,t){const n=[oc(e.chainId,"chainId"),oc(e.nonce,"nonce"),oc(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),oc(e.maxFeePerGas||0,"maxFeePerGas"),oc(e.gasLimit,"gasLimit"),e.to||"0x",oc(e.value,"value"),e.data,ac(e.accessList||[])];return t&&(n.push(oc(t.yParity,"yParity")),n.push(J(t.r)),n.push(J(t.s))),F(["0x02",Vl(n)])}(this,n);case 3:return function(e,t,n){const r=[oc(e.chainId,"chainId"),oc(e.nonce,"nonce"),oc(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),oc(e.maxFeePerGas||0,"maxFeePerGas"),oc(e.gasLimit,"gasLimit"),e.to||mi,oc(e.value,"value"),e.data,ac(e.accessList||[]),oc(e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),sc(e.blobVersionedHashes||[],"blobVersionedHashes")];return t&&(r.push(oc(t.yParity,"yParity")),r.push(J(t.r)),r.push(J(t.s)),n)?F(["0x03",Vl([r,n.map((e=>e.data)),n.map((e=>e.commitment)),n.map((e=>e.proof))])]):F(["0x03",Vl(r)])}(this,n,t?this.blobs:null)}w(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}const Tc="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const Pc=BigInt(58);var Rc;function Mc(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):x(!1,"unsupported IPFS format","link",e),"https://gateway.ipfs.io/ipfs/".concat(e)}class Ic{constructor(e){T(this,"name",void 0),g(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const Lc=new RegExp("^(ipfs)://(.*)$","i"),Bc=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Lc,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Oc=new WeakMap,Fc=new WeakMap,Nc=new WeakSet;class Dc{constructor(e,t,n){A(this,Nc),T(this,"provider",void 0),T(this,"address",void 0),T(this,"name",void 0),l(this,Oc,void 0),l(this,Fc,void 0),g(this,{provider:e,address:t,name:n}),d(Oc,this,null),d(Fc,this,new Ao(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return null==u(Oc,this)&&d(Oc,this,(async()=>{try{return await u(Fc,this).supportsInterface("0x9061b923")}catch(e){if(y(e,"CALL_EXCEPTION"))return!1;throw d(Oc,this,null),e}})()),await u(Oc,this)}async getAddress(e){if(null==e&&(e=60),60===e)try{const e=await c(Nc,this,zc).call(this,"addr(bytes32)");return null==e||e===mi?null:e}catch(i){if(y(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let t=e+2147483648;const n=await c(Nc,this,zc).call(this,"addr(bytes32,uint)",[t]);if(I(n,20))return St(n)}let t=null;for(const o of this.provider.plugins)if(o instanceof Ic&&o.supportsCoinType(e)){t=o;break}if(null==t)return null;const n=await c(Nc,this,zc).call(this,"addr(bytes32,uint)",[e]);if(null==n||"0x"===n)return null;const r=await t.decodeAddress(e,n);if(null!=r)return r;w(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:"getAddress(".concat(e,")"),info:{coinType:e,data:n}})}async getText(e){const t=await c(Nc,this,zc).call(this,"text(bytes32,string)",[e]);return null==t||"0x"===t?null:t}async getContentHash(){const e=await c(Nc,this,zc).call(this,"contenthash(bytes32)");if(null==e||"0x"===e)return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e="e3010170"===t[1]?"ipfs":"ipns",n=parseInt(t[4],16);if(t[5].length===2*n)return"".concat(e,"://").concat(function(e){const t=R(e);let n=K(t),r="";for(;n;)r=Tc[Number(n%Pc)]+r,n/=Pc;for(let i=0;i<t.length&&!t[i];i++)r=Tc[0]+r;return r}("0x"+t[2]))}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&64===n[1].length)return"bzz://".concat(n[1]);w(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(null==n)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<Bc.length;r++){const i=n.match(Bc[r]);if(null==i)continue;const o=i[1].toLowerCase();switch(o){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const t=Mc(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:t}),{linkage:e,url:t}}case"erc721":case"erc1155":{const r="erc721"===o?"tokenURI(uint256)":"uri(uint256)";e.push({type:o,value:n});const a=await this.getAddress();if(null==a)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const s=(i[2]||"").split("/");if(2!==s.length)return e.push({type:"!".concat(o,"caip"),value:i[2]||""}),{url:null,linkage:e};const l=s[1],c=new Ao(s[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===o){const t=await c.ownerOf(l);if(a!==t)return e.push({type:"!owner",value:t}),{url:null,linkage:e};e.push({type:"owner",value:t})}else if("erc1155"===o){const t=await c.balanceOf(a,l);if(!t)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:t.toString()})}let u=await c[r](l);if(null==u||"0x"===u)return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:u}),"erc1155"===o&&(u=u.replace("{id}",X(l,32).substring(2)),e.push({type:"metadata-url-expanded",value:u})),u.match(/^ipfs:/i)&&(u=Mc(u)),e.push({type:"metadata-url",value:u});let d={};const h=await new ai(u).send();h.assertOk();try{d=h.bodyJson}catch(t){try{e.push({type:"!metadata",value:h.bodyText})}catch(t){const n=h.body;return n&&e.push({type:"!metadata",value:O(n)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!d)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(d)});let p=d.image;if("string"!==typeof p)return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(p.match(/^(https:\/\/|data:)/i));else{if(null==p.match(Lc))return e.push({type:"!imageUrl-ipfs",value:p}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:p}),p=Mc(p)}return e.push({type:"url",value:p}),{linkage:e,url:p}}}}}catch(t){}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),n=t.getPlugin("org.ethers.plugins.network.Ens");return w(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),n.address}static async fromName(e,t){let n=t;for(;;){if(""===n||"."===n)return null;if("eth"!==t&&"eth"===n)return null;const r=await _c.call(Dc,e,n);if(null!=r){const i=new Dc(e,r,t);return n===t||await i.supportsWildcard()?i:null}n=n.split(".").slice(1).join(".")}}}async function zc(e,t){t=(t||[]).slice();const n=u(Fc,this).interface;t.unshift(Ga(this.name));let r=null;await this.supportsWildcard()&&(r=n.getFunction(e),w(r,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[Qa(this.name,255),n.encodeFunctionData(r,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const i=await u(Fc,this)[e](...t);return r?n.decodeFunctionResult(r,i)[0]:i}catch(i){if(!y(i,"CALL_EXCEPTION"))throw i}return null}async function _c(e,t){const n=await Rc.getEnsAddress(e);try{const r=new Ao(n,["function resolver(bytes32) view returns (address)"],e),i=await r.resolver(Ga(t),{enableCcipRead:!0});return i===mi?null:i}catch(r){throw r}return null}Rc=Dc;const Uc=BigInt(0);function jc(e,t){return function(n){return null==n?t:e(n)}}function Hc(e,t){return n=>{if(t&&null==n)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map((t=>e(t)))}}function Wc(e,t){return n=>{const r={};for(const o in e){let a=o;if(t&&o in t&&!(a in n))for(const e of t[o])if(e in n){a=e;break}try{const t=e[o](n[a]);void 0!==t&&(r[o]=t)}catch(i){const e=i instanceof Error?i.message:"not-an-error";w(!1,"invalid value for value.".concat(o," (").concat(e,")"),"BAD_DATA",{value:n})}}return r}}function Vc(e){return x(I(e,!0),"invalid data","value",e),e}function Gc(e){return x(I(e,32),"invalid hash","value",e),e}const Qc=Wc({address:St,blockHash:Gc,blockNumber:Z,data:Vc,index:Z,removed:jc((function(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}x(!1,"invalid boolean; ".concat(JSON.stringify(e)),"value",e)}),!1),topics:Hc(Gc),transactionHash:Gc,transactionIndex:Z},{index:["logIndex"]});const qc=Wc({hash:jc(Gc),parentHash:Gc,parentBeaconBlockRoot:jc(Gc,null),number:Z,timestamp:Z,nonce:jc(Vc),difficulty:G,gasLimit:G,gasUsed:G,stateRoot:jc(Gc,null),receiptsRoot:jc(Gc,null),blobGasUsed:jc(G,null),excessBlobGas:jc(G,null),miner:jc(St),prevRandao:jc(Gc,null),extraData:Vc,baseFeePerGas:jc(G)},{prevRandao:["mixHash"]});const Kc=Wc({transactionIndex:Z,blockNumber:Z,transactionHash:Gc,address:St,topics:Hc(Gc),data:Vc,index:Z,blockHash:Gc},{index:["logIndex"]});const Zc=Wc({to:jc(St,null),from:jc(St,null),contractAddress:jc(St,null),index:Z,root:jc(O),gasUsed:G,blobGasUsed:jc(G,null),logsBloom:jc(Vc),blockHash:Gc,hash:Gc,logs:Hc((function(e){return Kc(e)})),blockNumber:Z,cumulativeGasUsed:G,effectiveGasPrice:jc(G),blobGasPrice:jc(G,null),status:jc(Z),type:jc(Z,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Xc(e){e.to&&G(e.to)===Uc&&(e.to="0x0000000000000000000000000000000000000000");const t=Wc({hash:Gc,index:jc(Z,void 0),type:e=>"0x"===e||null==e?0:Z(e),accessList:jc(Rr,null),blobVersionedHashes:jc(Hc(Gc,!0),null),blockHash:jc(Gc,null),blockNumber:jc(Z,null),transactionIndex:jc(Z,null),from:St,gasPrice:jc(G),maxPriorityFeePerGas:jc(G),maxFeePerGas:jc(G),maxFeePerBlobGas:jc(G,null),gasLimit:G,to:jc(St,null),value:G,nonce:Z,data:Vc,creates:jc(St,null),chainId:jc(G,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(e);if(null==t.to&&null==t.creates&&(t.creates=function(e){const t=St(e.from);let n=G(e.nonce,"tx.nonce").toString(16);return n="0"===n?"0x":n.length%2?"0x0"+n:"0x"+n,St(D(gt(Vl([t,n])),12))}(t)),1!==e.type&&2!==e.type||null!=e.accessList||(t.accessList=[]),e.signature?t.signature=Ms.from(e.signature):t.signature=Ms.from(e),null==t.chainId){const e=t.signature.legacyChainId;null!=e&&(t.chainId=e)}return t.blockHash&&G(t.blockHash)===Uc&&(t.blockHash=null),t}class Jc{constructor(e){T(this,"name",void 0),g(this,{name:e})}clone(){return new Jc(this.name)}}class Yc extends Jc{constructor(e,t){null==e&&(e=0),super("org.ethers.network.plugins.GasCost#".concat(e||0)),T(this,"effectiveBlock",void 0),T(this,"txBase",void 0),T(this,"txCreate",void 0),T(this,"txDataZero",void 0),T(this,"txDataNonzero",void 0),T(this,"txAccessListStorageKey",void 0),T(this,"txAccessListAddress",void 0);const n={effectiveBlock:e};function r(e,r){let i=(t||{})[e];null==i&&(i=r),x("number"===typeof i,"invalud value for ".concat(e),"costs",t),n[e]=i}r("txBase",21e3),r("txCreate",32e3),r("txDataZero",4),r("txDataNonzero",16),r("txAccessListStorageKey",1900),r("txAccessListAddress",2400),g(this,n)}clone(){return new Yc(this.effectiveBlock,this)}}class eu extends Jc{constructor(e,t){super("org.ethers.plugins.network.Ens"),T(this,"address",void 0),T(this,"targetNetwork",void 0),g(this,{address:e||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==t?1:t})}clone(){return new eu(this.address,this.targetNetwork)}}var tu=new WeakMap,nu=new WeakMap;class ru extends Jc{get url(){return u(tu,this)}get processFunc(){return u(nu,this)}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),l(this,tu,void 0),l(this,nu,void 0),d(tu,this,e),d(nu,this,t)}clone(){return this}}const iu=new Map;var ou=new WeakMap,au=new WeakMap,su=new WeakMap;class lu{constructor(e,t){l(this,ou,void 0),l(this,au,void 0),l(this,su,void 0),d(ou,this,e),d(au,this,G(t)),d(su,this,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return u(ou,this)}set name(e){d(ou,this,e)}get chainId(){return u(au,this)}set chainId(e){d(au,this,G(e,"chainId"))}matches(e){if(null==e)return!1;if("string"===typeof e){try{return this.chainId===G(e)}catch(t){}return this.name===e}if("number"===typeof e||"bigint"===typeof e){try{return this.chainId===G(e)}catch(t){}return!1}if("object"===typeof e){if(null!=e.chainId){try{return this.chainId===G(e.chainId)}catch(t){}return!1}return null!=e.name&&this.name===e.name}return!1}get plugins(){return Array.from(u(su,this).values())}attachPlugin(e){if(u(su,this).get(e.name))throw new Error("cannot replace existing plugin: ".concat(e.name," "));return u(su,this).set(e.name,e.clone()),this}getPlugin(e){return u(su,this).get(e)||null}getPlugins(e){return this.plugins.filter((t=>t.name.split("#")[0]===e))}clone(){const e=new lu(this.name,this.chainId);return this.plugins.forEach((t=>{e.attachPlugin(t.clone())})),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new Yc;let n=t.txBase;if(null==e.to&&(n+=t.txCreate),e.data)for(let r=2;r<e.data.length;r+=2)"00"===e.data.substring(r,r+2)?n+=t.txDataZero:n+=t.txDataNonzero;if(e.accessList){const r=Rr(e.accessList);for(const e in r)n+=t.txAccessListAddress+t.txAccessListStorageKey*r[e].storageKeys.length}return n}static from(e){if(function(){if(du)return;function e(e,t,n){const r=function(){const r=new lu(e,t);return null!=n.ensNetwork&&r.attachPlugin(new eu(null,n.ensNetwork)),r.attachPlugin(new Yc),(n.plugins||[]).forEach((e=>{r.attachPlugin(e)})),r};lu.register(e,r),lu.register(t,r),n.altNames&&n.altNames.forEach((e=>{lu.register(e,r)}))}du=!0,e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",11155111,{ensNetwork:11155111}),e("holesky",17e3,{ensNetwork:17e3}),e("classic",61,{}),e("classicKotti",6,{}),e("arbitrum",42161,{ensNetwork:1}),e("arbitrum-goerli",421613,{}),e("arbitrum-sepolia",421614,{}),e("base",8453,{ensNetwork:1}),e("base-goerli",84531,{}),e("base-sepolia",84532,{}),e("bnb",56,{ensNetwork:1}),e("bnbt",97,{}),e("linea",59144,{ensNetwork:1}),e("linea-goerli",59140,{}),e("linea-sepolia",59141,{}),e("matic",137,{ensNetwork:1,plugins:[uu("https://gasstation.polygon.technology/v2")]}),e("matic-amoy",80002,{}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[uu("https://gasstation-testnet.polygon.technology/v2")]}),e("optimism",10,{ensNetwork:1,plugins:[]}),e("optimism-goerli",420,{}),e("optimism-sepolia",11155420,{}),e("xdai",100,{ensNetwork:1})}(),null==e)return lu.from("mainnet");if("number"===typeof e&&(e=BigInt(e)),"string"===typeof e||"bigint"===typeof e){const t=iu.get(e);if(t)return t();if("bigint"===typeof e)return new lu("unknown",e);x(!1,"unknown network","network",e)}if("function"===typeof e.clone){return e.clone()}if("object"===typeof e){x("string"===typeof e.name&&"number"===typeof e.chainId,"invalid network object name or chainId","network",e);const t=new lu(e.name,e.chainId);return(e.ensAddress||null!=e.ensNetwork)&&t.attachPlugin(new eu(e.ensAddress,e.ensNetwork)),t}x(!1,"invalid network","network",e)}static register(e,t){"number"===typeof e&&(e=BigInt(e));const n=iu.get(e);n&&x(!1,"conflicting network for ".concat(JSON.stringify(n.name)),"nameOrChainId",e),iu.set(e,t)}}function cu(e,t){const n=String(e);if(!n.match(/^[0-9.]+$/))throw new Error("invalid gwei value: ".concat(e));const r=n.split(".");if(1===r.length&&r.push(""),2!==r.length)throw new Error("invalid gwei value: ".concat(e));for(;r[1].length<t;)r[1]+="0";if(r[1].length>9){let e=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||e++,r[1]=e.toString()}return BigInt(r[0]+r[1])}function uu(e){return new ru(e,(async(e,t,n)=>{let r;n.setHeader("User-Agent","ethers");try{const[t,i]=await Promise.all([n.send(),e()]);r=t;const o=r.bodyJson.standard;return{gasPrice:i.gasPrice,maxFeePerGas:cu(o.maxFee,9),maxPriorityFeePerGas:cu(o.maxPriorityFee,9)}}catch(i){w(!1,"error encountered with polygon gas station (".concat(JSON.stringify(n.url),")"),"SERVER_ERROR",{request:n,response:r,error:i})}}))}let du=!1;function hu(e){return JSON.parse(JSON.stringify(e))}var pu=new WeakMap,fu=new WeakMap,gu=new WeakMap,mu=new WeakMap,yu=new WeakSet;class bu{constructor(e){A(this,yu),l(this,pu,void 0),l(this,fu,void 0),l(this,gu,void 0),l(this,mu,void 0),d(pu,this,e),d(fu,this,null),d(gu,this,4e3),d(mu,this,-2)}get pollingInterval(){return u(gu,this)}set pollingInterval(e){d(gu,this,e)}start(){u(fu,this)||(d(fu,this,u(pu,this)._setTimeout(c(yu,this,vu).bind(this),u(gu,this))),c(yu,this,vu).call(this))}stop(){u(fu,this)&&(u(pu,this)._clearTimeout(u(fu,this)),d(fu,this,null))}pause(e){this.stop(),e&&d(mu,this,-2)}resume(){this.start()}}async function vu(){try{const e=await u(pu,this).getBlockNumber();if(-2===u(mu,this))return void d(mu,this,e);if(e!==u(mu,this)){for(let t=u(mu,this)+1;t<=e;t++){if(null==u(fu,this))return;await u(pu,this).emit("block",t)}d(mu,this,e)}}catch(e){}null!=u(fu,this)&&d(fu,this,u(pu,this)._setTimeout(c(yu,this,vu).bind(this),u(gu,this)))}var wu=new WeakMap,xu=new WeakMap,$u=new WeakMap;class Su{constructor(e){l(this,wu,void 0),l(this,xu,void 0),l(this,$u,void 0),d(wu,this,e),d($u,this,!1),d(xu,this,(e=>{this._poll(e,u(wu,this))}))}async _poll(e,t){throw new Error("sub-classes must override this")}start(){u($u,this)||(d($u,this,!0),u(xu,this).call(this,-2),u(wu,this).on("block",u(xu,this)))}stop(){u($u,this)&&(d($u,this,!1),u(wu,this).off("block",u(xu,this)))}pause(e){this.stop()}resume(){this.start()}}var ku=new WeakMap,Au=new WeakMap;class Cu extends Su{constructor(e,t){super(e),l(this,ku,void 0),l(this,Au,void 0),d(ku,this,t),d(Au,this,-2)}pause(e){e&&d(Au,this,-2),super.pause(e)}async _poll(e,t){const n=await t.getBlock(u(ku,this));null!=n&&(-2===u(Au,this)?d(Au,this,n.number):n.number>u(Au,this)&&(t.emit(u(ku,this),n.number),d(Au,this,n.number)))}}var Eu=new WeakMap;class Tu extends Su{constructor(e,t){super(e),l(this,Eu,void 0),d(Eu,this,hu(t))}async _poll(e,t){throw new Error("@TODO")}}var Pu=new WeakMap;class Ru extends Su{constructor(e,t){super(e),l(this,Pu,void 0),d(Pu,this,t)}async _poll(e,t){const n=await t.getTransactionReceipt(u(Pu,this));n&&t.emit(u(Pu,this),n)}}var Mu=new WeakMap,Iu=new WeakMap,Lu=new WeakMap,Bu=new WeakMap,Ou=new WeakMap,Fu=new WeakSet;class Nu{constructor(e,t){A(this,Fu),l(this,Mu,void 0),l(this,Iu,void 0),l(this,Lu,void 0),l(this,Bu,void 0),l(this,Ou,void 0),d(Mu,this,e),d(Iu,this,hu(t)),d(Lu,this,c(Fu,this,Du).bind(this)),d(Bu,this,!1),d(Ou,this,-2)}start(){u(Bu,this)||(d(Bu,this,!0),-2===u(Ou,this)&&u(Mu,this).getBlockNumber().then((e=>{d(Ou,this,e)})),u(Mu,this).on("block",u(Lu,this)))}stop(){u(Bu,this)&&(d(Bu,this,!1),u(Mu,this).off("block",u(Lu,this)))}pause(e){this.stop(),e&&d(Ou,this,-2)}resume(){this.start()}}async function Du(e){if(-2===u(Ou,this))return;const t=hu(u(Iu,this));t.fromBlock=u(Ou,this)+1,t.toBlock=e;const n=await u(Mu,this).getLogs(t);if(0!==n.length)for(const r of n)u(Mu,this).emit(u(Iu,this),r),d(Ou,this,r.blockNumber);else u(Ou,this)<e-60&&d(Ou,this,e-60)}const zu=BigInt(2);function _u(e){return e&&"function"===typeof e.then}function Uu(e,t){return e+":"+JSON.stringify(t,((e,t)=>{if(null==t)return"null";if("bigint"===typeof t)return"bigint:".concat(t.toString());if("string"===typeof t)return t.toLowerCase();if("object"===typeof t&&!Array.isArray(t)){const e=Object.keys(t);return e.sort(),e.reduce(((e,n)=>(e[n]=t[n],e)),{})}return t}))}class ju{constructor(e){T(this,"name",void 0),g(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function Hu(e){return(e=Array.from(new Set(e).values())).sort(),e}async function Wu(e,t){if(null==e)throw new Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),"string"===typeof e)switch(e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:e,tag:e}}if(I(e,32)){const t=e.toLowerCase();return{type:"transaction",tag:Uu("tx",{hash:t}),hash:t}}if(e.orphan){const t=e;return{type:"orphan",tag:Uu("orphan",t),filter:(n=t,JSON.parse(JSON.stringify(n)))}}var n;if(e.address||e.topics){const n=e,r={topics:(n.topics||[]).map((e=>null==e?null:Array.isArray(e)?Hu(e.map((e=>e.toLowerCase()))):e.toLowerCase()))};if(n.address){const e=[],i=[],o=n=>{I(n)?e.push(n):i.push((async()=>{e.push(await lr(n,t))})())};Array.isArray(n.address)?n.address.forEach(o):o(n.address),i.length&&await Promise.all(i),r.address=Hu(e.map((e=>e.toLowerCase())))}return{filter:r,tag:Uu("event",r),type:"event"}}x(!1,"unknown ProviderEvent","event",e)}function Vu(){return(new Date).getTime()}const Gu={cacheTimeout:250,pollingInterval:4e3};var Qu=new WeakMap,qu=new WeakMap,Ku=new WeakMap,Zu=new WeakMap,Xu=new WeakMap,Ju=new WeakMap,Yu=new WeakMap,ed=new WeakMap,td=new WeakMap,nd=new WeakMap,rd=new WeakMap,id=new WeakMap,od=new WeakSet;class ad{constructor(e,t){if(A(this,od),l(this,Qu,void 0),l(this,qu,void 0),l(this,Ku,void 0),l(this,Zu,void 0),l(this,Xu,void 0),l(this,Ju,void 0),l(this,Yu,void 0),l(this,ed,void 0),l(this,td,void 0),l(this,nd,void 0),l(this,rd,void 0),l(this,id,void 0),d(id,this,Object.assign({},Gu,t||{})),"any"===e)d(Ju,this,!0),d(Xu,this,null);else if(e){const t=lu.from(e);d(Ju,this,!1),d(Xu,this,Promise.resolve(t)),setTimeout((()=>{this.emit("network",t,null)}),0)}else d(Ju,this,!1),d(Xu,this,null);d(ed,this,-1),d(Yu,this,new Map),d(Qu,this,new Map),d(qu,this,new Map),d(Ku,this,null),d(Zu,this,!1),d(td,this,1),d(nd,this,new Map),d(rd,this,!1)}get pollingInterval(){return u(id,this).pollingInterval}get provider(){return this}get plugins(){return Array.from(u(qu,this).values())}attachPlugin(e){if(u(qu,this).get(e.name))throw new Error("cannot replace existing plugin: ".concat(e.name," "));return u(qu,this).set(e.name,e.connect(this)),this}getPlugin(e){return u(qu,this).get(e)||null}get disableCcipRead(){return u(rd,this)}set disableCcipRead(e){d(rd,this,!!e)}async ccipReadFetch(e,t,n){if(this.disableCcipRead||0===n.length||null==e.to)return null;const r=e.to.toLowerCase(),i=t.toLowerCase(),o=[];for(let s=0;s<n.length;s++){const t=n[s],l=t.replace("{sender}",r).replace("{data}",i),c=new ai(l);-1===t.indexOf("{data}")&&(c.body={data:i,sender:r}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:c,index:s,urls:n});let u="unknown error";const d=await c.send();try{const e=d.bodyJson;if(e.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:c,result:e}),e.data;e.message&&(u=e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:c,result:e})}catch(a){}w(d.statusCode<400||d.statusCode>=500,"response not found during CCIP fetch: ".concat(u),"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:t,errorMessage:u}}),o.push(u)}w(!1,"error encountered during CCIP fetch: ".concat(o.map((e=>JSON.stringify(e))).join(", ")),"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:o}})}_wrapBlock(e,t){return new Ni(function(e){const t=qc(e);return t.transactions=e.transactions.map((e=>"string"===typeof e?e:Xc(e))),t}(e),this)}_wrapLog(e,t){return new Di(function(e){return Qc(e)}(e),this)}_wrapTransactionReceipt(e,t){return new _i(function(e){return Zc(e)}(e),this)}_wrapTransactionResponse(e,t){return new ji(Xc(e),this)}_detectNetwork(){w(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){w(!1,"unsupported method: ".concat(e.method),"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Z(await c(od,this,sd).call(this,{method:"getBlockNumber"}),"%response");return u(ed,this)>=0&&d(ed,this,e),e}_getAddress(e){return lr(e,this)}_getBlockTag(e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}return I(e)?I(e,32)?e:Y(e):("bigint"===typeof e&&(e=Z(e,"blockTag")),"number"===typeof e?e>=0?Y(e):u(ed,this)>=0?Y(u(ed,this)+e):this.getBlockNumber().then((t=>Y(t+e))):void x(!1,"invalid blockTag","blockTag",e))}_getFilter(e){const t=(e.topics||[]).map((e=>null==e?null:Array.isArray(e)?Hu(e.map((e=>e.toLowerCase()))):e.toLowerCase())),n="blockHash"in e?e.blockHash:void 0,r=(e,r,i)=>{let o;switch(e.length){case 0:break;case 1:o=e[0];break;default:e.sort(),o=e}if(n&&(null!=r||null!=i))throw new Error("invalid filter");const a={};return o&&(a.address=o),t.length&&(a.topics=t),r&&(a.fromBlock=r),i&&(a.toBlock=i),n&&(a.blockHash=n),a};let i,o,a=[];if(e.address)if(Array.isArray(e.address))for(const s of e.address)a.push(this._getAddress(s));else a.push(this._getAddress(e.address));return"fromBlock"in e&&(i=this._getBlockTag(e.fromBlock)),"toBlock"in e&&(o=this._getBlockTag(e.toBlock)),a.filter((e=>"string"!==typeof e)).length||null!=i&&"string"!==typeof i||null!=o&&"string"!==typeof o?Promise.all([Promise.all(a),i,o]).then((e=>r(e[0],e[1],e[2]))):r(a,i,o)}_getTransactionRequest(e){const t=Oi(e),n=[];if(["to","from"].forEach((e=>{if(null==t[e])return;const r=lr(t[e],this);_u(r)?n.push(async function(){t[e]=await r}()):t[e]=r})),null!=t.blockTag){const e=this._getBlockTag(t.blockTag);_u(e)?n.push(async function(){t.blockTag=await e}()):t.blockTag=e}return n.length?async function(){return await Promise.all(n),t}():t}async getNetwork(){if(null==u(Xu,this)){const e=(async()=>{try{const e=await this._detectNetwork();return this.emit("network",e,null),e}catch(t){throw u(Xu,this)===e&&d(Xu,this,null),t}})();return d(Xu,this,e),(await e).clone()}const e=u(Xu,this),[t,n]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==n.chainId&&(u(Ju,this)?(this.emit("network",n,t),u(Xu,this)===e&&d(Xu,this,Promise.resolve(n))):w(!1,"network changed: ".concat(t.chainId," => ").concat(n.chainId," "),"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:t,gasPrice:n,priorityFee:r}=await f({_block:c(od,this,dd).call(this,"latest",!1),gasPrice:(async()=>{try{return G(await c(od,this,sd).call(this,{method:"getGasPrice"}),"%response")}catch(e){}return null})(),priorityFee:(async()=>{try{return G(await c(od,this,sd).call(this,{method:"getPriorityFee"}),"%response")}catch(e){}return null})()});let i=null,o=null;const a=this._wrapBlock(t,e);return a&&a.baseFeePerGas&&(o=null!=r?r:BigInt("1000000000"),i=a.baseFeePerGas*zu+o),new Bi(n,i,o)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const e=new ai(n.url),r=await n.processFunc(t,this,e);return new Bi(r.gasPrice,r.maxFeePerGas,r.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return _u(t)&&(t=await t),G(await c(od,this,sd).call(this,{method:"estimateGas",transaction:t}),"%response")}async call(e){const{tx:t,blockTag:n}=await f({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await c(od,this,cd).call(this,c(od,this,ld).call(this,t,n,e.enableCcipRead?0:-1))}async getBalance(e,t){return G(await c(od,this,ud).call(this,{method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return Z(await c(od,this,ud).call(this,{method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return O(await c(od,this,ud).call(this,{method:"getCode"},e,t))}async getStorage(e,t,n){const r=G(t,"position");return O(await c(od,this,ud).call(this,{method:"getStorage",position:r},e,n))}async broadcastTransaction(e){const{blockNumber:t,hash:n,network:r}=await f({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=Cc.from(e);if(i.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,r).replaceableTransaction(t)}async getBlock(e,t){const{network:n,params:r}=await f({network:this.getNetwork(),params:c(od,this,dd).call(this,e,!!t)});return null==r?null:this._wrapBlock(r,n)}async getTransaction(e){const{network:t,params:n}=await f({network:this.getNetwork(),params:c(od,this,sd).call(this,{method:"getTransaction",hash:e})});return null==n?null:this._wrapTransactionResponse(n,t)}async getTransactionReceipt(e){const{network:t,params:n}=await f({network:this.getNetwork(),params:c(od,this,sd).call(this,{method:"getTransactionReceipt",hash:e})});if(null==n)return null;if(null==n.gasPrice&&null==n.effectiveGasPrice){const t=await c(od,this,sd).call(this,{method:"getTransaction",hash:e});if(null==t)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=t.gasPrice}return this._wrapTransactionReceipt(n,t)}async getTransactionResult(e){const{result:t}=await f({network:this.getNetwork(),result:c(od,this,sd).call(this,{method:"getTransactionResult",hash:e})});return null==t?null:O(t)}async getLogs(e){let t=this._getFilter(e);_u(t)&&(t=await t);const{network:n,params:r}=await f({network:this.getNetwork(),params:c(od,this,sd).call(this,{method:"getLogs",filter:t})});return r.map((e=>this._wrapLog(e,n)))}_getProvider(e){w(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Dc.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){const t=Ga((e=St(e)).substring(2).toLowerCase()+".addr.reverse");try{const n=await Dc.getEnsAddress(this),r=new Ao(n,["function resolver(bytes32) view returns (address)"],this),i=await r.resolver(t);if(null==i||i===mi)return null;const o=new Ao(i,["function name(bytes32) view returns (string)"],this),a=await o.name(t);return await this.resolveName(a)!==e?null:a}catch(n){if(y(n,"BAD_DATA")&&"0x"===n.value)return null;if(y(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,t,n){const r=null!=t?t:1;return 0===r?this.getTransactionReceipt(e):new Promise((async(t,i)=>{let o=null;const a=async n=>{try{const i=await this.getTransactionReceipt(e);if(null!=i&&n-i.blockNumber+1>=r)return t(i),void(o&&(clearTimeout(o),o=null))}catch(i){console.log("EEE",i)}this.once("block",a)};null!=n&&(o=setTimeout((()=>{null!=o&&(o=null,this.off("block",a),i(v("timeout","TIMEOUT",{reason:"timeout"})))}),n)),a(await this.getBlockNumber())}))}async waitForBlock(e){w(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=u(nd,this).get(e);t&&(t.timer&&clearTimeout(t.timer),u(nd,this).delete(e))}_setTimeout(e,t){var n,r;null==t&&(t=0);const i=(d(td,this,(n=u(td,this),r=n++,n)),r),o=()=>{u(nd,this).delete(i),e()};if(this.paused)u(nd,this).set(i,{timer:null,func:o,time:t});else{const e=setTimeout(o,t);u(nd,this).set(i,{timer:e,func:o,time:Vu()})}return i}_forEachSubscriber(e){for(const t of u(Qu,this).values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new ju(e.type);case"block":{const e=new bu(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new Cu(this,e.type);case"event":return new Nu(this,e.filter);case"transaction":return new Ru(this,e.hash);case"orphan":return new Tu(this,e.filter)}throw new Error("unsupported event: ".concat(e.type))}_recoverSubscriber(e,t){for(const n of u(Qu,this).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=t,n.started&&t.start(),null!=u(Ku,this)&&t.pause(u(Ku,this));break}}async on(e,t){const n=await c(od,this,pd).call(this,e);return n.listeners.push({listener:t,once:!1}),n.started||(n.subscriber.start(),n.started=!0,null!=u(Ku,this)&&n.subscriber.pause(u(Ku,this))),this}async once(e,t){const n=await c(od,this,pd).call(this,e);return n.listeners.push({listener:t,once:!0}),n.started||(n.subscriber.start(),n.started=!0,null!=u(Ku,this)&&n.subscriber.pause(u(Ku,this))),this}async emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=await c(od,this,hd).call(this,e,n);if(!i||0===i.listeners.length)return!1;const o=i.listeners.length;return i.listeners=i.listeners.filter((t=>{let{listener:r,once:i}=t;const o=new Gi(this,i?null:r,e);try{r.call(this,...n,o)}catch(a){}return!i})),0===i.listeners.length&&(i.started&&i.subscriber.stop(),u(Qu,this).delete(i.tag)),o>0}async listenerCount(e){if(e){const t=await c(od,this,hd).call(this,e);return t?t.listeners.length:0}let t=0;for(const{listeners:n}of u(Qu,this).values())t+=n.length;return t}async listeners(e){if(e){const t=await c(od,this,hd).call(this,e);return t?t.listeners.map((e=>{let{listener:t}=e;return t})):[]}let t=[];for(const{listeners:n}of u(Qu,this).values())t=t.concat(n.map((e=>{let{listener:t}=e;return t})));return t}async off(e,t){const n=await c(od,this,hd).call(this,e);if(!n)return this;if(t){const e=n.listeners.map((e=>{let{listener:t}=e;return t})).indexOf(t);e>=0&&n.listeners.splice(e,1)}return t&&0!==n.listeners.length||(n.started&&n.subscriber.stop(),u(Qu,this).delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:n,subscriber:r}=await c(od,this,pd).call(this,e);n&&r.stop(),u(Qu,this).delete(t)}else for(const[t,{started:n,subscriber:r}]of u(Qu,this))n&&r.stop(),u(Qu,this).delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return u(Zu,this)}destroy(){this.removeAllListeners();for(const e of u(nd,this).keys())this._clearTimeout(e);d(Zu,this,!0)}get paused(){return null!=u(Ku,this)}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(d(ed,this,-1),null!=u(Ku,this)){if(u(Ku,this)==!!e)return;w(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber((t=>t.pause(e))),d(Ku,this,!!e);for(const t of u(nd,this).values())t.timer&&clearTimeout(t.timer),t.time=Vu()-t.time}resume(){if(null!=u(Ku,this)){this._forEachSubscriber((e=>e.resume())),d(Ku,this,null);for(const e of u(nd,this).values()){let t=e.time;t<0&&(t=0),e.time=Vu(),setTimeout(e.func,t)}}}}async function sd(e){const t=u(id,this).cacheTimeout;if(t<0)return await this._perform(e);const n=Uu(e.method,e);let r=u(Yu,this).get(n);return r||(r=this._perform(e),u(Yu,this).set(n,r),setTimeout((()=>{u(Yu,this).get(n)===r&&u(Yu,this).delete(n)}),t)),await r}async function ld(e,t,n){w(n<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const r=Oi(e);try{return O(await this._perform({method:"call",transaction:r,blockTag:t}))}catch(i){if(!this.disableCcipRead&&b(i)&&i.data&&n>=0&&"latest"===t&&null!=r.to&&"0x556f1830"===D(i.data,0,4)){const e=i.data,o=await lr(r.to,this);let a;try{a=function(e){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};w(N(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=D(e,0,32);w(D(n,0,12)===D(wd,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=D(n,12);try{const n=[],r=Z(D(e,32,64)),i=Z(D(e,r,r+32)),o=D(e,r+32);for(let e=0;e<i;e++){const t=fd(o,32*e);if(null==t)throw new Error("abort");n.push(t)}t.urls=n}catch(i){w(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=gd(e,64);if(null==n)throw new Error("abort");t.calldata=n}catch(i){w(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}w(D(e,100,128)===D(wd,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=D(e,96,100);try{const n=gd(e,128);if(null==n)throw new Error("abort");t.extraData=n}catch(i){w(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map((e=>t[e])),t}(D(i.data,4))}catch(i){w(!1,i.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:r,info:{data:e}})}w(a.sender.toLowerCase()===o.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:e,reason:"OffchainLookup",transaction:r,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:a.errorArgs}});const s=await this.ccipReadFetch(r,a.calldata,a.urls);w(null!=s,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:r,info:{data:i.data,errorArgs:a.errorArgs}});const l={to:o,data:F([a.selector,vd([s,a.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:l});try{const e=await c(od,this,ld).call(this,l,t,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},l),result:e}),e}catch(i){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},l),error:i}),i}}throw i}}async function cd(e){const{value:t}=await f({network:this.getNetwork(),value:e});return t}async function ud(e,t,n){let r=this._getAddress(t),i=this._getBlockTag(n);return"string"===typeof r&&"string"===typeof i||([r,i]=await Promise.all([r,i])),await c(od,this,cd).call(this,c(od,this,sd).call(this,Object.assign(e,{address:r,blockTag:i})))}async function dd(e,t){if(I(e,32))return await c(od,this,sd).call(this,{method:"getBlock",blockHash:e,includeTransactions:t});let n=this._getBlockTag(e);return"string"!==typeof n&&(n=await n),await c(od,this,sd).call(this,{method:"getBlock",blockTag:n,includeTransactions:t})}async function hd(e,t){let n=await Wu(e,this);return"event"===n.type&&t&&t.length>0&&!0===t[0].removed&&(n=await Wu({orphan:"drop-log",log:t[0]},this)),u(Qu,this).get(n.tag)||null}async function pd(e){const t=await Wu(e,this),n=t.tag;let r=u(Qu,this).get(n);if(!r){r={subscriber:this._getSubscriber(t),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},u(Qu,this).set(n,r)}return r}function fd(e,t){try{const n=gd(e,t);if(n)return Kt(n)}catch(n){}return null}function gd(e,t){if("0x"===e)return null;try{const n=Z(D(e,t,t+32)),r=Z(D(e,n,n+32));return D(e,n+32,n+32+r)}catch(n){}return null}function md(e){const t=J(e);if(t.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(t,32-t.length),n}function yd(e){if(e.length%32===0)return e;const t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}const bd=new Uint8Array([]);function vd(e){const t=[];let n=0;for(let r=0;r<e.length;r++)t.push(bd),n+=32;for(let r=0;r<e.length;r++){const i=R(e[r]);t[r]=md(n),t.push(md(i.length)),t.push(yd(i)),n+=32+32*Math.ceil(i.length/32)}return F(t)}const wd="0x0000000000000000000000000000000000000000000000000000000000000000";function xd(e,t){if(e.provider)return e.provider;w(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function $d(e,t){let n=Oi(t);if(null!=n.to&&(n.to=lr(n.to,e)),null!=n.from){const t=n.from;n.from=Promise.all([e.getAddress(),lr(t,e)]).then((e=>{let[t,n]=e;return x(t.toLowerCase()===n.toLowerCase(),"transaction from mismatch","tx.from",n),t}))}else n.from=e.getAddress();return await f(n)}class Sd{constructor(e){T(this,"provider",void 0),g(this,{provider:e||null})}async getNonce(e){return xd(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await $d(this,e)}async populateTransaction(e){const t=xd(this,"populateTransaction"),n=await $d(this,e);null==n.nonce&&(n.nonce=await this.getNonce("pending")),null==n.gasLimit&&(n.gasLimit=await this.estimateGas(n));const r=await this.provider.getNetwork();if(null!=n.chainId){x(G(n.chainId)===r.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=r.chainId;const i=null!=n.maxFeePerGas||null!=n.maxPriorityFeePerGas;if(null==n.gasPrice||2!==n.type&&!i?0!==n.type&&1!==n.type||!i||x(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e):x(!1,"eip-1559 transaction do not support gasPrice","tx",e),2!==n.type&&null!=n.type||null==n.maxFeePerGas||null==n.maxPriorityFeePerGas)if(0===n.type||1===n.type){const e=await t.getFeeData();w(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice)}else{const e=await t.getFeeData();if(null==n.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(n.type=2,null!=n.gasPrice){const e=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=e,n.maxPriorityFeePerGas=e}else null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(w(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice),n.type=0):w(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else 2!==n.type&&3!==n.type||(null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else n.type=2;return await f(n)}async estimateGas(e){return xd(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return xd(this,"call").call(await this.populateCall(e))}async resolveName(e){const t=xd(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){const t=xd(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const r=Cc.from(n);return await t.broadcastTransaction(await this.signTransaction(r))}}var kd=new WeakMap,Ad=new WeakMap,Cd=new WeakMap,Ed=new WeakMap,Td=new WeakMap,Pd=new WeakMap,Rd=new WeakSet;class Md{constructor(e){A(this,Rd),l(this,kd,void 0),l(this,Ad,void 0),l(this,Cd,void 0),l(this,Ed,void 0),l(this,Td,void 0),l(this,Pd,void 0),d(kd,this,e),d(Ad,this,null),d(Cd,this,c(Rd,this,Id).bind(this)),d(Ed,this,!1),d(Td,this,null),d(Pd,this,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){u(Ed,this)||(d(Ed,this,!0),c(Rd,this,Id).call(this,-2))}stop(){u(Ed,this)&&(d(Ed,this,!1),d(Pd,this,!0),c(Rd,this,Ld).call(this),u(kd,this).off("block",u(Cd,this)))}pause(e){e&&c(Rd,this,Ld).call(this),u(kd,this).off("block",u(Cd,this))}resume(){this.start()}}async function Id(e){try{null==u(Ad,this)&&d(Ad,this,this._subscribe(u(kd,this)));let e=null;try{e=await u(Ad,this)}catch(t){if(!y(t,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==t.operation)throw t}if(null==e)return d(Ad,this,null),void u(kd,this)._recoverSubscriber(this,this._recover(u(kd,this)));const n=await u(kd,this).getNetwork();if(u(Td,this)||d(Td,this,n),u(Td,this).chainId!==n.chainId)throw new Error("chaid changed");if(u(Pd,this))return;const r=await u(kd,this).send("eth_getFilterChanges",[e]);await this._emitResults(u(kd,this),r)}catch(t){console.log("@TODO",t)}u(kd,this).once("block",u(Cd,this))}function Ld(){const e=u(Ad,this);e&&(d(Ad,this,null),e.then((e=>{u(kd,this).destroyed||u(kd,this).send("eth_uninstallFilter",[e])})))}var Bd=new WeakMap;class Od extends Md{constructor(e,t){var n;super(e),l(this,Bd,void 0),d(Bd,this,(n=t,JSON.parse(JSON.stringify(n))))}_recover(e){return new Nu(e,u(Bd,this))}async _subscribe(e){return await e.send("eth_newFilter",[u(Bd,this)])}async _emitResults(e,t){for(const n of t)e.emit(u(Bd,this),e._wrapLog(n,e._network))}}class Fd extends Md{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const n of t)e.emit("pending",n)}}const Nd="bigint,boolean,function,number,string,symbol".split(/,/g);function Dd(e){if(null==e||Nd.indexOf(typeof e)>=0)return e;if("function"===typeof e.getAddress)return e;if(Array.isArray(e))return e.map(Dd);if("object"===typeof e)return Object.keys(e).reduce(((t,n)=>(t[n]=e[n],t)),{});throw new Error("should not happen: ".concat(e," (").concat(typeof e,")"))}function zd(e){return new Promise((t=>{setTimeout(t,e)}))}function _d(e){return e?e.toLowerCase():e}function Ud(e){return e&&"number"===typeof e.pollingInterval}const jd={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Hd extends Sd{constructor(e,t){super(e),T(this,"address",void 0),g(this,{address:t=St(t)})}connect(e){w(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const t=Dd(e),n=[];if(t.from){const r=t.from;n.push((async()=>{const n=await lr(r,this.provider);x(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n})())}else t.from=this.address;if(null==t.gasLimit&&n.push((async()=>{t.gasLimit=await this.provider.estimateGas({...t,from:this.address})})()),null!=t.to){const e=t.to;n.push((async()=>{t.to=await lr(e,this.provider)})())}n.length&&await Promise.all(n);const r=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[r])}async sendTransaction(e){const t=await this.provider.getBlockNumber(),n=await this.sendUncheckedTransaction(e);return await new Promise(((e,r)=>{const i=[1e3,100];let o=0;const a=async()=>{try{const r=await this.provider.getTransaction(n);if(null!=r)return void e(r.replaceableTransaction(t))}catch(s){if(y(s,"CANCELLED")||y(s,"BAD_DATA")||y(s,"NETWORK_ERROR"))return null==s.info&&(s.info={}),s.info.sendTransactionHash=n,void r(s);if(y(s,"INVALID_ARGUMENT")&&(o++,null==s.info&&(s.info={}),s.info.sendTransactionHash=n,o>10))return void r(s);this.provider.emit("error",v("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:s}))}this.provider._setTimeout((()=>{a()}),i.pop()||4e3)};a()}))}async signTransaction(e){const t=Dd(e);if(t.from){const n=await lr(t.from,this.provider);x(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n}else t.from=this.address;const n=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[n])}async signMessage(e){const t="string"===typeof e?qt(e):e;return await this.provider.send("personal_sign",[O(t),this.address.toLowerCase()])}async signTypedData(e,t,n){const r=Dd(n),i=await Er.resolveNames(e,t,r,(async e=>{const t=await lr(e);return x(null!=t,"TypedData does not support null address","value",e),t}));return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Er.getPayload(i.domain,t,i.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const t="string"===typeof e?qt(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),O(t)])}}var Wd=new WeakMap,Vd=new WeakMap,Gd=new WeakMap,Qd=new WeakMap,qd=new WeakMap,Kd=new WeakMap,Zd=new WeakMap,Xd=new WeakSet;class Jd extends ad{constructor(e,t){super(e,t),A(this,Xd),l(this,Wd,void 0),l(this,Vd,void 0),l(this,Gd,void 0),l(this,Qd,void 0),l(this,qd,void 0),l(this,Kd,void 0),l(this,Zd,void 0),d(Vd,this,1),d(Wd,this,Object.assign({},jd,t||{})),d(Gd,this,[]),d(Qd,this,null),d(Kd,this,null),d(Zd,this,null);{let e=null;const t=new Promise((t=>{e=t}));d(qd,this,{promise:t,resolve:e})}const n=this._getOption("staticNetwork");"boolean"===typeof n?(x(!n||"any"!==e,"staticNetwork cannot be used on special network 'any'","options",t),n&&null!=e&&d(Kd,this,lu.from(e))):n&&(x(null==e||n.matches(e),"staticNetwork MUST match network object","options",t),d(Kd,this,n))}_getOption(e){return u(Wd,this)[e]}get _network(){return w(u(Kd,this),"network is not available yet","NETWORK_ERROR"),u(Kd,this)}async _perform(e){if("call"===e.method||"estimateGas"===e.method){let t=e.transaction;if(t&&null!=t.type&&G(t.type)&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const n=await this.getFeeData();null==n.maxFeePerGas&&null==n.maxPriorityFeePerGas&&(e=Object.assign({},e,{transaction:Object.assign({},t,{type:void 0})}))}}const t=this.getRpcRequest(e);return null!=t?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e){if(!0!==e)return e;if(u(Kd,this))return u(Kd,this)}return u(Zd,this)?await u(Zd,this):this.ready?(d(Zd,this,(async()=>{try{const e=lu.from(G(await this.send("eth_chainId",[])));return d(Zd,this,null),e}catch(e){throw d(Zd,this,null),e}})()),await u(Zd,this)):(d(Zd,this,(async(e,t)=>{const n={id:(d(Vd,this,(e=u(Vd,this),t=e++,e)),t),method:"eth_chainId",params:[],jsonrpc:"2.0"};let r;this.emit("debug",{action:"sendRpcPayload",payload:n});try{r=(await this._send(n))[0],d(Zd,this,null)}catch(i){throw d(Zd,this,null),this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:r}),"result"in r)return lu.from(G(r.result));throw this.getRpcError(n,r)})()),await u(Zd,this))}_start(){null!=u(qd,this)&&null!=u(qd,this).resolve&&(u(qd,this).resolve(),d(qd,this,null),(async()=>{for(;null==u(Kd,this)&&!this.destroyed;)try{d(Kd,this,await this._detectNetwork())}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",v("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await zd(1e3)}c(Xd,this,Yd).call(this)})())}async _waitUntilReady(){if(null!=u(qd,this))return await u(qd,this).promise}_getSubscriber(e){return"pending"===e.type?new Fd(this):"event"===e.type?this._getOption("polling")?new Nu(this,e.filter):new Od(this,e.filter):"orphan"===e.type&&"drop-log"===e.filter.orphan?new ju("orphan"):super._getSubscriber(e)}get ready(){return null==u(qd,this)}getRpcTransaction(e){const t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((n=>{if(null==e[n])return;let r=n;"gasLimit"===n&&(r="gas"),t[r]=Y(G(e[n],"tx.".concat(n)))})),["from","to","data"].forEach((n=>{null!=e[n]&&(t[n]=O(e[n]))})),e.accessList&&(t.accessList=Rr(e.accessList)),e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.map((e=>e.toLowerCase()))),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[_d(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[_d(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[_d(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[_d(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&null!=e.filter.address&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(_d):e.filter.address=_d(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){const{method:n}=e,{error:r}=t;if("eth_estimateGas"===n&&r.message){const t=r.message;if(!t.match(/revert/i)&&t.match(/insufficient funds/i))return v("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:r}})}if("eth_call"===n||"eth_estimateGas"===n){const t=nh(r),i=ir.getBuiltinCallException("eth_call"===n?"call":"estimateGas",e.params[0],t?t.data:null);return i.info={error:r,payload:e},i}const i=JSON.stringify(function(e){const t=[];return rh(e,t),t}(r));if("string"===typeof r.message&&r.message.match(/user denied|ethers-user-denied/i)){return v("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:e,error:r}})}if("eth_sendRawTransaction"===n||"eth_sendTransaction"===n){const t=e.params[0];if(i.match(/insufficient funds|base fee exceeds gas limit/i))return v("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t,info:{error:r}});if(i.match(/nonce/i)&&i.match(/too low/i))return v("nonce has already been used","NONCE_EXPIRED",{transaction:t,info:{error:r}});if(i.match(/replacement transaction/i)&&i.match(/underpriced/i))return v("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t,info:{error:r}});if(i.match(/only replay-protected/i))return v("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:t,info:{error:r}}})}let o=!!i.match(/the method .* does not exist/i);return o||r&&r.details&&r.details.startsWith("Unauthorized method:")&&(o=!0),o?v("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:r,payload:e}}):v("could not coalesce error","UNKNOWN_ERROR",{error:r,payload:e})}send(e,t){var n,r;if(this.destroyed)return Promise.reject(v("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const i=(d(Vd,this,(n=u(Vd,this),r=n++,n)),r),o=new Promise(((n,r)=>{u(Gd,this).push({resolve:n,reject:r,payload:{method:e,params:t,id:i,jsonrpc:"2.0"}})}));return c(Xd,this,Yd).call(this),o}async getSigner(e){null==e&&(e=0);const t=this.send("eth_accounts",[]);if("number"===typeof e){const n=await t;if(e>=n.length)throw new Error("no such account");return new Hd(this,n[e])}const{accounts:n}=await f({network:this.getNetwork(),accounts:t});e=St(e);for(const r of n)if(St(r)===e)return new Hd(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map((e=>new Hd(this,e)))}destroy(){u(Qd,this)&&(clearTimeout(u(Qd,this)),d(Qd,this,null));for(const{payload:e,reject:t}of u(Gd,this))t(v("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));d(Gd,this,[]),super.destroy()}}function Yd(){if(u(Qd,this))return;const e=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");d(Qd,this,setTimeout((()=>{d(Qd,this,null);const e=u(Gd,this);for(d(Gd,this,[]);e.length;){const t=[e.shift()];for(;e.length&&t.length!==u(Wd,this).batchMaxCount;){t.push(e.shift());const n=JSON.stringify(t.map((e=>e.payload)));if(n.length>u(Wd,this).batchMaxSize){e.unshift(t.pop());break}}(async()=>{const e=1===t.length?t[0].payload:t.map((e=>e.payload));this.emit("debug",{action:"sendRpcPayload",payload:e});try{const n=await this._send(e);this.emit("debug",{action:"receiveRpcResult",result:n});for(const{resolve:e,reject:r,payload:i}of t){if(this.destroyed){r(v("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:i.method}));continue}const t=n.filter((e=>e.id===i.id))[0];if(null!=t)"error"in t?r(this.getRpcError(i,t)):e(t.result);else{const e=v("missing response for request","BAD_DATA",{value:n,info:{payload:i}});this.emit("error",e),r(e)}}}catch(n){this.emit("debug",{action:"receiveRpcError",error:n});for(const{reject:e}of t)e(n)}})()}}),e))}var eh=new WeakMap;class th extends Jd{constructor(e,t){super(e,t),l(this,eh,void 0);let n=this._getOption("pollingInterval");null==n&&(n=jd.pollingInterval),d(eh,this,n)}_getSubscriber(e){const t=super._getSubscriber(e);return Ud(t)&&(t.pollingInterval=u(eh,this)),t}get pollingInterval(){return u(eh,this)}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");d(eh,this,e),this._forEachSubscriber((e=>{Ud(e)&&(e.pollingInterval=u(eh,this))}))}}function nh(e){if(null==e)return null;if("string"===typeof e.message&&e.message.match(/revert/i)&&I(e.data))return{message:e.message,data:e.data};if("object"===typeof e){for(const t in e){const n=nh(e[t]);if(n)return n}return null}if("string"===typeof e)try{return nh(JSON.parse(e))}catch(t){}return null}function rh(e,t){if(null!=e){if("string"===typeof e.message&&t.push(e.message),"object"===typeof e)for(const n in e)rh(e[n],t);if("string"===typeof e)try{return rh(JSON.parse(e),t)}catch(n){}}}var ih=new WeakMap;class oh extends th{constructor(e,t,n){const r=Object.assign({},null!=n?n:{},{batchMaxCount:1});x(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,r),l(this,ih,void 0),d(ih,this,(async(t,n)=>{const r={method:t,params:n};this.emit("debug",{action:"sendEip1193Request",payload:r});try{const t=await e.request(r);return this.emit("debug",{action:"receiveEip1193Result",result:t}),t}catch(yh){const t=new Error(yh.message);throw t.code=yh.code,t.data=yh.data,t.payload=r,this.emit("debug",{action:"receiveEip1193Error",error:t}),t}}))}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){x(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const t=await u(ih,this).call(this,e.method,e.params||[]);return[{id:e.id,result:t}]}catch(yh){return[{id:e.id,error:{code:yh.code,data:yh.data,message:yh.message}}]}}getRpcError(e,t){switch((t=JSON.parse(JSON.stringify(t))).error.code||-1){case 4001:t.error.message="ethers-user-denied: ".concat(t.error.message);break;case 4200:t.error.message="ethers-unsupported: ".concat(t.error.message)}return super.getRpcError(e,t)}async hasSigner(e){null==e&&(e=0);const t=await this.send("eth_accounts",[]);return"number"===typeof e?t.length>e:(e=e.toLowerCase(),0!==t.filter((t=>t.toLowerCase()===e)).length)}async getSigner(e){if(null==e&&(e=0),!await this.hasSigner(e))try{await u(ih,this).call(this,"eth_requestAccounts",[])}catch(t){const e=t.payload;throw this.getRpcError(e,{id:e.id,error:t})}return await super.getSigner(e)}}const ah=JSON.parse('[{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"collegeInfo","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_sha","type":"bytes32"}],"name":"getImageHash","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"}],"name":"getInfo","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_hash","type":"string"},{"internalType":"bytes32","name":"_sha","type":"bytes32"}],"name":"setImageHash","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_address","type":"address"},{"internalType":"string","name":"_clgname","type":"string"}],"name":"setInfo","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"storeHash","outputs":[{"internalType":"bytes32","name":"sha","type":"bytes32"},{"internalType":"string","name":"hash","type":"string"}],"stateMutability":"view","type":"function"}]'),sh=(0,r.createContext)();var lh=n(579);const ch=()=>(0,lh.jsxs)("div",{className:"dot-spinner",children:[(0,lh.jsx)("div",{className:"dot-spinner__dot"}),(0,lh.jsx)("div",{className:"dot-spinner__dot"}),(0,lh.jsx)("div",{className:"dot-spinner__dot"}),(0,lh.jsx)("div",{className:"dot-spinner__dot"}),(0,lh.jsx)("div",{className:"dot-spinner__dot"}),(0,lh.jsx)("div",{className:"dot-spinner__dot"}),(0,lh.jsx)("div",{className:"dot-spinner__dot"}),(0,lh.jsx)("div",{className:"dot-spinner__dot"})]}),uh=e=>{let{type:t,label:n,onClick:r}=e;return(0,lh.jsx)("div",{children:(0,lh.jsx)("button",{type:t,onClick:r,className:"CN button",children:(0,lh.jsx)("span",{children:n})})})},dh=e=>{let{children:t}=e;const[n,i]=(0,r.useState)({provider:null,account:null,certificateContract:null,chainId:null}),[s,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1);return(0,r.useEffect)((()=>(window.ethereum.on("accountsChanged",(()=>{o(i)})),window.ethereum.on("chainChanged",(()=>{a(i)})),()=>{window.ethereum.removeListener("accountsChanged",(()=>{o(i)})),window.ethereum.removeListener("chainChanged",(()=>{a(i)}))})),[]),(0,lh.jsxs)("div",{children:[(0,lh.jsx)(sh.Provider,{value:n,children:t}),(0,lh.jsx)("div",{className:"wallet-container",children:(0,lh.jsxs)("div",{className:"connect-wallet-button",children:[s&&(0,lh.jsx)(ch,{}),!c&&(0,lh.jsx)(uh,{onClick:async()=>{try{l(!0);const{provider:e,account:t,certificateContract:n,chainId:r}=await(async()=>{try{let[e,t,n,r]=[null];if(null===window.ethereum)throw new Error("Metamask not installed");if(t=(await window.ethereum.request({method:"eth_requestAccounts"}))[0],!t)throw new Error("There are no accounts in your wallet");let i=await window.ethereum.request({method:"eth_chainId"});r=parseInt(i,16),e=new oh(window.ethereum);const o=await e.getSigner();return n=new Ao("0xCD7f3D1530e03D42011C30c39dC074E2CdE42456",ah,o),{provider:e,account:t,certificateContract:n,chainId:r}}catch(e){throw console.error(e),e}})();console.log("provider: ",e,"account: ",t,"contract: ",n,"chainId: ",r),i({provider:e,account:t,certificateContract:n,chainId:r}),u(!0)}catch(e){console.error(e)}finally{l(!1)}},label:"Connect Wallet",type:"submit"})]})})]})},hh=()=>{const{account:e}=(0,r.useContext)(sh);return(0,lh.jsx)("div",{children:e?(0,lh.jsx)("div",{className:"pt2",children:(0,lh.jsxs)("div",{className:"tooltip-container",children:[(0,lh.jsx)("span",{className:"tooltip",children:"Connected account"}),(0,lh.jsx)("span",{className:"text",children:"\ud83d\udccd "+e})]})}):(0,lh.jsxs)("div",{className:"tooltip container",children:[(0,lh.jsx)("span",{class:"tooltip",children:"Connect account"}),(0,lh.jsx)("p",{className:"connected-ac",children:"No account connected"})]})})},ph=()=>{const{chainId:e}=(0,r.useContext)(sh);return null===e?(0,lh.jsx)("div",{className:"pt2",children:(0,lh.jsxs)("div",{className:"tooltip-container",children:[(0,lh.jsx)("span",{className:"tooltip",children:"Connect Wallet"}),(0,lh.jsx)("span",{className:"text",children:"Wallet not connected"})]})}):11155111===e?(0,lh.jsx)("div",{className:"pt2",children:(0,lh.jsxs)("div",{className:"tooltip-container",children:[(0,lh.jsx)("span",{className:"tooltip",children:"Network"}),(0,lh.jsx)("span",{className:"text",children:"\ud83d\udcf6 Sepolia"})]})}):(0,lh.jsx)("div",{className:"pt2",children:(0,lh.jsxs)("div",{className:"tooltip-container",children:[(0,lh.jsx)("span",{className:"tooltip",children:"Invalid network"}),(0,lh.jsx)("span",{className:"text",children:"Switch to sepolia"})]})})},fh=()=>(0,lh.jsx)("div",{children:(0,lh.jsx)("header",{className:"header",children:(0,lh.jsxs)("div",{className:"rightAligned",children:[(0,lh.jsx)(hh,{}),(0,lh.jsx)(ph,{})]})})}),gh=e=>{let{setRoute:t}=e;return(0,lh.jsxs)("div",{className:"topnav",children:[(0,lh.jsx)("nav",{style:{display:"flex",justifyContent:"flex-start"},children:(0,lh.jsx)("h3",{className:"pl2",children:"\ud83d\udcdc E-Certificate"})}),(0,lh.jsxs)("div",{children:[(0,lh.jsx)("a",{href:"#news",onClick:()=>t("Home"),children:(0,lh.jsx)("h5",{children:"\ud83c\udfe0 Home"})}),(0,lh.jsx)("a",{href:"#news",onClick:()=>t("edit"),children:(0,lh.jsx)("h5",{children:"\u270f\ufe0f Edit"})}),(0,lh.jsx)("a",{href:"#news",onClick:()=>t("upload"),children:(0,lh.jsx)("h5",{children:"\ud83d\udce4 Upload"})}),(0,lh.jsx)("a",{href:"#news",onClick:()=>t("admin"),children:(0,lh.jsx)("h5",{children:"\ud83d\udc68\ud83c\udffb\u200d\ud83d\udcbc Admin"})}),(0,lh.jsx)("a",{href:"#news",onClick:()=>t("verify"),children:(0,lh.jsx)("h5",{children:"\ud83d\udd0e Verify"})})]})]})};function mh(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}let yh={data:""},bh=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||yh,vh=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,wh=/\/\*[^]*?\*\/|  +/g,xh=/\n+/g,$h=(e,t)=>{let n="",r="",i="";for(let o in e){let a=e[o];"@"==o[0]?"i"==o[1]?n=o+" "+a+";":r+="f"==o[1]?$h(a,o):o+"{"+$h(a,"k"==o[1]?"":t)+"}":"object"==typeof a?r+=$h(a,t?t.replace(/([^,])+/g,(e=>o.replace(/(^:.*)|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):o):null!=a&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=$h.p?$h.p(o,a):o+":"+a+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Sh={},kh=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+kh(e[n]);return t}return e},Ah=(e,t,n,r,i)=>{let o=kh(e),a=Sh[o]||(Sh[o]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(o));if(!Sh[a]){let t=o!==e?e:(e=>{let t,n,r=[{}];for(;t=vh.exec(e.replace(wh,""));)t[4]?r.shift():t[3]?(n=t[3].replace(xh," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(xh," ").trim();return r[0]})(e);Sh[a]=$h(i?{["@keyframes "+a]:t}:t,n?"":"."+a)}let s=n&&Sh.g?Sh.g:null;return n&&(Sh.g=Sh[a]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(Sh[a],t,r,s),a},Ch=(e,t,n)=>e.reduce(((e,r,i)=>{let o=t[i];if(o&&o.call){let e=o(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;o=t?"."+t:e&&"object"==typeof e?e.props?"":$h(e,""):!1===e?"":e}return e+r+(null==o?"":o)}),"");function Eh(e){let t=this||{},n=e.call?e(t.p):e;return Ah(n.unshift?n.raw?Ch(n,[].slice.call(arguments,1),t.p):n.reduce(((e,n)=>Object.assign(e,n&&n.call?n(t.p):n)),{}):n,bh(t.target),t.g,t.o,t.k)}Eh.bind({g:1});let Th,Ph,Rh,Mh=Eh.bind({k:1});function Ih(e,t){let n=this||{};return function(){let r=arguments;function i(o,a){let s=Object.assign({},o),l=s.className||i.className;n.p=Object.assign({theme:Ph&&Ph()},s),n.o=/ *go\d+/.test(l),s.className=Eh.apply(n,r)+(l?" "+l:""),t&&(s.ref=a);let c=e;return e[0]&&(c=s.as||e,delete s.as),Rh&&c[0]&&Rh(s),Th(c,s)}return t?t(i):i}}var Lh,Bh,Oh,Fh,Nh,Dh,zh,_h,Uh,jh,Hh,Wh,Vh,Gh,Qh,qh,Kh=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,Zh=(()=>{let e=0;return()=>(++e).toString()})(),Xh=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Jh=new Map,Yh=e=>{if(Jh.has(e))return;let t=setTimeout((()=>{Jh.delete(e),rp({type:4,toastId:e})}),1e3);Jh.set(e,t)},ep=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return t.toast.id&&(e=>{let t=Jh.get(e);t&&clearTimeout(t)})(t.toast.id),{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case 2:let{toast:n}=t;return e.toasts.find((e=>e.id===n.id))?ep(e,{type:1,toast:n}):ep(e,{type:0,toast:n});case 3:let{toastId:r}=t;return r?Yh(r):e.toasts.forEach((e=>{Yh(e.id)})),{...e,toasts:e.toasts.map((e=>e.id===r||void 0===r?{...e,visible:!1}:e))};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map((e=>({...e,pauseDuration:e.pauseDuration+i})))}}},tp=[],np={toasts:[],pausedAt:void 0},rp=e=>{np=ep(np,e),tp.forEach((e=>{e(np)}))},ip={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},op=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return{createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||Zh()}}(t,e,n);return rp({type:2,toast:r}),r.id},ap=(e,t)=>op("blank")(e,t);ap.error=op("error"),ap.success=op("success"),ap.loading=op("loading"),ap.custom=op("custom"),ap.dismiss=e=>{rp({type:3,toastId:e})},ap.remove=e=>rp({type:4,toastId:e}),ap.promise=(e,t,n)=>{let r=ap.loading(t.loading,{...n,...null==n?void 0:n.loading});return e.then((e=>(ap.success(Kh(t.success,e),{id:r,...n,...null==n?void 0:n.success}),e))).catch((e=>{ap.error(Kh(t.error,e),{id:r,...n,...null==n?void 0:n.error})})),e};var sp=(e,t)=>{rp({type:1,toast:{id:e,height:t}})},lp=()=>{rp({type:5,time:Date.now()})},cp=e=>{let{toasts:t,pausedAt:n}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,n]=(0,r.useState)(np);(0,r.useEffect)((()=>(tp.push(n),()=>{let e=tp.indexOf(n);e>-1&&tp.splice(e,1)})),[t]);let i=t.toasts.map((t=>{var n,r;return{...e,...e[t.type],...t,duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||ip[t.type],style:{...e.style,...null==(r=e[t.type])?void 0:r.style,...t.style}}}));return{...t,toasts:i}}(e);(0,r.useEffect)((()=>{if(n)return;let e=Date.now(),r=t.map((t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout((()=>ap.dismiss(t.id)),n);t.visible&&ap.dismiss(t.id)}));return()=>{r.forEach((e=>e&&clearTimeout(e)))}}),[t,n]);let i=(0,r.useCallback)((()=>{n&&rp({type:6,time:Date.now()})}),[n]),o=(0,r.useCallback)(((e,n)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:o}=n||{},a=t.filter((t=>(t.position||o)===(e.position||o)&&t.height)),s=a.findIndex((t=>t.id===e.id)),l=a.filter(((e,t)=>t<s&&e.visible)).length;return a.filter((e=>e.visible)).slice(...r?[l+1]:[0,l]).reduce(((e,t)=>e+(t.height||0)+i),0)}),[t]);return{toasts:t,handlers:{updateHeight:sp,startPause:lp,endPause:i,calculateOffset:o}}},up=Mh(Lh||(Lh=mh(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),dp=Mh(Bh||(Bh=mh(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),hp=Mh(Oh||(Oh=mh(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),pp=Ih("div")(Fh||(Fh=mh(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),(e=>e.primary||"#ff4b4b"),up,dp,(e=>e.secondary||"#fff"),hp),fp=Mh(Nh||(Nh=mh(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),gp=Ih("div")(Dh||(Dh=mh(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),(e=>e.secondary||"#e0e0e0"),(e=>e.primary||"#616161"),fp),mp=Mh(zh||(zh=mh(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),yp=Mh(_h||(_h=mh(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),bp=Ih("div")(Uh||(Uh=mh(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),(e=>e.primary||"#61d345"),mp,yp,(e=>e.secondary||"#fff")),vp=Ih("div")(jh||(jh=mh(["\n  position: absolute;\n"]))),wp=Ih("div")(Hh||(Hh=mh(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),xp=Mh(Wh||(Wh=mh(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),$p=Ih("div")(Vh||(Vh=mh(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),xp),Sp=e=>{let{toast:t}=e,{icon:n,type:i,iconTheme:o}=t;return void 0!==n?"string"==typeof n?r.createElement($p,null,n):n:"blank"===i?null:r.createElement(wp,null,r.createElement(gp,{...o}),"loading"!==i&&r.createElement(vp,null,"error"===i?r.createElement(pp,{...o}):r.createElement(bp,{...o})))},kp=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),Ap=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),Cp=Ih("div")(Gh||(Gh=mh(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Ep=Ih("div")(Qh||(Qh=mh(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),Tp=r.memo((e=>{let{toast:t,position:n,style:i,children:o}=e,a=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=Xh()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[kp(n),Ap(n)];return{animation:t?"".concat(Mh(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(Mh(i)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},s=r.createElement(Sp,{toast:t}),l=r.createElement(Ep,{...t.ariaProps},Kh(t.message,t));return r.createElement(Cp,{className:t.className,style:{...a,...i,...t.style}},"function"==typeof o?o({icon:s,message:l}):r.createElement(r.Fragment,null,s,l))}));!function(e,t,n,r){$h.p=t,Th=e,Ph=n,Rh=r}(r.createElement);var Pp=e=>{let{id:t,className:n,style:i,onHeightUpdate:o,children:a}=e,s=r.useCallback((e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;o(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}}),[t,o]);return r.createElement("div",{ref:s,className:n,style:i},a)},Rp=Eh(qh||(qh=mh(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),Mp=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:i,gutter:o,children:a,containerStyle:s,containerClassName:l}=e,{toasts:c,handlers:u}=cp(i);return r.createElement("div",{style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...s},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map((e=>{let i=e.position||n,s=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Xh()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)"),...r,...i}})(i,u.calculateOffset(e,{reverseOrder:t,gutter:o,defaultPosition:n}));return r.createElement(Pp,{id:e.id,key:e.id,onHeightUpdate:u.updateHeight,className:e.visible?Rp:"",style:s},"custom"===e.type?Kh(e.message,e):a?a(e):r.createElement(Tp,{toast:e,position:i}))})))},Ip=ap;const Lp=e=>{let{setAccountAddress:t,setClgname:n,clgname:i,accountAddress:o}=e;const{certificateContract:a}=(0,r.useContext)(sh),[s,l]=(0,r.useState)(!1);return(0,lh.jsxs)("div",{children:[(0,lh.jsx)("div",{className:"pb2",children:(0,lh.jsxs)("div",{className:"input-container",children:[(0,lh.jsx)("input",{className:"input-field",type:"text",onChange:e=>t(e.target.value),placeholder:"Enter account address"}),(0,lh.jsx)("label",{for:"input-field",className:"input-label",children:"Enter account address"}),(0,lh.jsx)("span",{class:"input-highlight"})]})}),(0,lh.jsxs)("div",{className:"input-container",children:[(0,lh.jsx)("input",{className:"input-field",type:"text",onChange:e=>n(e.target.value),placeholder:"Enter college name"}),(0,lh.jsx)("label",{for:"input-field",className:"input-label",children:"Enter college name"}),(0,lh.jsx)("span",{class:"input-highlight"})]}),(0,lh.jsx)(uh,{type:"submit",label:"\u27a4 Submit Info",onClick:async e=>{e.preventDefault();try{ap.loading("Transaction pending..."),l(!0);await a.setInfo(o,i);ap.dismiss(),ap.success("Transaction successful")}catch(t){ap.dismiss(),ap.error("Transaction failed"),console.error(t)}finally{l(!1)}}})]})};function Bp(e,t){return function(){return e.apply(t,arguments)}}const{toString:Op}=Object.prototype,{getPrototypeOf:Fp}=Object,Np=(Dp=Object.create(null),e=>{const t=Op.call(e);return Dp[t]||(Dp[t]=t.slice(8,-1).toLowerCase())});var Dp;const zp=e=>(e=e.toLowerCase(),t=>Np(t)===e),_p=e=>t=>typeof t===e,{isArray:Up}=Array,jp=_p("undefined");const Hp=zp("ArrayBuffer");const Wp=_p("string"),Vp=_p("function"),Gp=_p("number"),Qp=e=>null!==e&&"object"===typeof e,qp=e=>{if("object"!==Np(e))return!1;const t=Fp(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Kp=zp("Date"),Zp=zp("File"),Xp=zp("Blob"),Jp=zp("FileList"),Yp=zp("URLSearchParams"),[ef,tf,nf,rf]=["ReadableStream","Request","Response","Headers"].map(zp);function of(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Up(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let a;for(n=0;n<o;n++)a=r[n],t.call(null,e[a],a,e)}}function af(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const sf="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,lf=e=>!jp(e)&&e!==sf;const cf=(uf="undefined"!==typeof Uint8Array&&Fp(Uint8Array),e=>uf&&e instanceof uf);var uf;const df=zp("HTMLFormElement"),hf=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),pf=zp("RegExp"),ff=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};of(n,((n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)},gf="abcdefghijklmnopqrstuvwxyz",mf="0123456789",yf={DIGIT:mf,ALPHA:gf,ALPHA_DIGIT:gf+gf.toUpperCase()+mf};const bf=zp("AsyncFunction"),vf={isArray:Up,isArrayBuffer:Hp,isBuffer:function(e){return null!==e&&!jp(e)&&null!==e.constructor&&!jp(e.constructor)&&Vp(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Vp(e.append)&&("formdata"===(t=Np(e))||"object"===t&&Vp(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Hp(e.buffer),t},isString:Wp,isNumber:Gp,isBoolean:e=>!0===e||!1===e,isObject:Qp,isPlainObject:qp,isReadableStream:ef,isRequest:tf,isResponse:nf,isHeaders:rf,isUndefined:jp,isDate:Kp,isFile:Zp,isBlob:Xp,isRegExp:pf,isFunction:Vp,isStream:e=>Qp(e)&&Vp(e.pipe),isURLSearchParams:Yp,isTypedArray:cf,isFileList:Jp,forEach:of,merge:function e(){const{caseless:t}=lf(this)&&this||{},n={},r=(r,i)=>{const o=t&&af(n,i)||i;qp(n[o])&&qp(r)?n[o]=e(n[o],r):qp(r)?n[o]=e({},r):Up(r)?n[o]=r.slice():n[o]=r};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&of(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return of(t,((t,r)=>{n&&Vp(t)?e[r]=Bp(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,a;const s={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&Fp(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Np,kindOfTest:zp,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Up(e))return e;let t=e.length;if(!Gp(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:df,hasOwnProperty:hf,hasOwnProp:hf,reduceDescriptors:ff,freezeMethods:e=>{ff(e,((t,n)=>{if(Vp(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Vp(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return Up(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:af,global:sf,isContextDefined:lf,ALPHABET:yf,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yf.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&Vp(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Qp(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=Up(e)?[]:{};return of(e,((e,t)=>{const o=n(e,r+1);!jp(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:bf,isThenable:e=>e&&(Qp(e)||Vp(e))&&Vp(e.then)&&Vp(e.catch)};function wf(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}vf.inherits(wf,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:vf.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const xf=wf.prototype,$f={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{$f[e]={value:e}})),Object.defineProperties(wf,$f),Object.defineProperty(xf,"isAxiosError",{value:!0}),wf.from=(e,t,n,r,i,o)=>{const a=Object.create(xf);return vf.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),wf.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const Sf=wf;function kf(e){return vf.isPlainObject(e)||vf.isArray(e)}function Af(e){return vf.endsWith(e,"[]")?e.slice(0,-2):e}function Cf(e,t,n){return e?e.concat(t).map((function(e,t){return e=Af(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Ef=vf.toFlatObject(vf,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Tf=function(e,t,n){if(!vf.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=vf.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!vf.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,o=n.dots,a=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&vf.isSpecCompliantForm(t);if(!vf.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(vf.isDate(e))return e.toISOString();if(!s&&vf.isBlob(e))throw new Sf("Blob is not supported. Use a Buffer instead.");return vf.isArrayBuffer(e)||vf.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let s=e;if(e&&!i&&"object"===typeof e)if(vf.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(vf.isArray(e)&&function(e){return vf.isArray(e)&&!e.some(kf)}(e)||(vf.isFileList(e)||vf.endsWith(n,"[]"))&&(s=vf.toArray(e)))return n=Af(n),s.forEach((function(e,r){!vf.isUndefined(e)&&null!==e&&t.append(!0===a?Cf([n],r,o):null===a?n:n+"[]",l(e))})),!1;return!!kf(e)||(t.append(Cf(i,n,o),l(e)),!1)}const u=[],d=Object.assign(Ef,{defaultVisitor:c,convertValue:l,isVisitable:kf});if(!vf.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!vf.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),vf.forEach(n,(function(n,o){!0===(!(vf.isUndefined(n)||null===n)&&i.call(t,n,vf.isString(o)?o.trim():o,r,d))&&e(n,r?r.concat(o):[o])})),u.pop()}}(e),t};function Pf(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Rf(e,t){this._pairs=[],e&&Tf(e,this,t)}const Mf=Rf.prototype;Mf.append=function(e,t){this._pairs.push([e,t])},Mf.toString=function(e){const t=e?function(t){return e.call(this,t,Pf)}:Pf;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const If=Rf;function Lf(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Bf(e,t,n){if(!t)return e;const r=n&&n.encode||Lf,i=n&&n.serialize;let o;if(o=i?i(t,n):vf.isURLSearchParams(t)?t.toString():new If(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const Of=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){vf.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Ff={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Nf={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:If,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Df="undefined"!==typeof window&&"undefined"!==typeof document,zf=(_f="undefined"!==typeof navigator&&navigator.product,Df&&["ReactNative","NativeScript","NS"].indexOf(_f)<0);var _f;const Uf="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,jf=Df&&window.location.href||"http://localhost",Hf={...t,...Nf};const Wf=function(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const a=Number.isFinite(+o),s=i>=e.length;if(o=!o&&vf.isArray(r)?r.length:o,s)return vf.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a;r[o]&&vf.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],i)&&vf.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!a}if(vf.isFormData(e)&&vf.isFunction(e.entries)){const n={};return vf.forEachEntry(e,((e,r)=>{t(function(e){return vf.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const Vf={transitional:Ff,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=vf.isObject(e);i&&vf.isHTMLForm(e)&&(e=new FormData(e));if(vf.isFormData(e))return r?JSON.stringify(Wf(e)):e;if(vf.isArrayBuffer(e)||vf.isBuffer(e)||vf.isStream(e)||vf.isFile(e)||vf.isBlob(e)||vf.isReadableStream(e))return e;if(vf.isArrayBufferView(e))return e.buffer;if(vf.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Tf(e,new Hf.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Hf.isNode&&vf.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=vf.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Tf(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(vf.isString(e))try{return(t||JSON.parse)(e),vf.trim(e)}catch(yh){if("SyntaxError"!==yh.name)throw yh}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Vf.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(vf.isResponse(e)||vf.isReadableStream(e))return e;if(e&&vf.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(yh){if(n){if("SyntaxError"===yh.name)throw Sf.from(yh,Sf.ERR_BAD_RESPONSE,this,null,this.response);throw yh}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hf.classes.FormData,Blob:Hf.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};vf.forEach(["delete","get","head","post","put","patch"],(e=>{Vf.headers[e]={}}));const Gf=Vf,Qf=vf.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qf=Symbol("internals");function Kf(e){return e&&String(e).trim().toLowerCase()}function Zf(e){return!1===e||null==e?e:vf.isArray(e)?e.map(Zf):String(e)}function Xf(e,t,n,r,i){return vf.isFunction(r)?r.call(this,t,n):(i&&(t=n),vf.isString(t)?vf.isString(r)?-1!==t.indexOf(r):vf.isRegExp(r)?r.test(t):void 0:void 0)}class Jf{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=Kf(t);if(!i)throw new Error("header name must be a non-empty string");const o=vf.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=Zf(e))}const o=(e,t)=>vf.forEach(e,((e,n)=>i(e,n,t)));if(vf.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(vf.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&Qf[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(vf.isHeaders(e))for(const[a,s]of e.entries())i(s,a,n);else null!=e&&i(t,e,n);return this}get(e,t){if(e=Kf(e)){const n=vf.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(vf.isFunction(t))return t.call(this,e,n);if(vf.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Kf(e)){const n=vf.findKey(this,e);return!(!n||void 0===this[n]||t&&!Xf(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=Kf(e)){const i=vf.findKey(n,e);!i||t&&!Xf(0,n[i],i,t)||(delete n[i],r=!0)}}return vf.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!Xf(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return vf.forEach(this,((r,i)=>{const o=vf.findKey(n,i);if(o)return t[o]=Zf(r),void delete t[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();a!==i&&delete t[i],t[a]=Zf(r),n[a]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return vf.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&vf.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[qf]=this[qf]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Kf(e);t[r]||(!function(e,t){const n=vf.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return vf.isArray(e)?e.forEach(r):r(e),this}}Jf.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),vf.reduceDescriptors(Jf.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),vf.freezeMethods(Jf);const Yf=Jf;function eg(e,t){const n=this||Gf,r=t||n,i=Yf.from(r.headers);let o=r.data;return vf.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function tg(e){return!(!e||!e.__CANCEL__)}function ng(e,t,n){Sf.call(this,null==e?"canceled":e,Sf.ERR_CANCELED,t,n),this.name="CanceledError"}vf.inherits(ng,Sf,{__CANCEL__:!0});const rg=ng;function ig(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Sf("Request failed with status code "+n.status,[Sf.ERR_BAD_REQUEST,Sf.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const og=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,a=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[a];i||(i=l),n[o]=s,r[o]=l;let u=a,d=0;for(;u!==o;)d+=n[u++],u%=e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const ag=function(e,t){let n=0;const r=1e3/t;let i=null;return function(){const t=!0===this,o=Date.now();if(t||o-n>r)return i&&(clearTimeout(i),i=null),n=o,e.apply(null,arguments);i||(i=setTimeout((()=>(i=null,n=Date.now(),e.apply(null,arguments))),r-(o-n)))}},sg=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=og(50,250);return ag((n=>{const o=n.loaded,a=n.lengthComputable?n.total:void 0,s=o-r,l=i(s);r=o;const c={loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&o<=a?(a-o)/l:void 0,event:n,lengthComputable:null!=a};c[t?"download":"upload"]=!0,e(c)}),n)},lg=Hf.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=vf.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0},cg=Hf.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const a=[e+"="+encodeURIComponent(t)];vf.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),vf.isString(r)&&a.push("path="+r),vf.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function ug(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const dg=e=>e instanceof Yf?{...e}:e;function hg(e,t){t=t||{};const n={};function r(e,t,n){return vf.isPlainObject(e)&&vf.isPlainObject(t)?vf.merge.call({caseless:n},e,t):vf.isPlainObject(t)?vf.merge({},t):vf.isArray(t)?t.slice():t}function i(e,t,n){return vf.isUndefined(t)?vf.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function o(e,t){if(!vf.isUndefined(t))return r(void 0,t)}function a(e,t){return vf.isUndefined(t)?vf.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t)=>i(dg(e),dg(t),!0)};return vf.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=l[r]||i,a=o(e[r],t[r],r);vf.isUndefined(a)&&o!==s||(n[r]=a)})),n}const pg=e=>{const t=hg({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:a,headers:s,auth:l}=t;if(t.headers=s=Yf.from(s),t.url=Bf(ug(t.baseURL,t.url),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),vf.isFormData(r))if(Hf.hasStandardBrowserEnv||Hf.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(Hf.hasStandardBrowserEnv&&(i&&vf.isFunction(i)&&(i=i(t)),i||!1!==i&&lg(t.url))){const e=o&&a&&cg.read(a);e&&s.set(o,e)}return t},fg="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=pg(e);let i=r.data;const o=Yf.from(r.headers).normalize();let a,{responseType:s}=r;function l(){r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let c=new XMLHttpRequest;function u(){if(!c)return;const r=Yf.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());ig((function(e){t(e),l()}),(function(e){n(e),l()}),{data:s&&"text"!==s&&"json"!==s?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:r,config:e,request:c}),c=null}c.open(r.method.toUpperCase(),r.url,!0),c.timeout=r.timeout,"onloadend"in c?c.onloadend=u:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(u)},c.onabort=function(){c&&(n(new Sf("Request aborted",Sf.ECONNABORTED,r,c)),c=null)},c.onerror=function(){n(new Sf("Network Error",Sf.ERR_NETWORK,r,c)),c=null},c.ontimeout=function(){let e=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const t=r.transitional||Ff;r.timeoutErrorMessage&&(e=r.timeoutErrorMessage),n(new Sf(e,t.clarifyTimeoutError?Sf.ETIMEDOUT:Sf.ECONNABORTED,r,c)),c=null},void 0===i&&o.setContentType(null),"setRequestHeader"in c&&vf.forEach(o.toJSON(),(function(e,t){c.setRequestHeader(t,e)})),vf.isUndefined(r.withCredentials)||(c.withCredentials=!!r.withCredentials),s&&"json"!==s&&(c.responseType=r.responseType),"function"===typeof r.onDownloadProgress&&c.addEventListener("progress",sg(r.onDownloadProgress,!0)),"function"===typeof r.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",sg(r.onUploadProgress)),(r.cancelToken||r.signal)&&(a=t=>{c&&(n(!t||t.type?new rg(null,e,c):t),c.abort(),c=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const d=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);d&&-1===Hf.protocols.indexOf(d)?n(new Sf("Unsupported protocol "+d+":",Sf.ERR_BAD_REQUEST,e)):c.send(i||null)}))},gg=(e,t)=>{let n,r=new AbortController;const i=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Sf?t:new rg(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{i(new Sf("timeout ".concat(t," of ms exceeded"),Sf.ETIMEDOUT))}),t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e&&(e.removeEventListener?e.removeEventListener("abort",i):e.unsubscribe(i))})),e=null)};e.forEach((e=>e&&e.addEventListener&&e.addEventListener("abort",i)));const{signal:s}=r;return s.unsubscribe=a,[s,()=>{o&&clearTimeout(o),o=null}]},mg=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},yg=(e,t,n,r,i)=>{const o=async function*(e,t,n){for await(const r of e)yield*mg(ArrayBuffer.isView(r)?r:await n(String(r)),t)}(e,t,i);let a=0;return new ReadableStream({type:"bytes",async pull(e){const{done:t,value:i}=await o.next();if(t)return e.close(),void r();let s=i.byteLength;n&&n(a+=s),e.enqueue(new Uint8Array(i))},cancel:e=>(r(e),o.return())},{highWaterMark:2})},bg=(e,t)=>{const n=null!=e;return r=>setTimeout((()=>t({lengthComputable:n,total:e,loaded:r})))},vg="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,wg=vg&&"function"===typeof ReadableStream,xg=vg&&("function"===typeof TextEncoder?($g=new TextEncoder,e=>$g.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var $g;const Sg=wg&&(()=>{let e=!1;const t=new Request(Hf.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})(),kg=wg&&!!(()=>{try{return vf.isReadableStream(new Response("").body)}catch(e){}})(),Ag={stream:kg&&(e=>e.body)};var Cg;vg&&(Cg=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Ag[e]&&(Ag[e]=vf.isFunction(Cg[e])?t=>t[e]():(t,n)=>{throw new Sf("Response type '".concat(e,"' is not supported"),Sf.ERR_NOT_SUPPORT,n)})})));const Eg=async(e,t)=>{const n=vf.toFiniteNumber(e.getContentLength());return null==n?(async e=>null==e?0:vf.isBlob(e)?e.size:vf.isSpecCompliantForm(e)?(await new Request(e).arrayBuffer()).byteLength:vf.isArrayBufferView(e)?e.byteLength:(vf.isURLSearchParams(e)&&(e+=""),vf.isString(e)?(await xg(e)).byteLength:void 0))(t):n},Tg=vg&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:a,onDownloadProgress:s,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=pg(e);c=c?(c+"").toLowerCase():"text";let p,f,[g,m]=i||o||a?gg([i,o],a):[];const y=()=>{!p&&setTimeout((()=>{g&&g.unsubscribe()})),p=!0};let b;try{if(l&&Sg&&"get"!==n&&"head"!==n&&0!==(b=await Eg(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});vf.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body&&(r=yg(n.body,65536,bg(b,sg(l)),null,xg))}vf.isString(d)||(d=d?"cors":"omit"),f=new Request(t,{...h,signal:g,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",withCredentials:d});let i=await fetch(f);const o=kg&&("stream"===c||"response"===c);if(kg&&(s||o)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=i[t]}));const t=vf.toFiniteNumber(i.headers.get("content-length"));i=new Response(yg(i.body,65536,s&&bg(t,sg(s,!0)),o&&y,xg),e)}c=c||"text";let a=await Ag[vf.findKey(Ag,c)||"text"](i,e);return!o&&y(),m&&m(),await new Promise(((t,n)=>{ig(t,n,{data:a,headers:Yf.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:f})}))}catch(v){if(y(),v&&"TypeError"===v.name&&/fetch/i.test(v.message))throw Object.assign(new Sf("Network Error",Sf.ERR_NETWORK,e,f),{cause:v.cause||v});throw Sf.from(v,v&&v.code,e,f)}}),Pg={http:null,xhr:fg,fetch:Tg};vf.forEach(Pg,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(yh){}Object.defineProperty(e,"adapterName",{value:t})}}));const Rg=e=>"- ".concat(e),Mg=e=>vf.isFunction(e)||null===e||!1===e,Ig=e=>{e=vf.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!Mg(n)&&(r=Pg[(t=String(n)).toLowerCase()],void 0===r))throw new Sf("Unknown adapter '".concat(t,"'"));if(r)break;i[t||"#"+o]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(Rg).join("\n"):" "+Rg(e[0]):"as no adapter specified";throw new Sf("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Lg(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new rg(null,e)}function Bg(e){Lg(e),e.headers=Yf.from(e.headers),e.data=eg.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Ig(e.adapter||Gf.adapter)(e).then((function(t){return Lg(e),t.data=eg.call(e,e.transformResponse,t),t.headers=Yf.from(t.headers),t}),(function(t){return tg(t)||(Lg(e),t&&t.response&&(t.response.data=eg.call(e,e.transformResponse,t.response),t.response.headers=Yf.from(t.response.headers))),Promise.reject(t)}))}const Og="1.7.2",Fg={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Fg[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Ng={};Fg.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.2] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new Sf(r(i," has been removed"+(t?" in "+t:"")),Sf.ERR_DEPRECATED);return t&&!Ng[i]&&(Ng[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};const Dg={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Sf("options must be an object",Sf.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],a=t[o];if(a){const t=e[o],n=void 0===t||a(t,o,e);if(!0!==n)throw new Sf("option "+o+" must be "+n,Sf.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Sf("Unknown option "+o,Sf.ERR_BAD_OPTION)}},validators:Fg},zg=Dg.validators;class _g{constructor(e){this.defaults=e,this.interceptors={request:new Of,response:new Of}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(yh){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=hg(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&Dg.assertOptions(n,{silentJSONParsing:zg.transitional(zg.boolean),forcedJSONParsing:zg.transitional(zg.boolean),clarifyTimeoutError:zg.transitional(zg.boolean)},!1),null!=r&&(vf.isFunction(r)?t.paramsSerializer={serialize:r}:Dg.assertOptions(r,{encode:zg.function,serialize:zg.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&vf.merge(i.common,i[t.method]);i&&vf.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=Yf.concat(o,i);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!s){const e=[Bg.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=a.length;let h=t;for(d=0;d<u;){const e=a[d++],t=a[d++];try{h=e(h)}catch(p){t.call(this,p);break}}try{c=Bg.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return Bf(ug((e=hg(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}vf.forEach(["delete","get","head","options"],(function(e){_g.prototype[e]=function(t,n){return this.request(hg(n||{},{method:e,url:t,data:(n||{}).data}))}})),vf.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(hg(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}_g.prototype[e]=t(),_g.prototype[e+"Form"]=t(!0)}));const Ug=_g;class jg{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new rg(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;const t=new jg((function(t){e=t}));return{token:t,cancel:e}}}const Hg=jg;const Wg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Wg).forEach((e=>{let[t,n]=e;Wg[n]=t}));const Vg=Wg;const Gg=function e(t){const n=new Ug(t),r=Bp(Ug.prototype.request,n);return vf.extend(r,Ug.prototype,n,{allOwnKeys:!0}),vf.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(hg(t,n))},r}(Gf);Gg.Axios=Ug,Gg.CanceledError=rg,Gg.CancelToken=Hg,Gg.isCancel=tg,Gg.VERSION=Og,Gg.toFormData=Tf,Gg.AxiosError=Sf,Gg.Cancel=Gg.CanceledError,Gg.all=function(e){return Promise.all(e)},Gg.spread=function(e){return function(t){return e.apply(null,t)}},Gg.isAxiosError=function(e){return vf.isObject(e)&&!0===e.isAxiosError},Gg.mergeConfig=hg,Gg.AxiosHeaders=Yf,Gg.formToJSON=e=>Wf(vf.isHTMLForm(e)?new FormData(e):e),Gg.getAdapter=Ig,Gg.HttpStatusCode=Vg,Gg.default=Gg;const Qg=Gg,qg=e=>{let{setHash:t}=e;const[n,i]=(0,r.useState)(null),[o,a]=(0,r.useState)(""),[s,l]=(0,r.useState)(!1);return(0,lh.jsx)("div",{children:(0,lh.jsxs)("form",{children:[(0,lh.jsx)("input",{type:"file",onChange:e=>i(e.target.files[0]),accept:"image/png,image/jpeg"}),(0,lh.jsx)(uh,{type:"submit",onClick:async e=>{e.preventDefault(),l(!0);try{ap.loading("Uploading...");const e=new FormData;e.append("file",n);const r=await Qg({method:"post",url:"https://api.pinata.cloud/pinning/pinFileToIPFS",data:e,headers:{pinata_api_key:"38da9db2e2d653aa075b",pinata_secret_api_key:"a898585038f33d0af6076d96985b401fedab0265845614a7bd6cbf16e664d75e","Content-Type":"multipart/form-data"}}),i="https://gateway.pinata.cloud/ipfs/"+r.data.IpfsHash;t(r.data.IpfsHash),a(i),ap.dismiss(),ap.success("Uploaded")}catch(r){ap.error("Failed to Upload"),console.error(r)}finally{l(!1)}},label:"\ud83d\udce4 Upload"})]})})};var Kg=n(111),Zg=n.n(Kg);const Xg=e=>{let{imgData:t,hash:n}=e;const{certificateContract:i}=(0,r.useContext)(sh);return(0,r.useEffect)((()=>{(async e=>{try{ap.loading("Transaction pending...");let t="0x"+Zg().SHA256(e).toString(Zg().enc.Hex);console.log(t);await i.setImageHash(n,t);ap.dismiss(),ap.success("Transaction successful")}catch(t){ap.dismiss(),ap.error("Transaction failed"),console.error(t)}})(t)}),[]),(0,lh.jsx)("div",{})},Jg=e=>{let{hash:t}=e;const[n,i]=(0,r.useState)("");(0,r.useEffect)((()=>{(async e=>{try{const t=await fetch(e),n=await t.blob(),r=new FileReader;r.readAsDataURL(n),r.onloadend=()=>{const t=r.result;i({url:e,imageData:t}.imageData)}}catch(t){console.error("Error fetching and converting image:",t)}})(o)}),[]);const o="https://gateway.pinata.cloud/ipfs/".concat(t);return(0,lh.jsx)("div",{children:n&&(0,lh.jsx)(Xg,{imgData:n,hash:t})})},Yg=()=>{const{certificateContract:e,account:t}=(0,r.useContext)(sh),[n,i]=(0,r.useState)(""),[o,a]=(0,r.useState)(""),[s,l]=(0,r.useState)("");return(0,r.useEffect)((()=>{(async()=>{try{const n=t,r=await e.getInfo(n);i(n),a(r)}catch(n){console.error(n)}})()}),[e,t]),(0,lh.jsxs)("div",{children:[(0,lh.jsx)("div",{className:"upload-container",children:(0,lh.jsxs)("div",{className:"p-container",children:[(0,lh.jsx)("div",{className:"p-box",children:(0,lh.jsx)("p",{children:n?"\ud83d\udccd "+n:"Account not registered"})}),(0,lh.jsx)("div",{className:"p-box",children:(0,lh.jsx)("p",{children:o?"\ud83c\udfdb\ufe0f "+o:"College not registered"})})]})}),(0,lh.jsx)(qg,{setHash:l}),s&&(0,lh.jsxs)("div",{children:[(0,lh.jsx)("img",{src:"https://gateway.pinata.cloud/ipfs/".concat(s),style:{width:"950px",height:"auto"},className:"pb4 pt2"}),(0,lh.jsx)(Jg,{hash:s})]})]})},em=()=>{const{certificateContract:e}=(0,r.useContext)(sh),[t,n]=(0,r.useState)(null),[i,o]=(0,r.useState)(!1),[a,s]=(0,r.useState)(""),[l,c]=(0,r.useState)(1);return(0,lh.jsx)("div",{children:(0,lh.jsxs)("form",{children:[(0,lh.jsx)("input",{type:"file",onChange:e=>n(e.target.files[0])}),(0,lh.jsx)(uh,{type:"button",onClick:async()=>{try{if(!t)return void console.error("No file selected");ap.loading("Verifying...");const n=new FileReader;n.readAsDataURL(t),n.onload=async()=>{const t=n.result,r="0x"+Zg().SHA256(t).toString(Zg().enc.Hex);try{const t=await e.getImageHash(r);ap.dismiss(),ap.success("Certificate verified"),s(t),o(!0)}catch(i){if("Hash not found"!==i.reason)throw i;ap.dismiss(),ap.error("Certificate not valid"),c(2)}},n.onerror=e=>{ap.dismiss(),ap.error("Certificate not valid"),console.error("Error converting file:",e)}}catch(n){ap.dismiss(),ap.error("Certificate not valid"),c(2),console.error(n)}},label:"\ud83d\udd0e Verify"}),i&&(0,lh.jsxs)("div",{children:[(0,lh.jsx)("p",{children:"Certificate verified"}),(0,lh.jsx)("img",{src:"https://gateway.pinata.cloud/ipfs/".concat(a)})]}),2===l?(0,lh.jsx)("p",{children:"Certificate not valid"}):""]})})},tm=()=>(0,lh.jsxs)("div",{className:"grid-container mt2 ml2 mr2",children:[(0,lh.jsx)("div",{className:"box1",children:"Welcome to E-Certificate."}),(0,lh.jsxs)("div",{className:"box2 card",children:[(0,lh.jsx)("h1",{className:"h1 pp",children:"Why Verify with Blockchain?"}),(0,lh.jsxs)("div",{className:"p",children:[(0,lh.jsx)("p",{children:"Blockchain provides a tamper-proof, secure way to verify certificates"}),(0,lh.jsx)("p",{children:"All verification processes are transparent and verifiable by anyone"}),(0,lh.jsx)("p",{children:"Built on decentralized technology, ensuring trust and authenticity"})]})]}),(0,lh.jsxs)("div",{className:"box3 card",children:[(0,lh.jsx)("h1",{className:"h1",children:"Start Verifying Now"}),(0,lh.jsxs)("div",{className:"p",children:[(0,lh.jsxs)("span",{children:[(0,lh.jsx)("div",{className:"b",children:"Step 1"})," Upload your certificate"]}),(0,lh.jsxs)("span",{children:[(0,lh.jsx)("div",{className:"b mt1 mb1",children:"Step 2"})," Click 'Verify'"]}),(0,lh.jsxs)("span",{children:[(0,lh.jsx)("div",{className:"b mt1",children:"Step 3"})," Get instant results"]})]})]})]}),nm=[{value:65504,name:"jfif"},{value:65498,name:"sos"},{value:65505,subvalue:17784,name:"exif"},{value:65505,subvalue:26740,name:"xmp"},{value:65506,subvalue:19792,name:"mpf"},{value:65506,name:"app2"}];var rm=(e,t,n)=>{if(!e)return;const r=new DataView(e),i=(e=>{if(65496!==e.getUint16(0))return;const t=e.byteLength;let n,r,i=2;for(;i<t&&255===e.getUint8(i);){n=e.getUint16(i);const t=nm.find((t=>t.value===n&&(!t.subvalue||t.subvalue===e.getUint16(i+2+2))));if(t){const{name:n}=t;r||(r={}),r[n]||(r[n]={offset:i,size:e.getUint16(i+2)})}if(65498===n)break;i+=2+e.getUint16(i+2)}return r})(r);if(!i||!i.exif)return;const o=((e,t)=>{if(65505!==e.getUint16(t))return;const n=e.getUint16(t+2);if(t+=4,1165519206!==e.getUint32(t))return;t+=6;const r=e.getUint16(t);if(18761!==r&&19789!==r)return;const i=18761===r;if(t+=2,42!==e.getUint16(t,i))return;t+=e.getUint32(t+2,i);const o=r=>{const o=[];let a=t;const s=Math.min(e.byteLength,t+n-16);for(;a<s;a+=12){const t=a;e.getUint16(t,i)===r&&o.push(t)}return o};return{read:t=>{const n=o(t);if(n.length)return e.getUint16(n[0]+8,i)},write:(t,n)=>{const r=o(t);return!!r.length&&(r.forEach((t=>e.setUint16(t+8,n,i))),!0)}}})(r,i.exif.offset);return o?void 0===n?o.read(t):o.write(t,n):void 0},im=e=>window.__pqina_webapi__?window.__pqina_webapi__[e]:window[e],om=function(){};const am={ArrayBuffer:"readAsArrayBuffer"};var sm=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:om,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(((r,i)=>{const{dataFormat:o=am.ArrayBuffer}=n,a=new(im("FileReader"));a.onload=()=>r(a.result),a.onerror=()=>i(a.error),a.onprogress=t,a[o](e)}))},lm=async(e,t)=>{const n=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,e.size],n=arguments.length>2?arguments[2]:void 0;return await sm(e.slice(...t),n)}(e,[0,262144],t);return rm(n,274)||1};let cm=null;var um=()=>(null===cm&&(cm="undefined"!=typeof window&&void 0!==window.document),cm);let dm=null;var hm=()=>new Promise((e=>{if(null===dm){const t="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=";let n=um()?new Image:{};return n.onload=()=>{dm=1===n.naturalWidth,n=void 0,e(dm)},void(n.src=t)}return e(dm)})),pm=e=>e.getContext("2d").getImageData(0,0,e.width,e.height),fm=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const r=document.createElement(e),i=Object.getOwnPropertyDescriptors(r.__proto__);for(const o in t)"style"===o?r.style.cssText=t[o]:i[o]&&i[o].set||/textContent|innerHTML/.test(o)||"function"==typeof t[o]?r[o]=t[o]:r.setAttribute(o,t[o]);return n.forEach((e=>r.appendChild(e))),r};const gm={1:()=>[1,0,0,1,0,0],2:e=>[-1,0,0,1,e,0],3:(e,t)=>[-1,0,0,-1,e,t],4:(e,t)=>[1,0,0,-1,0,t],5:()=>[0,1,1,0,0,0],6:(e,t)=>[0,1,-1,0,t,0],7:(e,t)=>[0,-1,-1,0,t,e],8:e=>[0,-1,1,0,0,e]};var mm=e=>{e.width=1,e.height=1;const t=e.getContext("2d");t&&t.clearRect(0,0,1,1)},ym=e=>"data"in e,bm=e=>um()?RegExp(e).test(window.navigator.userAgent):void 0;let vm=null;var wm=()=>(null===vm&&(vm=bm(/Android/)),vm),xm=(e,t)=>{const n=fm("canvas",{width:e.width,height:e.height});return n.getContext("2d",t).drawImage(e,0,0),n},$m=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=await hm(),[r,i]=n||t<5?[e.width,e.height]:[e.height,e.width],o=fm("canvas",{width:r,height:i}),a=o.getContext("2d",{willReadFrequently:!0});if(ym(e)&&!n&&t>1){const t=fm("canvas",{width:e.width,height:e.height});t.getContext("2d",{willReadFrequently:!0}).putImageData(e,0,0),e=t}if(!n&&t>1&&a.transform.apply(a,function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return-1===n&&(n=1),gm[n](e,t)}(e.width,e.height,t)),ym(e)){if(a.putImageData(e,0,0),wm())return xm(o)}else a.drawImage(e,0,0);return e instanceof HTMLCanvasElement&&mm(e),o},Sm=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return 1===t||await hm()?e:pm(await $m(e,t))},km=e=>"object"==typeof e;const Am=e=>e instanceof HTMLElement?e:km(e)?Cm(e):e,Cm=e=>{let t;return Array.isArray(e)?(t=[],e.forEach(((e,n)=>{t[n]=Am(e)}))):(t={},null!==e&&Object.keys(e).forEach((n=>{const r=e[n];t[n]=Am(r)}))),t};var Em=e=>"string"==typeof e,Tm=e=>"function"==typeof e,Pm=()=>"createImageBitmap"in window,Rm=e=>/svg/.test(e.type),Mm=()=>Math.random().toString(36).substring(2,9);const Im=new Map;var Lm=(e,t,n)=>new Promise(((r,i)=>{const o=e.toString();let a=Im.get(o);if(!a){const t=(e=>"function () {self.onmessage = function (message) {(".concat(e.toString(),").apply(null, message.data.content.concat([function (err, response) {\n    response = response || {};\n    const transfer = 'data' in response ? [response.data.buffer] : 'width' in response ? [response] : [];\n    return self.postMessage({ id: message.data.id, content: response, error: err }, transfer);\n}]))}}"))(e),n=URL.createObjectURL((e=>new Blob(["(","function"==typeof e?e.toString():e,")()"],{type:"application/javascript"}))(t)),r=new Map,i=new Worker(n);a={url:n,worker:i,messages:r,terminationTimeout:void 0,terminate:()=>{clearTimeout(a.terminationTimeout),a.worker.terminate(),URL.revokeObjectURL(n),Im.delete(o)}},i.onmessage=function(e){const{id:t,content:n,error:i}=e.data;if(clearTimeout(a.terminationTimeout),a.terminationTimeout=setTimeout((()=>{r.size>0||a.terminate()}),500),!r.has(t))return;const o=r.get(t);r.delete(t),null!=i?o.reject(i):o.resolve(n)},Im.set(o,a)}const s=Mm();a.messages.set(s,{resolve:r,reject:i}),a.worker.postMessage({id:s,content:t},n)}));let Bm=null;var Om=()=>(null===Bm&&(Bm=bm(/Firefox/)),Bm);const Fm=async(e,t)=>{const n=await(async(e,t)=>{const n=fm("img",{src:URL.createObjectURL(e)}),r=await((e,t)=>new Promise(((n,r)=>{const i=()=>n(((e,t)=>{let{width:n,height:r,canvasMemoryLimit:i,contextOptions:o}=t,a=n||e.naturalWidth,s=r||e.naturalHeight;a||s||(a=300,s=150);const l=a*s;if(i&&l>i){const e=Math.sqrt(i)/Math.sqrt(l);a=Math.floor(a*e),s=Math.floor(s*e)}const c=fm("canvas");return c.width=a,c.height=s,c.getContext("2d",o).drawImage(e,0,0,a,s),c})(e,t));e.complete&&e.width?i():(e.onload=i,e.onerror=()=>r(new Error("Failed to load image")))})))(n,t);return URL.revokeObjectURL(n.src),r})(e,{canvasMemoryLimit:t,contextOptions:{willReadFrequently:!0}}),r=pm(n);return mm(n),r};var Nm=async(e,t)=>{if(wm()&&!Om())return await Fm(e,t);let n;if(Pm()&&!Rm(e)&&"OffscreenCanvas"in window)try{n=await Lm(((e,t,n)=>{createImageBitmap(e).then((e=>{let r=e.width,i=e.height;const o=r*i;if(t&&o>t){const e=Math.sqrt(t)/Math.sqrt(o);r=Math.floor(r*e),i=Math.floor(i*e)}const a=new OffscreenCanvas(r,i),s=a.getContext("2d",{willReadFrequently:!0});s.drawImage(e,0,0,r,i);const l=s.getImageData(0,0,a.width,a.height);n(null,l)})).catch((e=>{n(e)}))}),[e,t])}catch(e){}return n&&n.width?n:await Fm(e,t)},Dm=(e,t,n)=>new Promise(((r,i)=>{try{e.toBlob((e=>{if(!e)return i(new Error("Failed to create blob"));r(e)}),t,n)}catch(e){i(e)}})),zm=async(e,t,n)=>{const r=await $m(e),i=await Dm(r,t,n);return mm(r),i};const _m={matroska:"mkv"};var Um=e=>{const t=(e.match(/\/([a-z0-9]+)/)||[])[1];if(/^x/.test(t)){const[,t=""]=e.split("/x-");return _m[t]}return t},jm=e=>e.substring(0,e.lastIndexOf("."))||e;const Hm=/avif|bmp|gif|jpg|jpeg|jpe|jif|jfif|png|svg|tiff|webp/;var Wm=e=>{return e&&(t=(n=e,n.split(".").pop()).toLowerCase(),Hm.test(t)?"image/"+(/jfif|jif|jpe|jpg/.test(t)?"jpeg":"svg"===t?"svg+xml":t):"");var t,n},Vm=(e,t,n)=>{const r=(new Date).getTime(),i=e.type.length&&!/null|text/.test(e.type),o=i?e.type:n,a=((e,t)=>{const n=Wm(e);if(n===t)return e;const r=Um(t)||n;return"".concat(jm(e),".").concat(r)})(t,o);try{return new(im("File"))([e],a,{lastModified:r,type:i?e.type:o})}catch(t){const n=i?e.slice():e.slice(0,e.size,o);return n.lastModified=r,n.name=a,n}},Gm=(e,t)=>e/t,Qm=e=>e;const qm=Math.PI,Km=Math.PI/2,Zm=Km/2;var Xm=e=>{const t=Math.abs(e)%Math.PI;return t>Zm&&t<Math.PI-Zm};const Jm={Top:"t",Right:"r",Bottom:"b",Left:"l",TopLeft:"tl",TopRight:"tr",BottomRight:"br",BottomLeft:"bl"},{Top:Ym,Right:ey,Bottom:ty,Left:ny,TopLeft:ry,TopRight:iy,BottomRight:oy,BottomLeft:ay}=Jm;var sy={[Ym]:[.5,0],[ey]:[1,.5],[ty]:[.5,1],[ny]:[0,.5],[ry]:[0,0],[iy]:[1,0],[oy]:[1,1],[ay]:[0,1]},ly=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;return parseFloat(e.toFixed(t))};const cy=(e,t,n)=>n+(e-n)*t,uy=e=>({x:e.x+.5*e.width,y:e.y+.5*e.height,rx:.5*e.width,ry:.5*e.height}),dy=()=>hy(0,0),hy=(e,t)=>({x:e,y:t}),py=e=>hy(e.pageX,e.pageY),fy=e=>hy(e.x,e.y),gy=e=>(e.x=-e.x,e.y=-e.y,e),my=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dy();const r=Math.cos(t),i=Math.sin(t),o=e.x-n.x,a=e.y-n.y;return e.x=n.x+r*o-i*a,e.y=n.y+i*o+r*a,e},yy=e=>Math.sqrt(e.x*e.x+e.y*e.y),by=e=>{const t=Math.sqrt(e.x*e.x+e.y*e.y);return 0===t?dy():(e.x/=t,e.y/=t,e)},vy=(e,t)=>Math.atan2(t.y-e.y,t.x-e.x),wy=(e,t)=>e.x===t.x&&e.y===t.y,xy=(e,t)=>(e.x=t(e.x),e.y=t(e.y),e),$y=(e,t)=>(e.x+=t.x,e.y+=t.y,e),Sy=(e,t)=>(e.x-=t.x,e.y-=t.y,e),ky=(e,t)=>(e.x/=t,e.y/=t,e),Ay=(e,t)=>(e.x*=t,e.y*=t,e),Cy=(e,t)=>e.x*t.x+e.y*t.y,Ey=(e,t)=>e.x*t.y-e.y*t.x,Ty=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dy();const n=e.x-t.x,r=e.y-t.y;return n*n+r*r},Py=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dy();return Math.sqrt(Ty(e,t))},Ry=e=>{let t=0,n=0;return e.forEach((e=>{t+=e.x,n+=e.y})),hy(t/e.length,n/e.length)},My=(e,t,n,r,i)=>(e.forEach((e=>{e.x=t?r-(e.x-r):e.x,e.y=n?i-(e.y-i):e.y})),e),Iy=(e,t,n,r)=>{const i=Math.sin(t),o=Math.cos(t);return e.forEach((e=>{e.x-=n,e.y-=r;const t=e.x*o-e.y*i,a=e.x*i+e.y*o;e.x=n+t,e.y=r+a})),e},Ly=(e,t)=>({width:e,height:t}),By=e=>Ly(e.width,e.height),Oy=e=>Ly(e.width,e.height),Fy=e=>Ly(e.width,e.height),Ny=e=>Ly(e[0],e[1]),Dy=e=>{return/img/i.test(e.nodeName)?Ly((t=e).naturalWidth,t.naturalHeight):Oy(e);var t},zy=(e,t)=>Ly(e,t),_y=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qm;return n(e.width)===n(t.width)&&n(e.height)===n(t.height)},Uy=(e,t)=>(e.width*=t,e.height*=t,e),jy=e=>hy(.5*e.width,.5*e.height),Hy=(e,t)=>{const n=Math.abs(t),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),o=r*e.width+i*e.height,a=i*e.width+r*e.height;return e.width=o,e.height=a,e},Wy=(e,t)=>e.width>=t.width&&e.height>=t.height,Vy=(e,t)=>(e.width=t(e.width),e.height=t(e.height),e),Gy=(e,t)=>({start:e,end:t}),Qy=e=>Gy(fy(e.start),fy(e.end)),qy=(e,t)=>{if(0===t)return e;const n=hy(e.start.x-e.end.x,e.start.y-e.end.y),r=by(n),i=Ay(r,t);return e.start.x+=i.x,e.start.y+=i.y,e.end.x-=i.x,e.end.y-=i.y,e},Ky=[hy(-1,-1),hy(-1,1),hy(1,1),hy(1,-1)],Zy=(e,t,n,r)=>({x:e,y:t,width:n,height:r}),Xy=e=>Zy(e.x,e.y,e.width,e.height),Jy=()=>Zy(0,0,0,0),Yy=e=>Zy(0,0,e.width,e.height),eb=e=>Zy(e[3],e[0],e[1]-e[3],e[2]-e[0]),tb=e=>Zy(e.x||0,e.y||0,e.width||0,e.height||0),nb=e=>{let t=e[0].x,n=e[0].x,r=e[0].y,i=e[0].y;return e.forEach((e=>{t=Math.min(t,e.x),n=Math.max(n,e.x),r=Math.min(r,e.y),i=Math.max(i,e.y)})),Zy(t,r,n-t,i-r)},rb=e=>ob(e.x-e.rx,e.y-e.ry,2*e.rx,2*e.ry),ib=(e,t)=>Zy(e.x-.5*t.width,e.y-.5*t.height,t.width,t.height),ob=(e,t,n,r)=>Zy(e,t,n,r),ab=e=>hy(e.x+.5*e.width,e.y+.5*e.height),sb=(e,t)=>(e.x+=t.x,e.y+=t.y,e),lb=(e,t,n)=>(n=n||ab(e),e.x=t*(e.x-n.x)+n.x,e.y=t*(e.y-n.y)+n.y,e.width=t*e.width,e.height=t*e.height,e),cb=(e,t,n,r)=>{const i=(r.x-e.x)/e.width,o=(r.y-e.y)/e.height;let a=Math.max(t.width,e.width),s=Math.max(t.height,e.height);return a=Math.min(n.width,a),s=Math.min(n.height,s),e.x=r.x-i*a,e.y=r.y-o*s,e.width=a,e.height=s,e},ub=(e,t)=>{const[n,r]=sy[t],i=n*e.width,o=r*e.height;return hy(e.x+i,e.y+o)},db=(e,t)=>(e.x*=t,e.y*=t,e.width*=t,e.height*=t,e),hb=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qm;return n(e.x)===n(t.x)&&n(e.y)===n(t.y)&&n(e.width)===n(t.width)&&n(e.height)===n(t.height)},pb=e=>Gm(e.width,e.height),fb=(e,t,n,r,i)=>(e.x=t,e.y=n,e.width=r,e.height=i,e),gb=(e,t)=>(e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height,e),mb=(e,t,n)=>(n||(n=ab(e)),$b(e).map((e=>my(e,t,n)))),yb=(e,t)=>Zy(.5*e.width-.5*t.width,.5*e.height-.5*t.height,t.width,t.height),bb=(e,t)=>!(t.x<e.x)&&!(t.y<e.y)&&!(t.x>e.x+e.width)&&!(t.y>e.y+e.height),vb=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dy();if(0===e.width||0===e.height)return Jy();const r=pb(e);t||(t=r);let i=e.width,o=e.height;return t>r?i=o*t:o=i/t,Zy(n.x+.5*(e.width-i),n.y+.5*(e.height-o),i,o)},wb=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pb(e),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dy();if(0===e.width||0===e.height)return Jy();let r=e.width,i=r/t;return i>e.height&&(i=e.height,r=i*t),Zy(n.x+.5*(e.width-r),n.y+.5*(e.height-i),r,i)},xb=e=>[Math.min(e.y,e.y+e.height),Math.max(e.x,e.x+e.width),Math.max(e.y,e.y+e.height),Math.min(e.x,e.x+e.width)],$b=e=>[hy(e.x,e.y),hy(e.x+e.width,e.y),hy(e.x+e.width,e.y+e.height),hy(e.x,e.y+e.height)],Sb=(e,t)=>{if(e)return e.x=t(e.x),e.y=t(e.y),e.width=t(e.width),e.height=t(e.height),e},kb=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ab(e);return $b(e).map(((e,r)=>{const i=Ky[r];return hy(cy(e.x,1+i.x*t.x,n.x),cy(e.y,1+i.y*t.y,n.y))}))},Ab=e=>(e.x=0,e.y=0,e),Cb=e=>{const t=e[0],n=e[e.length-1];e=wy(t,n)?e:[...e,t];const r=t.x,i=t.y;let o,a,s,l=0,c=0,u=0,d=0;const h=e.length;for(;c<h;c++)o=e[c],a=e[c+1>h-1?0:c+1],s=(o.y-i)*(a.x-r)-(a.y-i)*(o.x-r),l+=s,u+=(o.x+a.x-2*r)*s,d+=(o.y+a.y-2*i)*s;return s=3*l,hy(r+u/s,i+d/s)},Eb=(e,t)=>Tb(e.start,e.end,t.start,t.end),Tb=(e,t,n,r)=>{const i=(r.y-n.y)*(t.x-e.x)-(r.x-n.x)*(t.y-e.y);if(0===i)return;const o=((r.x-n.x)*(e.y-n.y)-(r.y-n.y)*(e.x-n.x))/i,a=((t.x-e.x)*(e.y-n.y)-(t.y-e.y)*(e.x-n.x))/i;return o<0||o>1||a<0||a>1?void 0:hy(e.x+o*(t.x-e.x),e.y+o*(t.y-e.y))},Pb=function(e,t){let{ignoreIdenticalLines:n=!1,breakOnIntersection:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.length,o=[];for(let a=0;a<i-1;a++){if(n&&(wy(e.start,t[a])||wy(e.start,t[a+1])||wy(e.end,t[a])||wy(e.end,t[a+1])))continue;const i=Tb(e.start,e.end,t[a],t[a+1]);if(i){if(r)return[i];o.push(i)}}return o.length?o:void 0},Rb=(e,t)=>{let n=0,r=0,i=!1;const o=t.length;for(n=0,r=o-1;n<o;r=n++)t[n].y>e.y!=t[r].y>e.y&&e.x<(t[r].x-t[n].x)*(e.y-t[n].y)/(t[r].y-t[n].y)+t[n].x&&(i=!i);return i},Mb=e=>{const t=[];for(let n=0;n<e.length;n++){let r=n+1;r===e.length&&(r=0),t.push(Gy(fy(e[n]),fy(e[r])))}return t},Ib=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Mb(e).map((e=>qy(e,t)))},Lb=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:12;const s=[];for(let l=0;l<a;l++)s.push(hy(e.x+t*Math.cos(l*(2*Math.PI)/a),e.y+n*Math.sin(l*(2*Math.PI)/a)));return(i||o)&&My(s,i,o,e.x,e.y),r&&Iy(s,r,e.x,e.y),s},Bb=(e,t,n,r)=>{const i=hy(e.x-n.x,e.y-n.y),o=hy(r.x-n.x,r.y-n.y),a=Cy(o,o);let s=Cy(i,o)/a;s=s<0?0:s,s=s>1?1:s;const l=hy(o.x*s+n.x-e.x,o.y*s+n.y-e.y);return Cy(l,l)<=t*t},Ob=(e,t,n)=>{const r=n.length;for(let i=0;i<r-1;i++)if(Bb(e,t,n[i],n[i+1]))return!0;return!1},Fb=(e,t,n)=>!!Rb(e,n)||!!Ob(e,t,n)||Bb(e,t,n[0],n[n.length-1]),Nb=(e,t,n,r,i)=>Fb(e,t,mb(n,r,i||ab(n)));var Db=(e,t)=>{const n=Yy(e),r=ab(n),i=mb(n,t,r);return Ab(nb(i))},zb=(e,t)=>e instanceof HTMLElement&&(!t||new RegExp("^".concat(t,"$"),"i").test(e.nodeName)),_b=e=>e instanceof File,Ub=async(e,t,n)=>{const r=await Dm(e,t,n);return Vm(r,"canvas")},jb=e=>e.split("/").pop().split(/\?|\#/).shift();const Hb=um()&&Node.prototype.replaceChildren?(e,t)=>e.replaceChildren(t):(e,t)=>{for(;e.lastChild;)e.removeChild(e.lastChild);void 0!==t&&e.append(t)},Wb=um()&&fm("div",{class:"PinturaMeasure",style:"position:absolute;left:0;top:0;width:99999px;height:0;pointer-events:none;contain:strict;margin:0;padding:0;"});let Vb;var Gb=e=>(Hb(Wb,e),Wb.parentNode||document.body.append(Wb),clearTimeout(Vb),Vb=setTimeout((()=>{Wb.remove()}),500),e);let Qb=null;var qb=()=>(null===Qb&&(Qb=um()&&/^((?!chrome|android).)*(safari|iphone|ipad)/i.test(navigator.userAgent)),Qb),Kb=e=>new Promise(((t,n)=>{let r=!1;!e.parentNode&&qb()&&(r=!0,e.style.cssText="position:absolute;visibility:hidden;pointer-events:none;left:0;top:0;width:0;height:0;",Gb(e));const i=()=>{const n=e.naturalWidth,i=e.naturalHeight;n&&i&&(r&&e.remove(),clearInterval(o),t({width:n,height:i}))};e.onerror=e=>{clearInterval(o),n(e)};const o=setInterval(i,1);i()})),Zb=e=>new Promise(((t,n)=>{const r=()=>{t({width:e.videoWidth,height:e.videoHeight})};if(e.readyState>=1)return r();e.onloadedmetadata=r,e.onerror=()=>n(e.error)})),Xb=e=>/^image/.test(e.type),Jb=e=>new Promise((t=>{const n=Em(e)?e:URL.createObjectURL(e),r=()=>{const e=new Image;e.src=n,t(e)};if(e instanceof Blob&&Xb(e))return r();const i=document.createElement("video");i.preload="metadata",i.onloadedmetadata=()=>t(i),i.onerror=r,i.src=n})),Yb=e=>"VIDEO"===e.nodeName,ev=async e=>{let t,n;t=e.src?e:await Jb(e);try{n=Yb(t)?await Zb(t):await Kb(t)}finally{_b(e)&&URL.revokeObjectURL(t.src)}return n},tv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new(im("ProgressEvent"))("progress",{loaded:100*e,total:100,lengthComputable:t})},nv=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>e;return e.getAllResponseHeaders().indexOf(t)>=0?n(e.getResponseHeader(t)):void 0},rv=e=>{if(!e)return null;const t=e.split(/filename=|filename\*=.+''/).splice(1).map((e=>e.trim().replace(/^["']|[;"']{0,2}$/g,""))).filter((e=>e.length));return t.length?decodeURI(t[t.length-1]):null};class iv extends Error{constructor(e,t,n){super(e),this.name="EditorError",this.code=t,this.metadata=n}}var ov=(e,t)=>{const{headers:n={},credentials:r}=t||{};Object.entries(n).forEach((t=>{let[n,r]=t;return e.setRequestHeader(n,r)})),r&&(e.withCredentials="omit"!==r)},av=e=>e instanceof Blob&&!(e instanceof File),sv=e=>"close"in e,lv=async(e,t,n)=>{if(_b(e)||av(e))return e;if(Em(e))return await((e,t,n)=>/^data:/.test(e)?async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data-uri",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:om;n(tv(0));const r=await fetch(e);n(tv(.33));const i=await r.blob();let o;Xb(i)||(o="image/"+(e.includes(",/9j/")?"jpeg":"png")),n(tv(.66));const a=Vm(i,t,o);return n(tv(1)),a}(e,void 0,t):((e,t,n)=>new Promise(((r,i)=>{const o=()=>i(new iv("Error fetching image","URL_REQUEST",a)),a=new XMLHttpRequest;a.onprogress=t,a.onerror=o,a.onload=()=>{if(!a.response||a.status>=300||a.status<200)return o();const t=nv(a,"Content-Type"),n=nv(a,"Content-Disposition",rv)||jb(e);r(Vm(a.response,n,t||Wm(n)))};const{willRequest:s}=n;Promise.resolve(s&&s(e,{resourceType:"image"})).then((t=>{if(!1===t)return i("Image load rejected");a.open("GET",e,!0),ov(a,t),a.responseType="blob",a.send()})).catch(console.error)})))(e,t,n))(e,t,n);if(zb(e,"canvas"))return await Ub(e);if(zb(e,"img"))return await(async e=>{const t=await ev(e),n=await(e=>new Promise(((t,n)=>{if(e.complete)return t(e);e.onload=()=>t(e),e.onerror=()=>n(new Error("Failed to load image"))})))(e),r=fm("canvas",t);r.getContext("2d",{willReadFrequently:!0}).drawImage(n,0,0);const i=await Dm(r);return Vm(i,jb(n.src))})(e);if(ym(e)||sv(e))return await Ub(await $m(e));throw new iv("Invalid image source","invalid-image-source")};let cv=null;var uv=()=>(null===cv&&(cv=um()&&/^mac/i.test(navigator.platform)),cv);let dv=null;var hv=()=>(null===dv&&(dv=um()&&(bm(/iPhone|iPad|iPod/)||uv()&&navigator.maxTouchPoints>=1)),dv),pv=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return await hm()||hv()||t<5?e:zy(e.height,e.width)},fv=e=>/jpeg/.test(e.type),gv=e=>{return"object"!=typeof(t=e)||t.constructor!=Object?e:JSON.stringify(e);var t},mv=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return 0===t||(e.translate(n.x,n.y),e.rotate(t),e.translate(-n.x,-n.y)),e},yv=(e,t,n)=>(e.scale(t,n),e),bv=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{flipX:n,flipY:r,rotation:i,crop:o}=t,a=Oy(e),s=n||r,l=!!i,c=o&&(o.x||o.y||o.width||o.height),u=c&&hb(o,Yy(a)),d=c&&!u;if(!s&&!l&&!d)return e;let h,p=fm("canvas",{width:e.width,height:e.height});if(p.getContext("2d",{willReadFrequently:!0}).putImageData(e,0,0),s){const e=fm("canvas",{width:p.width,height:p.height}).getContext("2d",{willReadFrequently:!0});yv(e,n?-1:1,r?-1:1),e.drawImage(p,n?-p.width:0,r?-p.height:0),e.restore(),mm(p),p=e.canvas}if(l){const e=Vy(Fy(nb(mb(tb(p),i))),Math.floor),t=fm("canvas",{width:o.width,height:o.height}).getContext("2d",{willReadFrequently:!0});((e,t,n)=>{e.translate(t,n)})(t,-o.x,-o.y),mv(t,i,jy(e)),t.drawImage(p,.5*(e.width-p.width),.5*(e.height-p.height)),t.restore(),mm(p),p=t.canvas}else if(d)return h=p.getContext("2d",{willReadFrequently:!0}).getImageData(o.x,o.y,o.width,o.height),mm(p),h;return h=p.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,p.width,p.height),mm(p),h},vv=(e,t)=>{const{imageData:n,width:r,height:i}=e,o=n.width,a=n.height,s=Math.round(r),l=Math.round(i),c=n.data,u=new Uint8ClampedArray(s*l*4),d=o/s,h=a/l,p=Math.ceil(.5*d),f=Math.ceil(.5*h);for(let g=0;g<l;g++)for(let e=0;e<s;e++){const t=4*(e+g*s);let n=0,r=0,i=0,a=0,l=0,m=0,y=0;const b=(g+.5)*h;for(let s=Math.floor(g*h);s<(g+1)*h;s++){const t=Math.abs(b-(s+.5))/f,u=(e+.5)*d,h=t*t;for(let f=Math.floor(e*d);f<(e+1)*d;f++){let e=Math.abs(u-(f+.5))/p;const t=Math.sqrt(h+e*e);if(t<-1||t>1)continue;if(n=2*t*t*t-3*t*t+1,n<=0)continue;e=4*(f+s*o);const d=c[e+3];y+=n*d,i+=n,d<255&&(n=n*d/250),a+=n*c[e],l+=n*c[e+1],m+=n*c[e+2],r+=n}}u[t]=a/r,u[t+1]=l/r,u[t+2]=m/r,u[t+3]=y/i}t(null,{data:u,width:s,height:l})},wv=e=>{if(e instanceof ImageData)return e;let t;try{t=new ImageData(e.width,e.height)}catch($h){t=fm("canvas").getContext("2d").createImageData(e.width,e.height)}return t.data.set(e.data),t},xv=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const{width:r,height:i,fit:o,upscale:a}=t;if(!r&&!i)return e;let s=r,l=i;if(r?i||(l=r):s=i,"force"!==o){const t=s/e.width,n=l/e.height;let r=1;if("cover"===o?r=Math.max(t,n):"contain"===o&&(r=Math.min(t,n)),r>1&&!1===a)return e;s=Math.round(e.width*r),l=Math.round(e.height*r)}return s=Math.max(s,1),l=Math.max(l,1),e.width===s&&e.height===l?e:n?n(e,s,l):(e=await Lm(vv,[{imageData:e,width:s,height:l}],[e.data.buffer]),wv(e))},$v=(e,t)=>{const{imageData:n,matrix:r}=e;if(!r)return t(null,n);const i=n.data,o=i.length,a=r[0],s=r[1],l=r[2],c=r[3],u=r[4],d=r[5],h=r[6],p=r[7],f=r[8],g=r[9],m=r[10],y=r[11],b=r[12],v=r[13],w=r[14],x=r[15],$=r[16],S=r[17],k=r[18],A=r[19];let C=0,E=0,T=0,P=0,R=0,M=0,I=0,L=0,B=0,O=0,F=0,N=0;for(;C<o;C+=4)E=i[C]/255,T=i[C+1]/255,P=i[C+2]/255,R=i[C+3]/255,M=E*a+T*s+P*l+R*c+u,I=E*d+T*h+P*p+R*f+g,L=E*m+T*y+P*b+R*v+w,B=E*x+T*$+P*S+R*k+A,O=Math.max(0,M*B)+(1-B),F=Math.max(0,I*B)+(1-B),N=Math.max(0,L*B)+(1-B),i[C]=255*Math.max(0,Math.min(1,O)),i[C+1]=255*Math.max(0,Math.min(1,F)),i[C+2]=255*Math.max(0,Math.min(1,N)),i[C+3]=255*R;t(null,{data:i,width:n.width,height:n.height})},Sv=(e,t)=>{const{imageData:n,matrix:r}=e;if(!r)return t(null,n);let i=r.reduce(((e,t)=>e+t));i=i<=0?1:i;const o=n.width,a=n.height,s=n.data;let l=0,c=0,u=0;const d=Math.round(Math.sqrt(r.length)),h=Math.floor(d/2);let p=0,f=0,g=0,m=0,y=0,b=0,v=0,w=0,x=0,$=0;const S=new Uint8ClampedArray(o*a*4);for(u=0;u<a;u++)for(c=0;c<o;c++){for(p=0,f=0,g=0,m=0,b=0;b<d;b++)for(y=0;y<d;y++)v=u+b-h,w=c+y-h,v<0&&(v=a-1),v>=a&&(v=0),w<0&&(w=o-1),w>=o&&(w=0),x=4*(v*o+w),$=r[b*d+y],p+=s[x]*$,f+=s[x+1]*$,g+=s[x+2]*$,m+=s[x+3]*$;S[l]=p/i,S[l+1]=f/i,S[l+2]=g/i,S[l+3]=m/i,l+=4}t(null,{data:S,width:o,height:a})},kv=(e,t)=>{let{imageData:n,strength:r}=e;if(!r)return t(null,n);const i=n.width,o=n.height,a=n.data,s=(e,t)=>(l=e-x,c=t-$,Math.sqrt(l*l+c*c));let l,c,u,d,h,p,f,g,m,y,b,v=0,w=0,x=.5*i,$=.5*o,S=s(0,0);for(r>0?(u=0,d=0,h=0):(r=Math.abs(r),u=1,d=1,h=1),w=0;w<o;w++)for(v=0;v<i;v++)k=4*(v+w*i),A=a,C=a,E=s(v,w)*r/S,p=A[k]/255,f=A[k+1]/255,g=A[k+2]/255,m=A[k+3]/255,y=1-E,b=y*m+E,C[k]=(y*m*p+E*u)/b*255,C[k+1]=(y*m*f+E*d)/b*255,C[k+2]=(y*m*g+E*h)/b*255,C[k+3]=255*b;var k,A,C,E;t(null,{data:a,width:n.width,height:n.height})},Av=(e,t)=>{const{imageData:n,level:r,monochrome:i=!1}=e;if(!r)return t(null,n);const o=n.data,a=o.length;let s,l,c,u=0;const d=()=>255*(2*Math.random()-1)*r,h=i?()=>{const e=d();return[e,e,e]}:()=>[d(),d(),d()];for(;u<a;u+=4)[s,l,c]=h(),o[u]=o[u]+s,o[u+1]=o[u+1]+l,o[u+2]=o[u+2]+c;t(null,{data:o,width:n.width,height:n.height})},Cv=(e,t)=>{const{imageData:n,level:r}=e;if(!r)return t(null,n);const i=n.data,o=i.length;let a,s,l,c=0;for(;c<o;c+=4)a=i[c]/255,s=i[c+1]/255,l=i[c+2]/255,i[c]=255*Math.pow(a,r),i[c+1]=255*Math.pow(s,r),i[c+2]=255*Math.pow(l,r);t(null,{data:i,width:n.width,height:n.height})},Ev=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{colorMatrix:n,convolutionMatrix:r,gamma:i,noise:o,vignette:a}=t,s=[];if(r&&s.push([Sv,{matrix:r.clarity}]),i>0&&s.push([Cv,{level:1/i}]),n&&!(e=>{const t=e.length;let n;const r=t>=20?6:t>=16?5:3;for(let i=0;i<t;i++){if(n=e[i],1===n&&i%r!=0)return!1;if(0!==n&&1!==n)return!1}return!0})(n)&&s.push([$v,{matrix:n}]),(o>0||o<0)&&s.push([Av,{level:o}]),(a>0||a<0)&&s.push([kv,{strength:a}]),!s.length)return e;const l=(e,t)=>"(err, imageData) => {\n            (".concat(e[t][0].toString(),")(Object.assign({ imageData: imageData }, filterInstructions[").concat(t,"]), \n                ").concat(e[t+1]?l(e,t+1):"done",")\n        }"),c="function (options, done) {\n        const filterInstructions = options.filterInstructions;\n        const imageData = options.imageData;\n        (".concat(l(s,0),")(null, imageData)\n    }");return e=await Lm(c,[{imageData:e,filterInstructions:s.map((e=>e[1]))}],[e.data.buffer]),wv(e)},Tv=e=>"number"==typeof e,Pv=e=>Em(e)&&null!==e.match(/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g),Rv=(e,t)=>e.hasOwnProperty(t),Mv=e=>Array.isArray(e);let Iv=64,Lv=102,Bv=112,Ov=!1;var Fv=(e,t)=>(!Ov&&um()&&(/^win/i.test(navigator.platform)&&(Lv=103),(hv()||uv())&&(Iv=63.5,Lv=110,Bv=123),Ov=!0),"<svg".concat(t?' aria-label="'.concat(t,'"'):"",' width="128" height="128" viewBox="0 0 128 128" preserveAspectRatio="xMinYMin meet" xmlns="http://www.w3.org/2000/svg"><text x="').concat(Iv,'" y="').concat(Lv,'" alignment-baseline="text-top" dominant-baseline="text-top" text-anchor="middle" font-size="').concat(Bv,'px">').concat(e,"</text></svg>")),Nv=e=>e instanceof Blob,Dv=(e,t)=>e/t*100+"%",zv=e=>"rgba(".concat(Math.round(255*e[0]),", ").concat(Math.round(255*e[1]),", ").concat(Math.round(255*e[2]),", ").concat(Tv(e[3])?e[3]:1,")"),_v=e=>Object.values(e).join("_");const Uv=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=fm("canvas",{width:80,height:80}).getContext("2d");return await function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((t=>{setTimeout(t,e)}))}(t),n.drawImage(e,0,0,80,80),!((e=>!new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data.buffer).some((e=>0!==e)))(n)&&t<=256)||await Uv(e,t+16)},jv=new Map;var Hv=e=>new Promise(((t,n)=>{const r=new FileReader;r.onerror=()=>n(r.error),r.onload=()=>t(r.result),r.readAsDataURL(e)})),Wv=()=>{let e=[];return{sub:(t,n)=>(e.push({event:t,callback:n}),()=>e=e.filter((e=>e.event!==t||e.callback!==n))),pub:(t,n)=>{e.filter((e=>e.event===t)).forEach((e=>e.callback(n)))}}};const Vv=32,Gv=function(e){let{color:t=[0,0,0],fontSize:n=16,fontFamily:r="sans-serif",fontVariant:i="normal",fontWeight:o="normal",fontStyle:a="normal",textAlign:s="left",letterSpacing:l="normal",lineHeight:c=20}=e,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return"font-size:".concat(n*u,"px;font-style:").concat(a,";font-weight:").concat(o,";font-family:").concat(r,";font-variant:").concat(i,";line-height:").concat(c*u,"px;text-align:").concat(s,";letter-spacing:").concat(Tv(l)?l+"px":"normal",";color:").concat(zv(t),";")},Qv=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const{width:r,height:i,disableNewline:o}=t,a=!r,s=!1===o?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("\n").length}(e):void 0,l=a?"normal":"break-word",c=a&&!s?"nowrap":"pre-line";return"max-width:none;min-width:auto;width:".concat(a?"auto":r*n+"px",";height:").concat(i?i*n+"px":"auto",";margin-top:0;margin-bottom:0;padding-top:").concat(function(){let{fontSize:e=16,lineHeight:t=20}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return.5*Math.max(0,e-t)}(t)*n,"px;word-break:").concat(l,";word-wrap:normal;white-space:").concat(c,";")},qv=new Map,Kv=e=>{const t=[];for(const n of Array.from(e.childNodes))n.nodeType===Node.TEXT_NODE?t.push(Xv(n)):t.push(...Kv(n));return t},Zv="pointer-events:none;visibility:hidden;position:absolute;left:0;top:0;",Xv=e=>{const t=e.nodeValue;if(!t)return[];const n=t.length,r=document.createRange();r.selectNodeContents(e);const i=[];for(let a=0;a<n;a++){r.setStart(e,0),r.setEnd(e,a+1);const n=r.getClientRects().length-1,o=t.charAt(a);i[n]?i[n]+=o:i.push(o)}const o=r.getClientRects();return i.map(((e,t)=>({rect:o[t],text:e})))},Jv=new Map,Yv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;const{width:n=0,height:r=0}=t;if(n&&r)return zy(n,r);let{fontSize:i=16,fontFamily:o,lineHeight:a=20,fontWeight:s,fontStyle:l,fontVariant:c,letterSpacing:u}=t;const d=_v({text:e,fontFamily:o,fontWeight:s,fontStyle:l,fontVariant:c,fontSize:i,letterSpacing:u,lineHeight:a,width:n});let h=Jv.get(d);if(h)return h;let p=1;i>1e3&&Om()&&(p=i/1e3,i=1e3,a/=p);const f=Gb(fm("pre",{contenteditable:"true",spellcheck:"false",style:"".concat(Zv).concat(Gv({...t,fontSize:i,lineHeight:a}),";").concat(Qv(e,t),'"'),innerHTML:e})).getBoundingClientRect();return h=Oy(f),h=Vy(h,(e=>e*p)),n&&(h.width=n),Jv.set(d,h),h},ew=new Map,tw=async(e,t,n)=>{let r;try{r=await((e,t)=>new Promise(((n,r)=>{let i=ew.get(e);void 0===i&&(i=((e,t)=>{const{sub:n,pub:r}=Wv();let i,o;return Promise.resolve(t&&t(e,{resourceType:"stylesheet"})).then((t=>{if(!1===t)return o="requestPrevented",r("error",o);const{headers:n,credentials:a}=t||{};fetch(e,{headers:n,credentials:a}).then((e=>e.text())).then((e=>{i=e,r("load",i)})).catch((e=>{o=e,r("error",o)}))})),{sub:(e,t)=>"load"===e&&i?t(i):"error"===e&&o?t(o):void n(e,t)}})(e,t),ew.set(e,i)),i.sub("load",n),i.sub("error",r)})))(e,t)}catch(e){return[]}const i={innerHTML:r,id:Mm()};n&&(i.nonce=n);const o=fm("style",i);document.head.append(o);const a=Array.from(document.styleSheets).find((e=>e.ownerNode.id===o.id));return o.remove(),Array.from(a.cssRules)},nw=new Map,rw=(e,t)=>e.style.getPropertyValue(t),iw=(e,t)=>!!e.style&&rw(e,"font-family").replace(/^"|"$/g,"")==t,ow=async(e,t,n)=>{const r=((e,t)=>{const n=[];for(const r of e)iw(r,t)&&n.push(r);return n})(await(async(e,t)=>{const n=Array.from(document.styleSheets).map((n=>(async(e,t,n)=>{if(nw.has(e.href))return nw.get(e.href);let r;try{r=Array.from(e.cssRules);for(const e of(e=>e.filter((e=>e instanceof CSSImportRule)))(r)){const i=e.href;if(nw.has(i)){const e=nw.get(i);r=[...r,...e];continue}const o=await tw(i,t,n);nw.set(i,o),r=[...r,...o]}}catch(i){const a=e.href;r=await tw(a,t,n),nw.set(a,r)}return(e=>e.filter((e=>e instanceof CSSFontFaceRule)))(r)})(n,e,t))),r=await Promise.all(n),i=[];return r.forEach((e=>i.push(...e))),i})(t,n),e);return r.length?r.map((e=>{const t=e.parentStyleSheet&&e.parentStyleSheet.href&&new URL(e.parentStyleSheet.href),n=t?t.origin+(e=>e.pathname.split("/").slice(0,-1).join("/"))(t)+"/":"",r=e.style.getPropertyValue("src").match(/url\("?(.*?)"?\)/)[1],i=Array.from(e.style).filter((e=>"src"!=e)).reduce(((t,n)=>t+(n+":")+rw(e,n)+";"),"");return[/^http/.test(r)?r:n+r,i]})):[]},aw=new Map,sw=new Map;var lw=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if(!e.length)return;let{color:n,imageWidth:r=300,imageHeight:i=150,paddingTop:o=0,paddingRight:a=Vv,paddingBottom:s=0,paddingLeft:l=Vv,fontFamily:c,fontSize:u,pixelRatio:d=1,willRequest:h,outline:p,blur:f,styleNonce:g}=t,m=1,y="";u>1e3&&Om()&&(m=u/1e3,y="transform-origin:0 0;transform:scale(".concat(m,")"));const b=d/m,v=(r+l+a)*d,w=(i+s+o)*d,x=await(async(e,t,n)=>{if(aw.get(e))return;let r=sw.get(e);if(!r){const o=await ow(e,t,n);if(!o.length)return void aw.set(e,!0);const a=[];for(const[e,t]of o){const n=await fetch(e).then((e=>e.blob())),r=!(i=n.type)||/woff2/.test(i)?"woff2":/woff/.test(i)?"woff":/ttf|truetype/.test(i)?"truetype":/otf|opentype/.test(i)?"opentype":/svg/.test(i)?"svg":"woff2",o=await Hv(n);a.push("@font-face { src:url(".concat(o,") format('").concat(r,"');").concat(t,";font-display:block; }"))}r=a.join(""),sw.set(e,r)}var i;return r})(c,h,g);let $="";x&&($="<style".concat(g?' nonce="'.concat(g,'"'):"",">").concat(x,"</style>"));const S=e.replace(/%/g,"%25").replace(/#/g,"%23").replace(/&nbsp;/g,"\xa0").replace(/&(?!#\d{4};|[a-z]+;)/gi,"&amp;").replace(/<br>|\n/g,"<br/>"),k="top:".concat(o*b,"px;right:").concat(a*b,"px;bottom:").concat(s*b,"px;left:").concat(l*b,"px");let A=n,C="",E="";if(p||f){const e=zv(n);p&&(A=[0,0,0,0],C="-webkit-text-stroke: ".concat(2*p*b,"px ").concat(e)),f&&(qb()?E="filter:blur(".concat(f*b*.4,"px)"):(A=[0,0,0,0],E="text-shadow: 0 0 ".concat(f*b,"px ").concat(e)))}return function(e){let{safariCacheKey:t="*"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((n,r)=>{const i=new Image;i.onerror=()=>r(new Error("Failed to load SVG")),i.onload=()=>{if(!qb()||!e.includes("@font-face")||jv.has(t))return n(i);Uv(i).then((()=>{jv.set(t,!0),n(i)}))},i.src="data:image/svg+xml,"+e}))}('<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(v,'" height="').concat(w,'" viewBox="0 0 ').concat(v," ").concat(w,'"><foreignObject x="0" y="0" width="').concat(v,'" height="').concat(w,'"><div xmlns="http://www.w3.org/1999/xhtml">').concat($,'<pre contenteditable="true" spellcheck="false" style="position:absolute;').concat(k,";").concat(Gv({...t,color:A,fontSize:u},b),";").concat(Qv(e,t,b),";").concat(y,";").concat(C,";").concat(E,'">').concat(S,"</pre></div></foreignObject></svg>"),{safariCacheKey:c})};const cw=e=>{const t={...e};return Cm(t)},uw=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=pb(e);let r,i;const o=t.width||t.rx,a=t.height||t.ry;if(o&&a)return By(t);if(o||a){r=parseFloat(o||Number.MAX_SAFE_INTEGER),i=parseFloat(a||Number.MAX_SAFE_INTEGER);const e=Math.min(r,i);Em(o)||Em(a)?(r=e+"%",i=e*n+"%"):(r=e,i=e)}else{const e=10;r=e+"%",i=e*n+"%"}return{[(t.width?"width":t.rx?"rx":void 0)||"width"]:r,[(t.width?"height":t.rx?"ry":void 0)||"height"]:i}},dw=function(e){return{width:void 0,height:void 0,...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},aspectRatio:1,backgroundImage:(t=Fv(e),"data:image/svg+xml,"+t.replace("<","%3C").replace(">","%3E"))};var t},hw=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{backgroundColor:[0,0,0,0],...ww(t)?{}:{width:void 0,height:void 0,aspectRatio:void 0},...t,backgroundImage:Em(e)?e:Nv(e)?URL.createObjectURL(e):e}},pw=(e,t)=>{let n;if(Em(e)||Nv(e)){const r={...uw(t),backgroundSize:"contain"};n=Pv(e)?dw(e,r):hw(e,r)}else if(e.src){const r=uw(t,e.shape||e),i={...e.shape,...r};if(e.width&&e.height&&!Rv(i,"aspectRatio")){const e=cx(r,"width",t),n=cx(r,"height",t);i.aspectRatio=Gm(e,n)}i.backgroundSize||e.shape||e.width&&e.height||(i.backgroundSize="contain"),n=Pv(e.src)?dw(e.src,i):hw(e.src,i)}else e.shape&&(n=cw(e.shape));return Rv(n,"backgroundImage")&&(Rv(n,"backgroundColor")||(n.backgroundColor=[0,0,0,0]),Rv(n,"disableStyle")||(n.disableStyle=["cornerRadius","backgroundColor","strokeColor","strokeWidth"])),t?sx(n,t):n},fw=e=>hy(e.x1,e.y1),gw=e=>hy(e.x2,e.y2),mw=e=>Rv(e,"text"),yw=e=>mw(e)&&!(Rw(e)||Rv(e,"width")),bw=e=>mw(e)&&(Rw(e)||Rv(e,"width")),vw=e=>!mw(e)&&Mw(e),ww=e=>Rv(e,"rx"),xw=e=>Rv(e,"x1"),$w=e=>Rv(e,"points"),Sw=e=>mw(e)&&e.isEditing,kw=e=>!Rv(e,"opacity")||e.opacity>0,Aw=e=>e.isSelected,Cw=e=>e.isEditing,Ew=e=>e._isDraft,Tw=e=>Rv(e,"width")&&Rv(e,"height"),Pw=e=>{const t=Rv(e,"right"),n=Rv(e,"bottom");return t||n},Rw=e=>(Rv(e,"x")||Rv(e,"left"))&&Rv(e,"right")||(Rv(e,"y")||Rv(e,"top"))&&Rv(e,"bottom"),Mw=e=>Tw(e)||Rw(e),Iw=e=>(e._isDraft=!0,e),Lw=e=>(e._isDraft=!1,e),Bw=(e,t)=>!0!==e.disableStyle&&(!Mv(e.disableStyle)||!t||!e.disableStyle.includes(t)),Ow=e=>!0!==e.disableSelect,Fw=e=>!0!==e.disableRemove,Nw=e=>!0!==e.disableDuplicate&&Ww(e),Dw=e=>!e.disableFlip&&!Ew(e)&&!Pw(e)&&(e=>Rv(e,"backgroundImage")||Rv(e,"text"))(e),zw=(e,t)=>!!mw(e)&&!0!==e.disableInput&&(Tm(e.disableInput)?e.disableInput(null!=t?t:e.text):t||!0),_w=(e,t)=>!0!==e.disableTextLayout&&(!Mv(e.disableTextLayout)||!t||!e.disableTextLayout.includes(t)),Uw=e=>jw(e)&&e.points.length>3,jw=e=>!!$w(e)&&void 0!==e.disableAddPoints&&!0!==e.disableAddPoints,Hw=e=>!0!==e.disableManipulate&&!Ew(e)&&!Pw(e),Ww=e=>Hw(e)&&!0!==e.disableMove,Vw=e=>(delete e.left,delete e.right,delete e.top,delete e.bottom,e),Gw=e=>(delete e.rotation,e),Qw=e=>(e.strokeWidth=e.strokeWidth||1,e.strokeColor=e.strokeColor||[0,0,0],e),qw=e=>(e.backgroundColor=e.backgroundColor?e.backgroundColor:e.strokeWidth||e.backgroundImage?void 0:[0,0,0],e),Kw=e=>{let t=e.text;t=t.replace(/&(#[0-9]+|[a-z]+);/gi,((e,t)=>"___".concat(t,"___"))),t=t.replace(/&/,"&amp;"),e.text=t.replace(/___(#[0-9]+|[a-z]+)___/gi,((e,t)=>"&".concat(t,";")))},Zw=e=>(!1!==e.disableNewline&&(delete e.textAlign,e.text=e.text.replace(/\n/g," ")),Vw(e)),Xw=e=>(e.textAlign=e.textAlign||"left",e),Jw=e=>((e=>{Em(e.id)||(e.id=Mm()),Rv(e,"rotation")||(e.rotation=0),Rv(e,"opacity")||(e.opacity=1),Rv(e,"disableErase")||(e.disableErase=!0)})(e),mw(e)?(e=>{if(e.fontSize=e.fontSize||"4%",e.fontFamily=e.fontFamily||"sans-serif",e.fontWeight=e.fontWeight||"normal",e.fontStyle=e.fontStyle||"normal",e.fontVariant=e.fontVariant||"normal",e.lineHeight=e.lineHeight||"120%",e.color=e.color||[0,0,0],e.format="html"===e.format?"html":"text",e.textShadow){const[t,n,r,i]=e.textShadow;e.textShadowX=t,e.textShadowY=n,e.textShadowBlur=r,e.textShadowColor=i,delete e.textShadow}if(e.textOutline){const[t,n]=e.textOutline;e.textOutlineWidth=t,e.textOutlineColor=n,delete e.textOutline}"html"===e.format?Kw(e):(e=>{Kw(e);let t=e.text;t=t.replace(/</g,"&gt;"),t=t.replace(/>/g,"&lt;"),e.text=t})(e),yw(e)?Zw(e):Xw(e)})(e):vw(e)?(e=>{e.cornerRadius=e.cornerRadius||0,e.strokeWidth=e.strokeWidth||0,e.strokeColor=e.strokeColor||[0,0,0],qw(e)})(e):$w(e)?(e=>{Qw(e),Gw(e),Rv(e,"pathClose")||(e.disableResize=!0,Rv(e,"disableMove")||(e.disableMove=!0)),Vw(e)})(e):xw(e)?(e=>{Qw(e),e.lineStart=e.lineStart||void 0,e.lineEnd=e.lineEnd||void 0,Gw(e),Vw(e)})(e):ww(e)&&(e=>{e.strokeWidth=e.strokeWidth||0,e.strokeColor=e.strokeColor||[0,0,0],qw(e)})(e),e),Yw=e=>mw(e)?"text":vw(e)?"rectangle":$w(e)?"path":xw(e)?"line":ww(e)?"ellipse":void 0,ex=(e,t)=>parseFloat(e)/100*t,tx=new RegExp(/^x|left|right|^width|rx|fontSize|eraseRadius|feather|cornerRadius|strokeWidth|strokeDash/,"i"),nx=new RegExp(/^y|top|bottom|^height|ry/,"i"),rx=(e,t,n)=>{let{width:r,height:i}=n;if(Array.isArray(t))return t.map((t=>(km(t)&&ax(t,{width:r,height:i}),Em(t)&&(t=rx(e,t,{width:r,height:i})),t)));if("string"!=typeof t)return t;if(!t.endsWith("%"))return t;const o=parseFloat(t)/100;return tx.test(e)?ly(r*o,6):nx.test(e)?ly(i*o,6):t},ix=rx,ox=["lineHeight","textOutlineWidth","textShadowX","textShadowY","textShadowBlur"],ax=(e,t)=>{Object.entries(e).map((n=>{let[r,i]=n;e[r]=rx(r,i,t)})),e.text&&ox.filter((t=>Em(e[t]))).forEach((t=>{var n,r;e[t]=(n=e[t],r=e.fontSize,Math.round(r*(parseFloat(n)/100)))}))},sx=(e,t)=>(ax(e,t),fx(e,t),e),lx=(e,t)=>{let n;return/^x|width|rx|fontSize|strokeWidth|cornerRadius/.test(e)?n=t.width:/^y|height|ry/.test(e)&&(n=t.height),n},cx=(e,t,n)=>Array.isArray(e[t])?e[t].map((e=>Object.entries(e).reduce(((e,t)=>{let[r,i]=t;return e[r]=Em(i)?ex(i,lx(r,n)):i,e}),{}))):Em(e[t])?ex(e[t],lx(t,n)):e[t],ux=(e,t,n)=>t.reduce(((t,r)=>{const i=cx(e,r,n);return t[r]=i,t}),{}),dx=(e,t,n)=>(Object.keys(t).forEach((r=>((e,t,n,r)=>{if(!Em(e[t]))return e[t]=n,e;const i=lx(t,r);return e[t]=void 0===i?n:Dv(n,i),e})(e,r,t[r],n))),e),hx=(e,t)=>{const n=e.filter((e=>e.x<0||e.y<0||e.x1<0||e.y1<0)).reduce(((e,t)=>{const[n,r,i,o]=(e=>{const t=Jy(),n=e.strokeWidth||0;if(vw(e))t.x=e.x-.5*n,t.y=e.y-.5*n,t.width=e.width+n,t.height=e.height+n;else if(xw(e)){const{x1:r,y1:i,x2:o,y2:a}=e,s=Math.abs(Math.min(r,o)),l=Math.abs(Math.max(r,o)),c=Math.abs(Math.min(i,a)),u=Math.abs(Math.min(i,a));t.x=s+.5*n,t.y=l+.5*n,t.width=l-s+n,t.height=u-c+n}else ww(e)&&(t.x=e.x-e.rx+.5*n,t.y=e.y-e.ry+.5*n,t.width=2*e.rx+n,t.height=2*e.ry+n);return t&&Rv(e,"rotation")&&mb(t,e.rotation),xb(t)})(t);return e.top=Math.min(n,e.top),e.left=Math.min(o,e.left),e.bottom=Math.max(i,e.bottom),e.right=Math.max(r,e.right),e}),{top:0,right:0,bottom:0,left:0});return n.right>0&&(n.right-=t.width),n.bottom>0&&(n.bottom-=t.height),n},px=(e,t,n)=>{const r=cw(e);sx(r,t);const i=n(r);return Array.isArray(i)?i:[i]},fx=(e,t)=>{if(Rv(e,"left")&&(e.x=e.left),Rv(e,"right")&&!Em(e.right)){const n=t.width-e.right;Rv(e,"left")?(e.x=e.left,e.width=Math.max(0,n-e.left)):Rv(e,"width")&&(e.x=n-e.width)}if(Rv(e,"top")&&(e.y=e.top),Rv(e,"bottom")&&!Em(e.bottom)){const n=t.height-e.bottom;Rv(e,"top")?(e.y=e.top,e.height=Math.max(0,n-e.top)):Rv(e,"height")&&(e.y=n-e.height)}return e},gx=(e,t)=>($w(e)&&e.points.filter((e=>Tv(e.x))).forEach((e=>{e.x*=t,e.y*=t})),xw(e)&&Tv(e.x1)&&(e.x1*=t,e.y1*=t,e.x2*=t,e.y2*=t),Tv(e.x)&&Tv(e.y)&&(e.x*=t,e.y*=t),Tv(e.width)&&Tv(e.height)&&(e.width*=t,e.height*=t),Tv(e.rx)&&Tv(e.ry)&&(e.rx*=t,e.ry*=t),(e=>Tv(e.strokeWidth)&&e.strokeWidth>0)(e)&&(e.strokeWidth*=t),mw(e)&&(e._scale=t,Tv(e.fontSize)&&(e.fontSize*=t),Tv(e.lineHeight)&&(e.lineHeight*=t),Tv(e.width)&&!Tv(e.height)&&(e.width*=t)),Rv(e,"cornerRadius")&&Tv(e.cornerRadius)&&(e.cornerRadius*=t),e),mx=e=>{if(vw(e))return hy(e.x+.5*e.width,e.y+.5*e.height);if(ww(e))return hy(e.x,e.y);if(e.text){if(bw(e)){const t=e.height||Yv(e.text,e).height;return hy(e.x+.5*e.width,e.y+.5*t)}const t=Yv(e.text,e);return hy(e.x+.5*t.width,e.y+.5*t.height)}return $w(e)?Ry(e.points):xw(e)?Ry([fw(e),gw(e)]):void 0};var yx=e=>/canvas/i.test(e.nodeName);const bx=new Map([]),vx=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((n,r)=>{const{onMetadata:i=om,onLoad:o=n,onError:a=r,onComplete:s=om}=t;let l=bx.get(e);if(l||(l={loading:!1,complete:!1,error:!1,image:void 0,size:void 0,bus:Wv()},bx.set(e,l)),l.bus.sub("meta",i),l.bus.sub("load",o),l.bus.sub("error",a),l.bus.sub("complete",s),yx(e)){const t=e,n=t.cloneNode();l.complete=!0,l.image=n,l.size=Dy(t)}if(l.complete)return l.bus.pub("meta",{size:l.size}),l.error?l.bus.pub("error",l.error):l.bus.pub("load",l.image),l.bus.pub("complete"),void(l.bus=Wv());l.loading||(l.loading=!0,((e,t)=>new Promise(((n,r)=>{let i=e,o=!1;const a=()=>{o||(o=!0,Tm(t)&&Promise.resolve().then((()=>t(zy(i.naturalWidth,i.naturalHeight)))))};if(i.src||(i=new Image,Em(e)&&new URL(e,location.href).origin!==location.origin&&(i.crossOrigin="anonymous"),i.src=Em(e)?e:URL.createObjectURL(e)),i.complete)return a(),n(i);Tm(t)&&Kb(i).then(a).catch(r),i.onload=()=>{a(),n(i)},i.onerror=()=>r(new Error("Failed to load image"))})))(e,(e=>{l.size=e,l.bus.pub("meta",{size:e})})).then((e=>{l.image=e,l.bus.pub("load",e)})).catch((e=>{l.error=e,l.bus.pub("error",e)})).finally((()=>{l.complete=!0,l.loading=!1,l.bus.pub("complete"),l.bus=Wv()})))}))},wx=(e,t,n,r)=>e.drawImage(t,n.x,n.x,n.width,n.height,r.x,r.y,r.width,r.height);var xx=async function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:wx,o=arguments.length>5?arguments[5]:void 0;e.save(),e.clip(),await i(e,t,n,r,o),e.restore()};const $x=(e,t,n,r,i)=>{const o=Xy(e);if(r){const e=Sb(nb(r),ly);return e.x*=n.width,e.width*=n.width,e.y*=n.height,e.height*=n.height,{srcRect:e,destRect:o}}const a=ob(0,0,n.width,n.height);if("contain"===t){const t=wb(e,pb(a));o.width=t.width,o.height=t.height,i?(o.x+=i.x,o.y+=i.y):(o.x+=t.x,o.y+=t.y)}else if("cover"===t){const e=vb(o,a.width/a.height);o.width=e.width,o.height=e.height,i?(o.x+=i.x,o.y+=i.y):(o.x+=e.x,o.y+=e.y)}else t?(o.width=t.width,o.height=t.height,i&&(o.x+=i.x,o.y+=i.y)):i&&(o.width=n.width,o.height=n.height,o.x+=i.x,o.y+=i.y);return{srcRect:a,destRect:o}},Sx=(e,t)=>(t.cornerRadius>0?((e,t,n,r,i,o)=>{r<2*o&&(o=r/2),i<2*o&&(o=i/2),e.beginPath(),e.moveTo(t+o,n),e.arcTo(t+r,n,t+r,n+i,o),e.arcTo(t+r,n+i,t,n+i,o),e.arcTo(t,n+i,t,n,o),e.arcTo(t,n,t+r,n,o),e.closePath()})(e,t.x,t.y,t.width,t.height,t.cornerRadius):e.rect(t.x,t.y,t.width,t.height),e),kx=(e,t)=>(t.backgroundColor&&e.fill(),e),Ax=(e,t)=>(t.strokeWidth&&e.stroke(),e);var Cx=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{drawImage:r}=n;if(e.lineWidth=t.strokeWidth?t.strokeWidth:1,e.strokeStyle=t.strokeColor?zv(t.strokeColor):"none",e.fillStyle=t.backgroundColor?zv(t.backgroundColor):"none",e.globalAlpha=t.opacity,t.backgroundImage){let n;if(n=yx(t.backgroundImage)?t.backgroundImage:await vx(t.backgroundImage),Sx(e,t),kx(e,t),"repeat"===t.backgroundRepeat){const i=t.backgroundPosition||{x:0,y:0},{srcRect:o,destRect:a}=$x(t,t.backgroundSize||Dy(n),Dy(n),t.backgroundCorners,{x:0,y:0}),s=document.createElement("canvas");s.width=a.width,s.height=a.height;const l=s.getContext("2d",{willReadFrequently:!1,desynchronized:!0});await r(l,n,o,{...a,x:0,y:0});const c=e.createPattern(s,"repeat");e.fillStyle=c,e.save(),e.beginPath(),e.rect(t.x+i.x,t.y+i.y,t.width-i.x,t.height-i.y),e.clip(),e.translate(a.x+i.x,a.y+i.y),e.fill(),mm(s),e.restore()}else{const{srcRect:i,destRect:o}=$x(t,t.backgroundSize,Dy(n),t.backgroundCorners,t.backgroundPosition);await xx(e,n,i,o,r,{feather:t.feather})}return e.beginPath(),Sx(e,t),Ax(e,t),[]}return Sx(e,t),kx(e,t),Ax(e,t),[]},Ex=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((async(r,i)=>{const{drawImage:o}=n;if(e.lineWidth=t.strokeWidth||1,e.strokeStyle=t.strokeColor?zv(t.strokeColor):"none",e.fillStyle=t.backgroundColor?zv(t.backgroundColor):"none",e.globalAlpha=t.opacity,e.ellipse(t.x,t.y,t.rx,t.ry,0,0,2*Math.PI),t.backgroundColor&&e.fill(),t.backgroundImage){let n;try{n=await vx(t.backgroundImage)}catch(e){i(e)}const a=ob(t.x-t.rx,t.y-t.ry,2*t.rx,2*t.ry),{srcRect:s,destRect:l}=$x(a,t.backgroundSize,Dy(n),t.backgroundCorners,t.backgroundPosition);await xx(e,n,s,l,o),t.strokeWidth&&e.stroke(),r([])}else t.strokeWidth&&e.stroke(),r([])}))},Tx=async(e,t,n)=>{const r=t.width&&t.height?Oy(t):Yv(t.text,t),i={x:t.x,y:t.y,width:r.width,height:r.height};if(Cx(e,{...t,...i,options:n}),!t.text.length)return[];const{textOutlineWidth:o=0,textShadowX:a=0,textShadowY:s=0,textShadowBlur:l=0,textShadowColor:c,outline:u,blur:d,...h}=t,p=!!t.height;if(p&&(e.rect(i.x,i.y,i.width,i.height),e.save(),e.clip()),a||s||l){e.save(),e.translate(a,s);const r={...i};p||(r.height+=Vv+l),await Px(e,r,t,{...n,paddingLeft:Vv+l,paddingRight:Vv+l,paddingTop:l,paddingBottom:l+(p?-1*s:t.fontSize),shapeExtendedProps:{color:c,blur:l}}),e.restore()}if(o){const r={...i};p||(r.height+=Vv+o),await Px(e,r,t,{...n,paddingLeft:Vv+o,paddingRight:Vv+o,paddingTop:o,paddingBottom:o+p?0:t.fontSize,shapeExtendedProps:{color:t.textOutlineColor,outline:o}})}return p&&e.restore(),await Px(e,i,h,{...n,paddingLeft:Vv,paddingRight:Vv,paddingTop:0,paddingBottom:p?0:t.fontSize}),[]};const Px=async(e,t,n,r)=>{const{willRequest:i,shapeExtendedProps:o,paddingLeft:a,paddingRight:s,paddingTop:l,paddingBottom:c,styleNonce:u}=r,d=await lw(n.text,{...n,...o,...t,paddingLeft:a,paddingRight:s,paddingTop:l,paddingBottom:c,imageWidth:t.width,imageHeight:t.height,willRequest:i,styleNonce:u});e.drawImage(d,n.x-a,n.y-l,d.width,d.height)};var Rx=async(e,t)=>new Promise((async n=>{e.lineWidth=t.strokeWidth||1,e.strokeStyle=t.strokeColor?zv(t.strokeColor):"none",e.globalAlpha=t.opacity,t.bitmap&&(e.lineCap=t.strokeCap,e.lineJoin=t.strokeJoin,e.setLineDash(t.strokeDash||[]));let r=fw(t),i=gw(t);e.moveTo(r.x,r.y),e.lineTo(i.x,i.y),t.strokeWidth&&e.stroke(),n([])})),Mx=async(e,t)=>new Promise(((n,r)=>{if(t.bitmap&&1===t.points.length)return void Ex(e,{x:t.points[0].x,y:t.points[0].y,rx:.5*t.strokeWidth,ry:.5*t.strokeWidth,backgroundColor:t.strokeColor}).then((()=>n([])));e.lineWidth=t.strokeWidth||1,e.strokeStyle=t.strokeColor?zv(t.strokeColor):"none",e.fillStyle=t.backgroundColor?zv(t.backgroundColor):"none",e.globalAlpha=t.opacity;const{points:i}=t;t.bitmap&&(e.lineCap=t.strokeCap,e.lineJoin=t.strokeJoin,e.setLineDash(t.strokeDash||[])),t.pathClose&&e.beginPath(),e.moveTo(i[0].x,i[0].y);const o=i.length;for(let t=1;t<o;t++)e.lineTo(i[t].x,i[t].y);t.pathClose&&e.closePath(),t.strokeWidth&&e.stroke(),t.backgroundColor&&e.fill(),n([])})),Ix=(e,t,n,r)=>t||n?(e.translate(r.x,r.y),e.scale(t?-1:1,n?-1:1),e.translate(-r.x,-r.y),e):e;const Lx=async(e,t,n)=>{e.globalCompositeOperation="subtract"===t.drawMode?"destination-out":"source-over";const r=mx(t);let i;if(mv(e,t.rotation,r),Ix(e,t.flipX,t.flipY,r),vw(t)?i=Cx:ww(t)?i=Ex:xw(t)?i=Rx:$w(t)?i=Mx:mw(t)&&(i=Tx),i){const r=await i(e,t,n);return r.length?[t,...await Bx(e,r,n)]:[]}return[]};var Bx=async(e,t,n)=>{let r=[];for(const i of t)e.save(),e.beginPath(),r=[...r,...await Lx(e,i,n)],e.restore();return r},Ox=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{shapes:n=[],contextBounds:r=e,transform:i=om,drawImage:o,willRequest:a,styleNonce:s,canvasMemoryLimit:l,computeShape:c=Qm,preprocessShape:u=Qm}=t;if(!n.length)return e;const d=fm("canvas");d.width=r.width,d.height=r.height;const h=d.getContext("2d",{willReadFrequently:!0});h.putImageData(e,r.x||0,r.y||0);const p=n.map(cw).map(c).map(u).flat().filter(Boolean);i(h),await Bx(h,p,{drawImage:o,canvasMemoryLimit:l,willRequest:a,styleNonce:s});const f=h.getImageData(0,0,d.width,d.height);return mm(d),f},Fx=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{backgroundColor:n,backgroundImage:r}=t,i=!(!n||n&&0===n[3]);if(!r&&!i)return e;const o=fm("canvas");o.width=e.width,o.height=e.height;const a=o.getContext("2d",{willReadFrequently:!0});if(a.putImageData(e,0,0),a.globalCompositeOperation="destination-over",i&&(a.fillStyle=zv(n),a.fillRect(0,0,o.width,o.height)),r){let t;t=yx(r)?r:await vx(r);const{srcRect:n,destRect:i}=$x({x:0,y:0,width:e.width,height:e.height},"cover",{width:t.width,height:t.height});a.drawImage(t,n.x,n.y,n.width,n.height,i.x,i.y,i.width,i.height)}const s=a.getImageData(0,0,o.width,o.height);return mm(o),s},Nx=e=>e.length?e.reduce(((e,t)=>((e,t)=>{const n=new Array(20);return n[0]=e[0]*t[0]+e[1]*t[5]+e[2]*t[10]+e[3]*t[15],n[1]=e[0]*t[1]+e[1]*t[6]+e[2]*t[11]+e[3]*t[16],n[2]=e[0]*t[2]+e[1]*t[7]+e[2]*t[12]+e[3]*t[17],n[3]=e[0]*t[3]+e[1]*t[8]+e[2]*t[13]+e[3]*t[18],n[4]=e[0]*t[4]+e[1]*t[9]+e[2]*t[14]+e[3]*t[19]+e[4],n[5]=e[5]*t[0]+e[6]*t[5]+e[7]*t[10]+e[8]*t[15],n[6]=e[5]*t[1]+e[6]*t[6]+e[7]*t[11]+e[8]*t[16],n[7]=e[5]*t[2]+e[6]*t[7]+e[7]*t[12]+e[8]*t[17],n[8]=e[5]*t[3]+e[6]*t[8]+e[7]*t[13]+e[8]*t[18],n[9]=e[5]*t[4]+e[6]*t[9]+e[7]*t[14]+e[8]*t[19]+e[9],n[10]=e[10]*t[0]+e[11]*t[5]+e[12]*t[10]+e[13]*t[15],n[11]=e[10]*t[1]+e[11]*t[6]+e[12]*t[11]+e[13]*t[16],n[12]=e[10]*t[2]+e[11]*t[7]+e[12]*t[12]+e[13]*t[17],n[13]=e[10]*t[3]+e[11]*t[8]+e[12]*t[13]+e[13]*t[18],n[14]=e[10]*t[4]+e[11]*t[9]+e[12]*t[14]+e[13]*t[19]+e[14],n[15]=e[15]*t[0]+e[16]*t[5]+e[17]*t[10]+e[18]*t[15],n[16]=e[15]*t[1]+e[16]*t[6]+e[17]*t[11]+e[18]*t[16],n[17]=e[15]*t[2]+e[16]*t[7]+e[17]*t[12]+e[18]*t[17],n[18]=e[15]*t[3]+e[16]*t[8]+e[17]*t[13]+e[18]*t[18],n[19]=e[15]*t[4]+e[16]*t[9]+e[17]*t[14]+e[18]*t[19]+e[19],n})([...e],t)),e.shift()):[],Dx=(e,t)=>{const n=e.width*e.height,r=t.reduce(((e,t)=>(t.width>e.width&&t.height>e.height&&(e.width=t.width,e.height=t.height),e)),{width:0,height:0}),i=r.width*r.height;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Math.round(e*t)/t}(Math.max(.5,.5+(1-i/n)/2),5)};function zx(){}const _x=e=>e;function Ux(e,t){for(const n in t)e[n]=t[n];return e}function jx(e){return e()}function Hx(){return Object.create(null)}function Wx(e){e.forEach(jx)}function Vx(e){return"function"==typeof e}function Gx(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function Qx(e){if(null==e)return zx;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=e.subscribe(...n);return i.unsubscribe?()=>i.unsubscribe():i}function qx(e){let t;return Qx(e,(e=>t=e))(),t}function Kx(e,t,n){e.$$.on_destroy.push(Qx(t,n))}function Zx(e,t,n,r){if(e){const i=Xx(e,t,n,r);return e[0](i)}}function Xx(e,t,n,r){return e[1]&&r?Ux(n.ctx.slice(),e[1](r(t))):n.ctx}function Jx(e,t,n,r){if(e[2]&&r){const i=e[2](r(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|i[r];return e}return t.dirty|i}return t.dirty}function Yx(e,t,n,r,i,o){if(i){const a=Xx(t,n,r,o);e.p(a,i)}}function e$(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function t$(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function n$(e,t){const n={};t=new Set(t);for(const r in e)t.has(r)||"$"===r[0]||(n[r]=e[r]);return n}function r$(e,t,n){return e.set(n),t}function i$(e){return e&&Vx(e.destroy)?e.destroy:zx}const o$="undefined"!=typeof window;let a$=o$?()=>window.performance.now():()=>Date.now(),s$=o$?e=>requestAnimationFrame(e):zx;const l$=new Set;function c$(e){l$.forEach((t=>{t.c(e)||(l$.delete(t),t.f())})),0!==l$.size&&s$(c$)}function u$(e){let t;return 0===l$.size&&s$(c$),{promise:new Promise((n=>{l$.add(t={c:e,f:n})})),abort(){l$.delete(t)}}}function d$(e,t){e.appendChild(t)}function h$(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function p$(e){const t=m$("style");return function(e,t){d$(e.head||e,t),t.sheet}(h$(e),t),t.sheet}function f$(e,t,n){e.insertBefore(t,n||null)}function g$(e){e.parentNode.removeChild(e)}function m$(e){return document.createElement(e)}function y$(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function b$(e){return document.createTextNode(e)}function v$(){return b$(" ")}function w$(){return b$("")}function x$(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function $$(e){return function(t){return t.preventDefault(),e.call(this,t)}}function S$(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function k$(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function A$(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const r in t)null==t[r]?e.removeAttribute(r):"style"===r?e.style.cssText=t[r]:"__value"===r?e.value=e[r]=t[r]:n[r]&&n[r].set?e[r]=t[r]:k$(e,r,t[r])}function C$(e,t){Object.keys(t).forEach((n=>{!function(e,t,n){t in e?e[t]="boolean"==typeof e[t]&&""===n||n:k$(e,t,n)}(e,n,t[n])}))}function E$(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function T$(e,t){e.value=null==t?"":t}function P$(e,t){let{bubbles:n=!1,cancelable:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,r,t),i}class R${constructor(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.e||(this.is_svg?this.e=y$(t.nodeName):this.e=m$(t.nodeName),this.t=t,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)f$(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(g$)}}function M$(e,t){return new e(t)}const I$=new Map;let L$,B$=0;function O$(e,t,n,r,i,o,a){let s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;const l=16.666/r;let c="{\n";for(let m=0;m<=1;m+=l){const e=t+(n-t)*o(m);c+=100*m+"%{".concat(a(e,1-e),"}\n")}const u=c+"100% {".concat(a(n,1-n),"}\n}"),d="__svelte_".concat(function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u),"_").concat(s),h=h$(e),{stylesheet:p,rules:f}=I$.get(h)||function(e,t){const n={stylesheet:p$(t),rules:{}};return I$.set(e,n),n}(h,e);f[d]||(f[d]=!0,p.insertRule("@keyframes ".concat(d," ").concat(u),p.cssRules.length));const g=e.style.animation||"";return e.style.animation="".concat(g?g+", ":"").concat(d," ").concat(r,"ms linear ").concat(i,"ms 1 both"),B$+=1,d}function F$(e){L$=e}function N$(){if(!L$)throw new Error("Function called outside component initialization");return L$}function D$(e){N$().$$.on_mount.push(e)}function z$(e){N$().$$.after_update.push(e)}function _$(e){N$().$$.on_destroy.push(e)}function U$(){const e=N$();return function(t,n){let{cancelable:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.$$.callbacks[t];if(i){const o=P$(t,n,{cancelable:r});return i.slice().forEach((t=>{t.call(e,o)})),!o.defaultPrevented}return!0}}function j$(e,t){return N$().$$.context.set(e,t),t}function H$(e){return N$().$$.context.get(e)}function W$(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const V$=[],G$=[],Q$=[],q$=[],K$=Promise.resolve();let Z$=!1;function X$(){Z$||(Z$=!0,K$.then(iS))}function J$(){return X$(),K$}function Y$(e){Q$.push(e)}function eS(e){q$.push(e)}const tS=new Set;let nS,rS=0;function iS(){const e=L$;do{for(;rS<V$.length;){const e=V$[rS];rS++,F$(e),oS(e.$$)}for(F$(null),V$.length=0,rS=0;G$.length;)G$.pop()();for(let e=0;e<Q$.length;e+=1){const t=Q$[e];tS.has(t)||(tS.add(t),t())}Q$.length=0}while(V$.length);for(;q$.length;)q$.pop()();Z$=!1,tS.clear(),F$(e)}function oS(e){if(null!==e.fragment){e.update(),Wx(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Y$)}}function aS(e,t,n){e.dispatchEvent(P$("".concat(t?"intro":"outro").concat(n)))}const sS=new Set;let lS;function cS(){lS={r:0,c:[],p:lS}}function uS(){lS.r||Wx(lS.c),lS=lS.p}function dS(e,t){e&&e.i&&(sS.delete(e),e.i(t))}function hS(e,t,n,r){if(e&&e.o){if(sS.has(e))return;sS.add(e),lS.c.push((()=>{sS.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}else r&&r()}const pS={duration:0};function fS(e,t,n,r){let i=t(e,n),o=r?0:1,a=null,s=null,l=null;function c(){l&&function(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-r.length;i&&(e.style.animation=r.join(", "),B$-=i,B$||s$((()=>{B$||(I$.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&g$(t)})),I$.clear())})))}(e,l)}function u(e,t){const n=e.b-o;return t*=Math.abs(n),{a:o,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function d(t){const{delay:n=0,duration:r=300,easing:d=_x,tick:h=zx,css:p}=i||pS,f={start:a$()+n,b:t};t||(f.group=lS,lS.r+=1),a||s?s=f:(p&&(c(),l=O$(e,o,t,r,n,d,p)),t&&h(0,1),a=u(f,r),Y$((()=>aS(e,t,"start"))),u$((t=>{if(s&&t>s.start&&(a=u(s,r),s=null,aS(e,a.b,"start"),p&&(c(),l=O$(e,o,a.b,a.duration,0,d,i.css))),a)if(t>=a.end)h(o=a.b,1-o),aS(e,a.b,"end"),s||(a.b?c():--a.group.r||Wx(a.group.c)),a=null;else if(t>=a.start){const e=t-a.start;o=a.a+a.d*d(e/a.duration),h(o,1-o)}return!(!a&&!s)})))}return{run(e){Vx(i)?(nS||(nS=Promise.resolve(),nS.then((()=>{nS=null}))),nS).then((()=>{i=i(),d(e)})):d(e)},end(){c(),a=s=null}}}const gS="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function mS(e,t){e.d(1),t.delete(e.key)}function yS(e,t){hS(e,1,1,(()=>{t.delete(e.key)}))}function bS(e,t,n,r,i,o,a,s,l,c,u,d){let h=e.length,p=o.length,f=h;const g={};for(;f--;)g[e[f].key]=f;const m=[],y=new Map,b=new Map;for(f=p;f--;){const e=d(i,o,f),s=n(e);let l=a.get(s);l?r&&l.p(e,t):(l=c(s,e),l.c()),y.set(s,m[f]=l),s in g&&b.set(s,Math.abs(f-g[s]))}const v=new Set,w=new Set;function x(e){dS(e,1),e.m(s,u),a.set(e.key,e),u=e.first,p--}for(;h&&p;){const t=m[p-1],n=e[h-1],r=t.key,i=n.key;t===n?(u=t.first,h--,p--):y.has(i)?!a.has(r)||v.has(r)?x(t):w.has(i)?h--:b.get(r)>b.get(i)?(w.add(r),x(t)):(v.add(i),h--):(l(n,a),h--)}for(;h--;){const t=e[h];y.has(t.key)||l(t,a)}for(;p;)x(m[p-1]);return m}function vS(e,t){const n={},r={},i={$$scope:1};let o=e.length;for(;o--;){const a=e[o],s=t[o];if(s){for(const e in a)e in s||(r[e]=1);for(const e in s)i[e]||(n[e]=s[e],i[e]=1);e[o]=s}else for(const e in a)i[e]=1}for(const a in r)a in n||(n[a]=void 0);return n}function wS(e){return"object"==typeof e&&null!==e?e:{}}function xS(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function $S(e){e&&e.c()}function SS(e,t,n,r){const{fragment:i,after_update:o}=e.$$;i&&i.m(t,n),r||Y$((()=>{const t=e.$$.on_mount.map(jx).filter(Vx);e.$$.on_destroy?e.$$.on_destroy.push(...t):Wx(t),e.$$.on_mount=[]})),o.forEach(Y$)}function kS(e,t){const n=e.$$;null!==n.fragment&&(Wx(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function AS(e,t,n,r,i,o,a){let s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[-1];const l=L$;F$(e);const c=e.$$={fragment:null,ctx:[],props:o,update:zx,not_equal:i,bound:Hx(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:Hx(),dirty:s,skip_bound:!1,root:t.target||l.$$.root};a&&a(c.root);let u=!1;if(c.ctx=n?n(e,t.props||{},(function(t,n){const r=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return c.ctx&&i(c.ctx[t],c.ctx[t]=r)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](r),u&&function(e,t){-1===e.$$.dirty[0]&&(V$.push(e),X$(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],c.update(),u=!0,Wx(c.before_update),c.fragment=!!r&&r(c.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);c.fragment&&c.fragment.l(e),e.forEach(g$)}else c.fragment&&c.fragment.c();t.intro&&dS(e.$$.fragment),SS(e,t.target,t.anchor,t.customElement),iS()}F$(l)}class CS{$destroy(){kS(this,1),this.$destroy=zx}$on(e,t){if(!Vx(t))return zx;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ES=[];function TS(e,t){return{subscribe:PS(e,t).subscribe}}function PS(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zx;const r=new Set;function i(n){if(Gx(e,n)&&(e=n,t)){const t=!ES.length;for(const n of r)n[1](),ES.push(n,e);if(t){for(let e=0;e<ES.length;e+=2)ES[e][0](ES[e+1]);ES.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(o){const a=[o,arguments.length>1&&void 0!==arguments[1]?arguments[1]:zx];return r.add(a),1===r.size&&(t=n(i)||zx),o(e),()=>{r.delete(a),0===r.size&&(t(),t=null)}}}}function RS(e,t,n){const r=!Array.isArray(e),i=r?[e]:e,o=t.length<2;return TS(n,(e=>{let n=!1;const a=[];let s=0,l=zx;const c=()=>{if(s)return;l();const n=t(r?a[0]:a,e);o?e(n):l=Vx(n)?n:zx},u=i.map(((e,t)=>Qx(e,(e=>{a[t]=e,s&=~(1<<t),n&&c()}),(()=>{s|=1<<t}))));return n=!0,c(),function(){Wx(u),l()}}))}var MS=e=>e.reduce(((e,t)=>Object.assign(e,t)),{});const IS=e=>({updateValue:e}),LS=e=>({defaultValue:e}),BS=e=>({store:e}),OS=e=>({store:(t,n)=>RS(...e(n))}),FS=e=>({store:(t,n)=>{const[r,i,o=(()=>!1)]=e(n);let a,s=!0;return RS(r,((e,t)=>{i(e,(e=>{!s&&o(a,e)||(a=e,s=!1,t(e))}))}))}}),NS=e=>({store:(t,n)=>{const[r,i={},o]=e(n);let a=[];const s={},l=e=>r(e,s),c=e=>{(a.length||e.length)&&(a=e,u())},u=()=>{const e=a.map(l);o&&e.sort(o),a=[...e],h(e)};Object.entries(i).map((e=>{let[t,n]=e;return n.subscribe((e=>{s[t]=e,e&&u()}))}));const{subscribe:d,set:h}=PS(t||[]);return{set:c,update:e=>c(e(a)),subscribe:d}}});var DS=e=>{const t={},n={};return e.forEach((e=>{let[r,...i]=e;const o=MS(i),a=t[r]=((e,t,n)=>{const{store:r=(e=>PS(e)),defaultValue:i=om,updateValue:o}=n,a=r(i(),t,e),{subscribe:s,update:l=om}=a;let c;const u=e=>{let t=!0;c&&c(),c=s((n=>{if(t)return t=!1;e(n),c(),c=void 0}))},d=o?o(e):Qm;return a.set=e=>l((t=>d(e,t,u))),a.defaultValue=i,a})(n,t,o),s={get:()=>qx(a),set:a.set};Object.defineProperty(n,r,s)})),{stores:t,accessors:n}},zS=[["src",BS((()=>{let e;const{subscribe:t,set:n}=PS(),r=t=>{e!==t&&(e=t,n(e))};return{set:r,subscribe:t,update:t=>r(t(e))}}))],["imageReader"],["imageWriter"],["imageScrambler"],["imageRedactionRendering",LS((()=>"pixelated"))],["images",LS((()=>[]))],["shapePreprocessor"],["willRequestResource"],["willRequest"],["csp"]],_S=e=>e.charAt(0).toUpperCase()+e.slice(1),US=(e,t)=>{Object.keys(t).forEach((n=>{const r=Tm(t[n])?{value:t[n],writable:!1}:t[n];Object.defineProperty(e,n,r)}))};const jS=(e,t)=>{let n,r,i,o,a,s,l,c,u,d;const h=t.length;for(n=0;n<h;n++)if(r=t[n],i=t[n+1>h-1?0:n+1],o=r.x-e.x,a=r.y-e.y,s=i.x-e.x,l=i.y-e.y,c=o-s,u=a-l,d=c*a-u*o,d<-1e-5)return!1;return!0};var HS=(e,t)=>{const n=Mb(t),r=dy();$b(e).forEach((e=>{$y(e,r),jS(e,t)||n.forEach((t=>{const n=Math.atan2(t.start.y-t.end.y,t.start.x-t.end.x),i=1e4*Math.sin(Math.PI-n),o=1e4*Math.cos(Math.PI-n),a=hy(e.x+i,e.y+o),s=qy(Qy(t),1e4),l=Eb(Gy(e,a),s);l&&$y(r,Sy(fy(l),e))}))}));const i=Xy(e);return $y(i,r),!!$b(i).every((e=>jS(e,t)))&&(gb(e,i),!0)},WS=(e,t)=>{const n=$b(e),r=Ib(t,5),i=ab(e),o=[];n.forEach((e=>{const t=((e,t)=>{const n=hy(e.start.x-e.end.x,e.start.y-e.end.y),r=by(n),i=Ay(r,t);return e.end.x+=i.x,e.end.y+=i.y,e})(Gy(fy(i),fy(e)),1e6);let n=!1;r.map(Qy).forEach((e=>{const r=Eb(t,e);r&&!n&&(o.push(r),n=!0)}))}));const a=Py(o[0],o[2])<Py(o[1],o[3])?[o[0],o[2]]:[o[1],o[3]],s=nb(a);return s.width<e.width&&(gb(e,s),!0)},VS=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0};const r=Yy(e),i=ab(r),o=kb(r,n,i).map((e=>my(e,t,i))),a=nb(o);return o.map((e=>Sy(e,a)))},GS=function(e){let t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pb(e);if(0!==r){const o=Math.atan2(1,i),a=Math.sign(r)*r,s=a%Math.PI,l=a%Km;let c;c=s>Zm&&s<Km+Zm?l>Zm?a:Km-l:l>Zm?Km-l:a;const u=Math.min(Math.abs(e.height/Math.sin(o+c)),Math.abs(e.width/Math.cos(o-c)));t=Math.cos(o)*u,n=t/i}else t=e.width,n=t/i,n>e.height&&(n=e.height,t=n*i);return zy(t,n)},QS=(e,t,n)=>{const r=Yy(e),i=ab(r),o=mb(r,n,i),a=ab(Ab(nb(o))),s=ab(t),l=my(s,-n,a),c=Sy(l,a),u=xy($y(i,c),ly);return ob(u.x-.5*t.width,u.y-.5*t.height,t.width,t.height)},qS=(e,t,n)=>Math.max(t,Math.min(e,n));const KS=["cropLimitToImage","cropMinSize","cropMaxSize","cropAspectRatio","flipX","flipY","rotation","crop","colorMatrix","convolutionMatrix","gamma","vignette","manipulation","redaction","annotation","decoration","selection","frame","backgroundColor","backgroundImage","targetSize","metadata","trim","volume","minDuration","maxDuration","currentTime"],ZS=e=>Mv(e)?e.map(ZS):av(e)||_b(e)?e:km(e)?{...e}:e,XS=e=>e.map((e=>Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return n.startsWith("_")||(e[n]=r),e}),{}))),JS=(e,t)=>e===t;var YS=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:JS;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0};const ek=(e,t,n)=>{const r=xy(ab(e),(e=>ly(e,8))),i=Yy(t),o=ab(i),a=mb(i,n,o),s=xy(jy(nb(a)),(e=>ly(e,8))),l=Math.abs(s.x-r.x),c=Math.abs(s.y-r.y);return l<1&&c<1},tk=(e,t)=>{const{context:n,props:r}=t;return e._isFormatted||((e=Jw(e))._isFormatted=!0,Object.assign(e,r)),e._isDraft||!Rw(e)||e._context&&hb(n,e._context)||(fx(e,n),e._context={...n}),e},nk=(e,t)=>(e._isFormatted||(e.disableMove=!0,e.disableSelect=!0,e.disableResize=!0,e.disableRotate=!0),tk(e,t));var rk=[["file"],["size"],["loadState"],["processState"],["aspectRatio",OS((e=>{let{size:t}=e;return[t,e=>e?pb(e):void 0]}))],["perspectiveX",LS((()=>0))],["perspectiveY",LS((()=>0))],["perspective",OS((e=>{let{perspectiveX:t,perspectiveY:n}=e;return[[t,n],e=>{let[t,n]=e;return{x:t,y:n}}]}))],["rotation",LS((()=>0)),IS((e=>(t,n,r)=>{if(t===n)return t;const{loadState:i,size:o,rotationRange:a,cropMinSize:s,cropMaxSize:l,crop:c,perspective:u,cropLimitToImage:d,cropOrigin:h}=e;if(!c||!i||!i.beforeComplete)return t;const p=d&&((e,t,n)=>{const r=GS(t,n,pb(e));return _y(Vy(r,Math.round),Vy(By(e),Math.round))})(c,o,n),f=d&&ek(c,o,n),g=((e,t,n,r,i,o,a,s,l,c)=>{const u=By(l),d=By(c);a&&(d.width=Math.min(c.width,i.width),d.height=Math.min(c.height,i.height));let h=!1;const p=(t,n)=>{const l=QS(i,r,t),c=Yy(i),f=ab(c),g=kb(c,o,f),m=Sy(fy(f),Cb(g)),y=my(ab(l),n,f),b=Sy(fy(f),y);g.forEach((e=>my(e,n,f)));const v=nb(g),w=Cb(g),x=$y(Sy(Sy(w,b),v),m),$=ob(x.x-.5*l.width,x.y-.5*l.height,l.width,l.height);if(s&&lb($,s.width/$.width),a){const e=VS(i,n,o);WS($,e)}const S=ly(Math.min($.width/u.width,$.height/u.height),8),k=ly(Math.max($.width/d.width,$.height/d.height),8);return(S<1||k>1)&&ly(Math.abs(n-t))===ly(Math.PI/2)&&!h?(h=!0,p(e,e+Math.sign(n-t)*Math.PI)):{rotation:n,crop:Sb($,(e=>ly(e,8)))}},f=Math.sign(t)*Math.round(Math.abs(t)/Km)*Km,g=qS(t,f+n[0],f+n[1]);return p(e,g)})(n,t,a,c,o,u,d,h,s,l);if(p&&f){const e=GS(o,t,pb(g.crop));g.crop.x+=.5*g.crop.width,g.crop.y+=.5*g.crop.height,g.crop.x-=.5*e.width,g.crop.y-=.5*e.height,g.crop.width=e.width,g.crop.height=e.height}return r((()=>{e.crop=Sb(g.crop,(e=>ly(e,8)))})),g.rotation}))],["flipX",LS((()=>!1))],["flipY",LS((()=>!1))],["flip",OS((e=>{let{flipX:t,flipY:n}=e;return[[t,n],e=>{let[t,n]=e;return{x:t,y:n}}]}))],["isRotatedSideways",FS((e=>{let{rotation:t}=e;return[[t],(e,t)=>{let[n]=e;return t(Xm(n))},(e,t)=>e!==t]}))],["crop",IS((e=>function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;const{loadState:r,size:i,cropMinSize:o,cropMaxSize:a,cropLimitToImage:s,cropAspectRatio:l,rotation:c,perspective:u}=e;if(!t&&!n||!r||!r.beforeComplete)return t;t||(t=Yy(GS(i,c,l||pb(i))));const d=((e,t,n,r,i,o,a,s)=>{const l=By(a),c=By(s),u=ly(Math.max(t.width/c.width,t.height/c.height)),d=ly(Math.min(t.width/l.width,t.height/l.height)),h=Xy(t);if(d<1||u>1){const n=ab(e),r=ab(t),i=d<1?d:u,o=(r.x+n.x)/2,a=(r.y+n.y)/2,s=h.width/i,l=h.height/i;fb(h,o-.5*s,a-.5*l,s,l)}return o?(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:dy(),i=arguments.length>4?arguments[4]:void 0;if(Tv(n)&&0!==n||r.x||r.y){const i=pb(e),o=VS(t,n,r),a=GS(t,n,i);if(!(e.width<a.width&&e.height<a.height)){const t=.5*e.width-.5*a.width,n=.5*e.height-.5*a.height;e.width>a.width&&(e.width=a.width,e.x+=t),e.height>a.height&&(e.height=a.height,e.y+=n)}HS(e,o),WS(e,o)&&HS(e,o)}else{const n=pb(e);e.width=Math.min(e.width,t.width),e.height=Math.min(e.height,t.height),e.x=Math.max(e.x,0),e.x+e.width>t.width&&(e.x-=e.x+e.width-t.width),e.y=Math.max(e.y,0),e.y+e.height>t.height&&(e.y-=e.y+e.height-t.height);const r=ab(e),o=wb(e,n);o.width=Math.max(i.width,o.width),o.height=Math.max(i.height,o.height),o.x=r.x-.5*o.width,o.y=r.y-.5*o.height,gb(e,o)}}(h,n,r,i,l),{crop:h}):{crop:h}})(n,t,i,c,u,s,o,a),h=Sb(d.crop,(e=>ly(e,8)));return hb(n,h)?n:h}))],["cropAspectRatio",IS((e=>(t,n)=>{const{loadState:r,crop:i,size:o,rotation:a,cropLimitToImage:s}=e,l=(e=>{if(e){if(/:/.test(e)){const[t,n]=e.split(":");return t/n}return parseFloat(e)}})(t);if(!l)return;if(!i||!r||!r.beforeComplete)return l;const c=n?Math.abs(t-n):1;if(ek(i,o,a)&&s&&c>=.1){const n=((e,t)=>{const n=e.width,r=e.height;return Xm(t)&&(e.width=r,e.height=n),e})(By(o),a);e.crop=Sb(wb(Yy(n),t),ly)}else{const t={width:i.height*l,height:i.height},n=.5*(i.width-t.width),r=.5*(i.height-t.height);e.crop=Sb(ob(i.x+n,i.y+r,t.width,t.height),ly)}return l}))],["cropOrigin"],["cropMinSize",LS((()=>({width:1,height:1})))],["cropMaxSize",LS((()=>({width:32768,height:32768})))],["cropLimitToImage",LS((()=>!0)),IS((e=>(t,n,r)=>{const{crop:i}=e;return i?(!n&&t&&r((()=>e.crop=Xy(e.crop))),t):t}))],["cropSize",FS((e=>{let{crop:t}=e;return[[t],(e,t)=>{let[n]=e;n&&t(zy(n.width,n.height))},(e,t)=>_y(e,t)]}))],["cropRectAspectRatio",OS((e=>{let{cropSize:t}=e;return[[t],(e,t)=>{let[n]=e;n&&t(ly(pb(n),5))}]}))],["cropRange",FS((e=>{let{size:t,rotation:n,cropRectAspectRatio:r,cropMinSize:i,cropMaxSize:o,cropLimitToImage:a}=e;return[[t,n,r,i,o,a],(e,t)=>{let[n,r,i,o,a,s]=e;n&&t(((e,t,n,r,i,o)=>{const a=By(r),s=By(i);return o?[a,Vy(GS(e,t,n),Math.round)]:[a,s]})(n,r,i,o,a,s))},(e,t)=>YS(e,t)]}))],["rotationRange",FS((e=>{let{size:t,isRotatedSideways:n,cropMinSize:r,cropSize:i,cropLimitToImage:o}=e;return[[t,n,r,i,o],(e,t)=>{let[n,r,i,o,a]=e;n&&o&&t(((e,t,n,r,i)=>{if(!i)return[-1/0,1/0];const o=Math.max(n.width/r.width,n.height/r.height),a=zy(r.width*o,r.height*o),s=(l=a,Math.sqrt(l.width*l.width+l.height*l.height));var l;if(s<Math.min(e.width,e.height))return[-1/0,1/0];const c=t?e.height:e.width,u=t?e.width:e.height,d=Math.acos(a.height/s),h=d-Math.acos(u/s),p=Math.asin(c/s)-d;if(Number.isNaN(h)&&Number.isNaN(p))return[-1/0,1/0];const f=Number.isNaN(h)?p:Number.isNaN(p)?h:Math.min(h,p);return[-f,f]})(n,r,i,o,a))},(e,t)=>YS(e,t)]}))],["backgroundColor",IS((()=>e=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return 4===e.length?e:[...e,t]}(e)))],["backgroundImage"],["targetSize"],["colorMatrix"],["convolutionMatrix"],["gamma"],["noise"],["vignette"],["duration"],["currentTime"],["minDuration",LS((()=>1/24))],["maxDuration",LS((()=>1/0))],["volume",LS((()=>1))],["trim"],["redaction",NS((e=>{let{size:t}=e;return[tk,{context:t}]}))],["manipulation",NS((e=>{let{size:t}=e;return[tk,{context:t}]}))],["annotation",NS((e=>{let{size:t}=e;return[tk,{context:t}]}))],["decoration",NS((e=>{let{crop:t}=e;return[tk,{context:t}]}))],["selection",NS((e=>{let{size:t}=e;return[nk,{context:t}]}))],["frame",IS((()=>e=>{if(!e)return;const t={frameStyle:void 0,x:0,y:0,width:"100%",height:"100%",disableStyle:["backgroundColor","strokeColor","strokeWidth"]};return Em(e)?t.frameStyle=e:Object.assign(t,e),t}))],["metadata"],["state",BS(((e,t,n)=>{const r=KS.map((e=>t[e]));let i=!1;const o=PS({}),{subscribe:a}=RS([...r,o],((e,t)=>{if(i)return;const n=KS.reduce(((t,n,r)=>(t[n]=ZS(e[r]),t)),{});n.crop&&Sb(n.crop,Math.round),n.manipulation=n.manipulation&&XS(n.manipulation),n.redaction=n.redaction&&XS(n.redaction),n.annotation=n.annotation&&XS(n.annotation),n.decoration=n.decoration&&XS(n.decoration),n.selection=n.selection&&XS(n.selection),t(n)})),s=e=>{e&&(i=!0,n.cropOrigin=void 0,KS.filter((t=>Rv(e,t))).forEach((t=>{const r=e[t];n[t]=null===r?void 0:ZS(r)})),i=!1,o.set({}))};return{set:s,update:e=>s(e(null)),subscribe:a}}))]],ik=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;const{ontaskstart:i,ontaskprogress:o,ontaskend:a,token:s}=r;let l=!1;const c={cancel:om};s.cancel=()=>{l=!0,c.cancel()};for(const[u,d]of t.entries()){if(l)return;const[t,r]=d;i(u,r);try{e=await t(e,{...n,taskCancelToken:c},(e=>o(u,r,e)))}catch(e){throw l=!0,e}a(u,r)}return e};const ok=["loadstart","loadabort","loaderror","loadprogress","load","processstart","processabort","processerror","processprogress","process"],ak=["flip","cropOrigin","isRotatedSideways","perspective","perspectiveX","perspectiveY","cropRange"],sk=rk.map((e=>{let[t]=e;return t})).filter((e=>!ak.includes(e))),lk=e=>"image"+_S(e),ck=e=>Rv(e,"crop");var uk=()=>{const{stores:e,accessors:t}=DS(zS),{sub:n,pub:r}=Wv(),i=()=>t.images?t.images[0]:{};let o={};const a={};sk.forEach((e=>{Object.defineProperty(t,lk(e),{get:()=>{const t=i();if(t)return t.accessors[e]},set:t=>{o[lk(e)]=t,a[lk(e)]=t;const n=i();n&&(n.accessors[e]=t)}})}));const s=()=>t.images&&t.images[0],l=e.src.subscribe((e=>{if(!e)return t.images=[];t.imageReader&&(t.images.length&&(o={}),u(e))})),c=e.imageReader.subscribe((e=>{e&&(t.images.length||t.src&&u(t.src))})),u=e=>{Promise.resolve().then((()=>h(e,o))).catch((()=>{}))};let d;const h=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((i,l)=>{let c=s();const u=!(!1===n.cropLimitToImage||!1===n.imageCropLimitToImage||!1===a.imageCropLmitedToImage),h=n.cropMinSize||n.imageCropMinSize||a.imageCropMinSize,p=u?h:c&&c.accessors.cropMinSize,g=n.minDuration||n.imageMinDuration;c&&f(),c=function(){let{minSize:e={width:1,height:1},minDuration:t=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{stores:n,accessors:r}=DS(rk),{pub:i,sub:o}=Wv(),a=(e,t)=>{const n=()=>r[e]||{},o=t=>{r[e]={...n(),...t,timeStamp:Date.now()}},a=()=>n().error,s=e=>{a()||(o({error:e}),i(t+"error",{...n()}))};return{start(){i(t+"start")},onabort(){o({abort:!0}),i(t+"abort",{...n()})},ontaskstart(e,r){a()||(o({index:e,task:r,taskProgress:void 0,taskLengthComputable:void 0}),i(t+"taskstart",{...n()}))},ontaskprogress(e,r,s){a()||(o({index:e,task:r,taskProgress:s.loaded/s.total,taskLengthComputable:s.lengthComputable}),i(t+"taskprogress",{...n()}),i(t+"progress",{...n()}))},ontaskend(e,r){a()||(o({index:e,task:r}),i(t+"taskend",{...n()}))},ontaskerror(e){s(e)},error(e){s(e)},beforeComplete(e){a()||(o({beforeComplete:!0}),i("before"+t,e))},complete(e){a()||(o({complete:!0}),i(t,e))}}};return US(r,{read:function(n,i){let{reader:o}=i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!o)return;Object.assign(r,{file:void 0,size:void 0,loadState:void 0});let l={cancel:om},c=!1;const u=a("loadState","load"),d={token:l,...u},h={src:n,size:void 0,dest:void 0,duration:void 0};return Promise.resolve().then((async()=>{try{if(u.start(),c)return u.onabort();const n=await ik(h,o,s,d);if(c)return u.onabort();const{size:i,duration:a,dest:l}=n||{};if(!i||!i.width||!i.height)throw new iv("Image size missing","IMAGE_SIZE_MISSING",n);if(a>0&&a<t)throw new iv("Video too short","VIDEO_TOO_SHORT",{...n,minDuration:t});if(i.width<e.width||i.height<e.height)throw new iv("Image too small","IMAGE_TOO_SMALL",{...n,minWidth:e.width,minHeight:e.height});Object.assign(r,{file:l,size:i,duration:a}),u.beforeComplete(n),u.complete(n)}catch(e){u.error(e)}finally{l=void 0}})),()=>{c=!0,l&&l.cancel(),u.onabort()}},write:(e,t)=>{if(!r.loadState.complete)return;r.processState=void 0;const n=a("processState","process"),i={src:r.file,imageState:r.state,dest:void 0};if(Tm(e)&&(e=e(r.file,r.state)),!e)return n.start(),void n.complete(i);let o={cancel:om},s=!1;const l=t,c={token:o,...n};return Promise.resolve().then((async()=>{try{if(n.start(),s)return n.onabort();const t=await ik(i,e,l,c);if(s)return n.onabort();n.complete(t)}catch(e){n.error(e)}finally{o=void 0}})),()=>{s=!0,o&&o.cancel()}},on:o}),{accessors:r,stores:n}}({minSize:p,minDuration:g}),ok.map((e=>{return c.accessors.on(e,(t=e,e=>r(t,e)));var t}));const m=()=>{o={},y.forEach((e=>e()))},y=[];y.push(c.accessors.on("loaderror",(e=>{m(),l(e)}))),y.push(c.accessors.on("loadabort",(()=>{m(),l({name:"AbortError"})}))),y.push(c.accessors.on("load",(e=>{d=void 0,m(),i(e)}))),y.push(c.accessors.on("beforeload",(()=>((e,n)=>{if(ck(n))return void(t.imageState=n);if(!n.imageCrop){const t=e.accessors.size,r=n.imageRotation||0,i=Hy(By(t),r),o=Yy(i);o.width=ly(Math.abs(o.width),6),o.height=ly(Math.abs(o.height),6);const a=n.imageCropAspectRatio||(n.imageCropLimitToImage?pb(t):pb(o));let s;n.imageCropLimitToImage?s=wb(o,a):(s=vb(o,a),s.x=(t.width-s.width)/2,s.y=(t.height-s.height)/2),n.imageCrop=s}if(e.accessors.duration&&!n.imageTrim&&n.imageMaxDuration){const{duration:t}=e.accessors;n.imageTrim=[[0,Math.min(n.imageMaxDuration/t,1)]]}const r=["imageCropLimitToImage","imageCrop","imageCropAspectRatio","imageRotation"];r.filter((e=>Rv(n,e))).forEach((e=>{t[e]=n[e],delete n[e]}));const i=Object.keys(n).filter((e=>!r.includes(e))).reduce(((e,t)=>(e[t]=n[t],e)),{});Object.assign(t,i)})(c,n)))),t.images=[c],n.imageReader&&(t.imageReader=n.imageReader),n.imageWriter&&(t.imageWriter=n.imageWriter),d=c.accessors.read(e,{reader:t.imageReader},{willRequest:t.willRequest})}))};let p;const f=()=>{const e=s();e&&(d&&d(),e.accessors.loadState=void 0,t.images=[])};return Object.defineProperty(t,"stores",{get:()=>e}),US(t,{on:n,loadImage:h,abortLoadImage:()=>{d&&d(),t.images=[]},editImage:(e,n)=>new Promise(((r,i)=>{h(e,n).then((()=>{const{images:e}=t,n=e[0],o=()=>{a(),s()},a=n.accessors.on("processerror",(e=>{o(),i(e)})),s=n.accessors.on("process",(e=>{o(),r(e)}))})).catch(i)})),removeImage:f,processImage:(e,n)=>new Promise(((r,i)=>{try{const o=[],a=()=>{p=void 0,o.forEach((e=>e()))};(async()=>{if((e=>Em(e)||Nv(e)||zb(e))(e))try{await h(e,n)}catch(e){i(e)}else e&&(ck(e)?t.imageState=e:Object.assign(t,e));const l=s();if(!l)return i("no image");o.push(l.accessors.on("processerror",(e=>{a(),i(e)}))),o.push(l.accessors.on("processabort",(()=>{a(),i({name:"AbortError"})}))),o.push(l.accessors.on("process",(e=>{a(),r(e)}))),p=l.accessors.write(t.imageWriter,{redactionRenderStyle:t.imageRedactionRendering,shapePreprocessor:t.shapePreprocessor||Qm,imageScrambler:t.imageScrambler,willRequest:t.willRequest,csp:t.csp||{},willRequestResource:t.willRequestResource})})()}catch(e){i(e)}})),abortProcessImage:()=>{const e=s();e&&(p&&p(),e.accessors.processState=void 0)},destroy:()=>{l&&l(),c&&c()}}),t};const dk=(e,t)=>{const{processImage:n}=uk();return n(e,t)};var hk=()=>qb()?hv()?/15_|16_/.test(navigator.userAgent)?14745600:16777216:/15_/.test(navigator.userAgent)?16777216:1/0:1/0,pk=(e,t)=>Object.keys(e).filter((e=>!t.includes(e))).reduce(((t,n)=>(t[n]=e[n],t)),{}),fk=e=>new Promise((t=>{if(e.duration===1/0)return e.ontimeupdate=()=>{e.ontimeupdate=void 0,t(e)},void(e.currentTime=Number.MAX_SAFE_INTEGER);t(e)}));const gk=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=[],r=t+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.byteLength);for(;t<r;){const r=e.getUint32(t);if(r<0)break;const i=e.getUint32(t+4);if(n.push({type:i,size:r,offset:t,bodyOffset:t+8,bodySize:r-8}),r<8)break;t+=r}return n};var mk=e=>new Promise(((t,n)=>{(Om()?(async e=>{const t=await(e=>new Promise((t=>{const n=new FileReader;n.onload=()=>t(n.result),n.readAsArrayBuffer(e)})))(e);return function(e){let{limit:t=1024}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=0;if(n+=4,1718909296!==e.getUint32(n))return 0;n+=4;const r=e.getUint32(n);return 1836069938===r?((e,t,n)=>{let r=!1,i=-1;for(let c=t;c<n;c++)if(r||1953653099!==e.getUint32(c)||(r=!0,c+=4),r&&64==e.getUint8(c)){i=c;break}if(i<0)return 0;const o=e.getUint32(i-28),a=e.getUint32(i-20),s=e.getUint32(i-32),l=e.getUint32(i-16);return 65536===o&&4294901760===a?90:4294901760===s&&4294901760===l?180:4294901760===o&&65536===a?270:0})(e,n,t):1903435808===r?(e=>{const t=gk(e).find((e=>1836019574===e.type));if(!t)return 0;const n=gk(e,t.bodyOffset,t.bodySize);n.filter((e=>1953653099===e.type)).forEach((t=>{n.push(...gk(e,t.bodyOffset,t.bodySize))}));const r=[1836476516,1953196132],i=n.filter((e=>r.includes(e.type)));for(const{type:o,bodyOffset:a}of i){let t=a+4;t+=1836476516===o?32:36,t+=1===e.getUint8(a)?12:0;const n=e.getInt32(t),r=e.getInt32(t+4);if(0===n&&r>0)return 90;if(n<0&&0===r)return 180;if(0===n&&r<0)return 270}return 0})(e):0}(new DataView(t))})(e):Promise.resolve(0)).then((r=>{const i=document.createElement("video");i.onerror=()=>n(i.error),i.playsInline=!0,i.preload="auto",i.onseeked=()=>{i.onseeked=void 0,t(i)},i.onloadeddata=()=>{i.onloadeddata=void 0,i.dataset.rotation=r?""+r:"0",fk(i).then(t),i.currentTime=0},i.src=URL.createObjectURL(e),(e=>{hv()&&(e.load(),e.play().catch((()=>{})),e.pause())})(i)}))})),yk=(e,t)=>new Promise((n=>{if(e.currentTime===t)return n(e);let r=e.onseeked;e.onseeked=()=>{e.onseeked=r,n(e)},e.currentTime=qS(t,0,e.duration)})),bk=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Promise(((n,r)=>{mk(e).then((e=>{yk(e,t).then((e=>{const t=fm("canvas");Zb(e).then((r=>{let{width:i,height:o}=r;t.width=i,t.height=o;const a=t.getContext("2d",{willReadFrequently:!0}),s=()=>{a.drawImage(e,0,0,t.width,t.height);const r=a.getImageData(0,0,t.width,t.height);mm(t),URL.revokeObjectURL(e.src),n(r)};qb()?setTimeout(s,16):s()}))}))}))}))},vk=e=>/video/.test(e.type);const wk=function(){let{imageDataResizer:e,canvasMemoryLimit:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async(n,r,i,o,a)=>{i.width=Math.max(i.width,1),i.height=Math.max(i.height,1),o.width=Math.max(o.width,1),o.height=Math.max(o.height,1);const{dest:s}=await dk(r,{imageReader:Kk(),imageWriter:Xk({format:"canvas",targetSize:{...o,upscale:!0},imageDataResizer:e,canvasMemoryLimit:t}),imageCrop:i}),{feather:l=0}=a||{};if(l>0){const e=fm("canvas");e.width=s.width,e.height=s.height;const t=e.getContext("2d",{willReadFrequently:!0}),n=1/l;let r=0;for(r=0;r<l;r++){const e=r*n;t.strokeStyle="rgba(0,0,0,".concat(e*e,")"),t.strokeRect(r+.5,r+.5,s.width-2*r-1,s.height-2*r-1)}t.fillStyle="#000",t.fillRect(r,r,s.width+.5-2*r,s.height+.5-2*r);const i=s.getContext("2d");i.globalCompositeOperation="destination-in",i.drawImage(e,0,0),mm(e)}n.drawImage(s,o.x,o.y,o.width,o.height),mm(s)}},xk=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t},n=arguments.length>2?arguments[2]:void 0;return async(r,i,o)=>{o(tv(0,!1));let a=!1;const s=await e(...t(r,i,(e=>{a=!0,o(e)})));return n&&n(r,s),a||o(tv(1,!1)),r}},$k=function(){let{willRequest:e,srcProp:t="src",destProp:n="dest"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[xk(lv,((n,r,i)=>[n[t],i,{...r,willRequest:e}]),((e,t)=>e[n]=t)),"any-to-file"]},Sk=function(){let{srcProp:e="dest",destProp:t="dest"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[xk((async e=>{if(/octet-stream/.test(e.type)){console.warn('Pintura: File has unknown mime type "'.concat(e.type,'", make sure your server sets the correct Content-Type header.'));let t="image";const n=await Jb(e);/video/i.test(n.nodeName)&&(t="video");const r={type:t+"/unknown"};return _b(e)?new File([e],e.name,{...r,lastModified:e.lastModified}):new Blob([e],r)}return e}),(t=>[t[e]]),((e,n)=>e[t]=n)),"any-to-file"]},kk=function(){let{srcProp:e="src",destProp:t="size"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[xk(ev,(t=>[t[e]]),((e,n)=>e[t]=n)),"read-image-size"]},Ak=async e=>{const t=await Jb(e);if(Yb(t))return await(e=>new Promise(((t,n)=>{const r=()=>{fk(e).then((()=>{t(e.duration)}))};if(e.readyState>=1)return r();e.onloadedmetadata=r,e.onerror=()=>n(e.error)})))(t)},Ck=function(){let{srcProp:e="src",destProp:t="duration"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[xk(Ak,(t=>[t[e]]),((e,n)=>e[t]=n)),"read-media-duration"]},Ek=function(){let{srcSize:e="size",srcOrientation:t="orientation",destSize:n="size"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[xk(pv,(n=>[n[e],n[t]]),((e,t)=>e[n]=t)),"image-size-match-orientation"]},Tk=function(){let{srcProp:e="src",destProp:t="copy"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[xk(((e,t)=>fv(e)?sm(e,t):void 0),(t=>[t[e],onprogress]),((e,n)=>e[t]=n)),"read-image-head"]},Pk=function(){let{srcProp:e="copy",destProp:t="orientation"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[xk(rm,(t=>[t[e],274]),(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e[t]=n})),"read-exif-orientation-tag"]},Rk=function(){let{srcProp:e="copy"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[xk(rm,(t=>[t[e],274,1])),"clear-exif-orientation-tag"]},Mk=function(){let{srcImageSize:e="size",srcCanvasSize:t="imageData",srcImageState:n="imageState",destImageSize:r="size",destScalar:i="scalar"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[xk(((e,t)=>[Math.min(t.width/e.width,t.height/e.height),Oy(t)]),(r=>[r[e],r[t],r[n]]),((e,t)=>{let[n,o]=t;e[i]=n,e[r]=o})),"calculate-canvas-scalar"]},Ik=function(){let{srcProp:e="src",destProp:t="imageData",canvasMemoryLimit:n,srcImageState:r="imageState"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[xk(((e,t,n)=>vk(e)?bk(e,n.currentTime):Nm(e,t)),(t=>[t[e],n,t[r]]),((e,n)=>e[t]=n)),"blob-to-image-data"]},Lk=function(){let{srcImageData:e="imageData",srcOrientation:t="orientation"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[xk(Sm,(n=>[n[e],n[t]]),((e,t)=>e.imageData=t)),"image-data-match-orientation"]},Bk=function(){let{srcImageData:e="imageData",srcImageState:t="imageState"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[xk(Fx,(n=>[n[e],{backgroundColor:n[t].backgroundColor,backgroundImage:n[t].backgroundImage}]),((e,t)=>e.imageData=t)),"image-data-fill"]},Ok=function(){let{srcImageData:e="imageData",srcImageState:t="imageState",destScalar:n="scalar"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[xk(bv,(r=>{const i=r[n];let{crop:o}=r[t];return o&&1!==i&&(o=lb(Xy(o),i,dy())),[r[e],{crop:o,rotation:r[t].rotation,flipX:r[t].flipX,flipY:r[t].flipY}]}),((e,t)=>e.imageData=t)),"image-data-crop"]},Fk=e=>{let{targetSize:t={width:void 0,height:void 0,fit:void 0,upscale:void 0},imageDataResizer:n,srcProp:r="imageData",srcImageState:i="imageState",destImageScaledSize:o="imageScaledSize"}=e;return[xk(xv,(e=>{const o=Math.min(t.width||Number.MAX_SAFE_INTEGER,e[i].targetSize&&e[i].targetSize.width||Number.MAX_SAFE_INTEGER),a=Math.min(t.height||Number.MAX_SAFE_INTEGER,e[i].targetSize&&e[i].targetSize.height||Number.MAX_SAFE_INTEGER);return[e[r],{width:o,height:a,fit:t.fit||"contain",upscale:(s=e[i],!!(s.targetSize&&s.targetSize.width||s.targetSize&&s.targetSize.height)||t.upscale||!1)},n];var s}),((e,t)=>{_y(e.imageData,t)||(e[o]=Oy(t)),e.imageData=t})),"image-data-resize"]},Nk=function(){let{srcImageData:e="imageData",srcImageState:t="imageState",destImageData:n="imageData"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[xk(Ev,(n=>{const{colorMatrix:r}=n[t],i=r&&Object.keys(r).map((e=>r[e])).filter(Boolean);return[n[e],{colorMatrix:i&&Nx(i),convolutionMatrix:n[t].convolutionMatrix,gamma:n[t].gamma,noise:n[t].noise,vignette:n[t].vignette}]}),((e,t)=>e[n]=t)),"image-data-filter"]},Dk=function(){let{srcImageData:e="imageData",srcImageState:t="imageState",destImageData:n="imageData",destScalar:r="scalar"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[xk((async(e,t,n,r,i,o)=>{if(!t||!r.length)return e;let a;try{const i={dataSizeScalar:Dx(e,r)};n&&n[3]>0&&(i.backgroundColor=[...n]),a=await t(e,i)}catch(e){}const s=fm("canvas");s.width=e.width,s.height=e.height;const l=s.getContext("2d",{willReadFrequently:!0});if(l.putImageData(e,0,0),"auto"===o){const t=Math.sqrt(e.width*e.height);l.filter="blur(".concat(Math.round(t/100),"px)")}const c=new Path2D;r.forEach((e=>{const t=ob(e.x,e.y,e.width,e.height);db(t,i);const n=mb(Xy(t),e.rotation),r=new Path2D;n.forEach(((e,t)=>{if(0===t)return r.moveTo(e.x,e.y);r.lineTo(e.x,e.y)})),c.addPath(r)})),l.clip(c,"nonzero"),l.imageSmoothingEnabled=!1,l.drawImage(a,0,0,s.width,s.height),mm(a);const u=l.getImageData(0,0,s.width,s.height);return mm(s),u}),((n,i)=>{let{imageScrambler:o,redactionRenderStyle:a}=i;return[n[e],o,n[t].backgroundColor,n[t].redaction,n[r],a]}),((e,t)=>e[n]=t)),"image-data-redact"]},zk=function(){let{srcImageData:e="imageData",srcSize:t="size",srcImageState:n="imageState",srcShapes:r="annotation",destImageData:i="imageData",destImageScaledSize:o="imageScaledSize",destScalar:a="scalar",imageDataResizer:s,canvasMemoryLimit:l,shapeFilter:c=Qm,shapeClip:u=!0,destImageContext:d="imageContext"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[xk(Ox,((i,h)=>{let{shapePreprocessor:p,willRequestResource:f,csp:g,willRequest:m}=h;const y=i[n][r].filter(c);if(!y.length)return[i[e]];const b=i[a],{crop:v}=i[n],w=i[t];let x=b;const $=i[o];$&&(x=Math.min($.width/v.width,$.height/v.height));const S={width:w.width/b,height:w.height/b};return[i[e],{shapes:y,computeShape:e=>(e=sx(e,S),e=pk(e,["left","right","top","bottom"]),gx(e,x)),transform:e=>{const r=i[t],{rotation:a=0,flipX:s,flipY:l,cropLimitToImage:c}=i[n],{crop:h=Yy(r)}=i[n];let p=1;p=i[o]?x:b;const f={width:r.width/b*p,height:r.height/b*p},g=Db(f,a),m=g.width,y=g.height,v=.5*f.width-.5*m,w=.5*f.height-.5*y,$=jy(f);e.translate(-v,-w),e.translate(-h.x*p,-h.y*p),e.translate($.x,$.y),e.rotate(a),e.translate(-$.x,-$.y);const S=i[d]||{x:0,y:0};e.translate(S.x,S.y),e.scale(s?-1:1,l?-1:1),e.translate(s?-f.width*b:0,l?-f.height*b:0),c&&u&&(e.rect(0,0,f.width,f.height),e.clip())},drawImage:wk({imageDataResizer:s,canvasMemoryLimit:l}),preprocessShape:e=>p(e,{isPreview:!1,...i[n]}),canvasMemoryLimit:l,willRequest:m||f,styleNonce:g.styleNonce}]}),((e,t)=>e[i]=t)),"image-data-annotate"]},_k=function(){let{srcImageData:e="imageData",srcImageState:t="imageState",destImageData:n="imageData",destImageScaledSize:r="imageScaledSize",imageDataResizer:i,canvasMemoryLimit:o,destScalar:a="scalar",shapeFilter:s=Qm,destImageContext:l="imageContext"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[xk(Ox,((n,c)=>{let{shapePreprocessor:u,willRequestResource:d,willRequest:h,csp:p}=c,f=n[t].decoration.filter(s);if("undefined"!=typeof window&&(e=>{if(e&&e._7mkhbd8)return;const[r]=[[85,110,108,105,99,101,110,115,101,100,32,80,105,110,116,117,114,97,32,105,110,115,116,97,110,99,101,32]].map((e=>e.map((e=>String.fromCharCode(e))).join(""))),{width:i,height:o}=n[t].crop,a=o/15;f=[...f,{x:.5*-a,y:.5*-a,width:1.5*i,height:1.25*o,text:Array(50).fill(r).join(""),fontWeight:900,lineHeight:a,fontSize:a,color:[1,1,1,.05]}]})(window),!f.length)return[n[e]];let g=n[a];const{crop:m}=n[t],y=n[r];if(y){const e=Math.min(y.width/m.width,y.height/m.height);g=e}return[n[e],{shapes:f,drawImage:wk({imageDataResizer:i,canvasMemoryLimit:o}),computeShape:e=>(e=sx(e,m),e=pk(e,["left","right","top","bottom"]),gx(e,g)),preprocessShape:e=>u(e,{isPreview:!1,...n[t]}),canvasMemoryLimit:o,willRequest:h||d,styleNonce:p.styleNonce,transform:e=>{const t=n[l]||{x:0,y:0};e.translate(t.x,t.y)}}]}),((e,t)=>e[n]=t)),"image-data-decorate"]},Uk=function(){let{srcImageData:e="imageData",srcImageState:t="imageState",destImageData:n="imageData",destImageScaledSize:r="imageScaledSize",imageDataResizer:i,canvasMemoryLimit:o,destScalar:a="scalar",destImageContext:s="imageContext"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[xk(((e,t)=>new Promise((n=>{if(!t)return n([e]);Ox(e,t).then((e=>{n([e,t.contextBounds])}))}))),((n,s)=>{let{shapePreprocessor:l,willRequestResource:c,willRequest:u,csp:d}=s;const h=n[t].frame;if(!h)return[n[e]];const p=n[a];let{crop:f}=n[t];f&&1!==p&&(f=lb(Xy(f),p,dy()));const g={...f},m=hx(px(h,g,l),g);g.x=Math.abs(m.left),g.y=Math.abs(m.top),g.width+=Math.abs(m.left)+Math.abs(m.right),g.height+=Math.abs(m.top)+Math.abs(m.bottom);const y=n[r],b=y?Math.min(y.width/f.width,y.height/f.height):1;return db(g,b),g.x=Math.floor(g.x),g.y=Math.floor(g.y),g.width=Math.floor(g.width),g.height=Math.floor(g.height),[n[e],{shapes:[h],contextBounds:g,computeShape:t=>sx(t,n[e]),transform:e=>{e.translate(g.x,g.y)},drawImage:wk({imageDataResizer:i,canvasMemoryLimit:o}),preprocessShape:e=>l(e,{isPreview:!1,...n[t]}),canvasMemoryLimit:o,willRequest:u||c,styleNonce:d.styleNonce}]}),((e,t)=>{let[r,i]=t;e[s]=i,e[n]=r})),"image-data-frame"]},jk=function(){let{mimeType:e,quality:t,srcImageData:n="imageData",srcFile:r="src",destBlob:i="blob"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[xk(zm,(i=>[i[n],e||Wm(i[r].name)||i[r].type,t]),((e,t)=>e[i]=t)),"image-data-to-blob"]},Hk=function(){let{srcImageData:e="imageData",srcOrientation:t="orientation",destCanvas:n="dest"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[xk($m,(n=>[n[e],n[t]]),((e,t)=>e[n]=t)),"image-data-to-canvas"]},Wk=async(e,t)=>{if(!fv(e)||!t)return e;const n=(e,t)=>{let n=2;const r=new DataView(e),i=r.byteLength;for(t(r.getUint8(0),0,2,i);n<i&&255==r.getUint8(n);){const e=r.getUint8(n+1),o=r.getUint16(n+2)+2;if(!1===t(e,n,o,i))break;n+=o}},r=e=>e>=224&&e<=237,i=(e=>{const t=[];return n(e,((n,i,o)=>{if(218===n)return!1;r(n)&&t.push(new Uint8Array(e,i,o))})),t})(t),o=((e,t)=>{const i=[];n(e,((n,o,a,s)=>0===o?(i.push(new Uint8Array(e,o,a)),void i.push(...t)):218===n?(i.push(new Uint8Array(e,o,s-o)),!1):void(r(n)||i.push(new Uint8Array(e,o,a)))));let o=i.reduce(((e,t)=>e+t.length),0),a=new Uint8Array(o),s=0;return i.forEach((e=>{a.set(e,s),s+=e.length})),a})(await sm(e),i);return new Blob([o],{type:"image/jpeg"})},Vk=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"blob",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"copy",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"blob";return[xk(Wk,(n=>[n[e],n[t]]),((e,t)=>e[n]=t)),"blob-write-image-head"]},Gk=function(){let{renameFile:e,srcBlob:t="blob",srcFile:n="src",destFile:r="dest",defaultFilename:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[xk(Vm,(r=>[r[t],e?e(r[n]):r[n].name||"".concat(i,".").concat(Um(r[t].type))]),((e,t)=>e[r]=t)),"blob-to-file"]},Qk=e=>{let{url:t="./",dataset:n=(e=>[["dest",e.dest,e.dest.name],["imageState",e.imageState]]),destStore:r="store",credentials:i,headers:o={}}=e;return[xk((async(e,n)=>await((e,t,n)=>new Promise(((r,i)=>{const{token:o={},beforeSend:a=om,onprogress:s=om}=n;o.cancel=()=>l.abort();const l=new XMLHttpRequest;l.upload.onprogress=s,l.onload=()=>l.status>=200&&l.status<300?r(l):i(l),l.onerror=()=>i(l),l.ontimeout=()=>i(l),l.open("POST",encodeURI(e)),a(l),l.send(t instanceof FormData?t:t.reduce(((e,t)=>(e.append(...t.map(gv)),e)),new FormData))})))(t,e,{onprogress:n,beforeSend:e=>ov(e,{headers:o,credentials:i})})),((e,t,r)=>[n(e),r]),((e,t)=>e[r]=t)),"store"]},qk=e=>[xk((t=>e&&e.length?(Object.keys(t).forEach((n=>{e.includes(n)||delete t[n]})),t):t)),"prop-filter"],Kk=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{orientImage:t=!0,outputProps:n=["src","dest","size","duration"],preprocessImageFile:r,request:i={}}=e;return[$k({willRequest:()=>i}),Sk(),r&&[xk(r,((e,t,n)=>[e.dest,t,n]),((e,t)=>e.dest=t)),"preprocess-image-file"],kk({srcProp:"dest"}),Ck({srcProp:"dest"}),t&&Tk({srcProp:"dest"}),t&&Pk(),t&&Ek(),qk(n)].filter(Boolean)},Zk=e=>e&&(Em(e)?Qk({url:e}):Tm(e)?[e,"store"]:Qk(e)),Xk=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{canvasMemoryLimit:i=hk(),orientImage:o=!0,copyImageHead:a=!0,mimeType:s,quality:l,renameFile:c,targetSize:u,imageDataResizer:d,store:h,format:p="file",outputProps:f=["src","dest","imageState","store"],preprocessImageSource:g,preprocessImageState:m,postprocessImageData:y,postprocessImageBlob:b,testSrcSupport:v=!1}={...e,...r};if(!v||Xb(t))return"blob"===p&&(p="file"),[g&&[xk(g,((e,t,n)=>[e.src,t,n,e.imageState]),((e,t)=>e.src=t)),"preprocess-image-source"],(o||a)&&Tk(),o&&Pk(),kk(),m&&[xk(m,((e,t,n,r)=>[e.imageState,t,n,{size:e.size,orientation:e.orientation}]),((e,t)=>e.imageState=t)),"preprocess-image-state"],Ik({canvasMemoryLimit:i}),o&&Ek(),o&&Lk(),Mk(),Dk(),Ok(),Fk({imageDataResizer:d,targetSize:u}),zk({imageDataResizer:d,canvasMemoryLimit:i,srcShapes:"manipulation"}),Nk(),Bk(),zk({imageDataResizer:d,canvasMemoryLimit:i,srcShapes:"annotation",shapeFilter:e=>!e.aboveFrame}),_k({imageDataResizer:d,canvasMemoryLimit:i,shapeFilter:e=>!e.aboveFrame}),Uk({imageDataResizer:d,canvasMemoryLimit:i}),zk({imageDataResizer:d,canvasMemoryLimit:i,srcShapes:"annotation",shapeFilter:e=>e.aboveFrame,shapeClip:!1}),_k({imageDataResizer:d,canvasMemoryLimit:i,shapeFilter:e=>e.aboveFrame}),y&&[xk(y,((e,t,n)=>[e.imageData,t,n]),((e,t)=>e.imageData=t)),"postprocess-image-data"],"file"===p?jk({mimeType:s,quality:l}):"canvas"===p?Hk():[e=>(e.dest=e.imageData,e)],"file"===p&&o&&Rk(),"file"===p&&a&&Vk(),b&&[xk(b,((e,t,n)=>{let{blob:r,imageData:i,src:o}=e;return[{blob:r,imageData:i,src:o},t,n]}),((e,t)=>e.blob=t)),"postprocess-image-file"],"file"===p&&Gk({defaultFilename:"image",renameFile:c}),"file"===p?Zk(h):Tm(h)&&[h,"store"],qk(f)].filter(Boolean)}};var Jk=(e,t,n,r,i,o,a,s,l,c,u)=>{if(!(e&&t&&n&&r&&s))return;s*=o;const d=Ab(Xy(t)),h=ab(d),p=ab(e),f=Yy(n),g=ab(f),m=QS(n,r,l),y=ab(m),b=Sy(fy(g),y),v=Sy(fy(p),h);b.x+=v.x,b.y+=v.y;const w=gy(fy(b));w.x+=v.x,w.y+=v.y;const x=ab(sb(sb(Xy(i),a),e)),$=Sy(x,p);return $y(b,$),{origin:w,translation:b,rotation:{x:u?Math.PI:0,y:c?Math.PI:0,z:l},scale:s}};let Yk=null;var eA=()=>{if(null===Yk)if("WebGL2RenderingContext"in window){let e;try{e=fm("canvas"),Yk=!!e.getContext("webgl2")}catch(yh){Yk=!1}e&&mm(e),e=void 0}else Yk=!1;return Yk},tA=e=>0==(e&e-1),nA=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return Object.keys(t).filter((e=>!km(t[e]))).reduce(((e,i)=>e.replace(new RegExp(n+i+r),t[i])),e)};const rA={head:"#version 300 es\n\nin vec4 aPosition;uniform mat4 uMatrix;",text:"\nin vec2 aTexCoord;out vec2 vTexCoord;",matrix:"\ngl_Position=uMatrix*vec4(aPosition.x,aPosition.y,0,1);"},iA={head:"#version 300 es\nprecision highp float;\n\nout vec4 fragColor;",mask:"\nuniform float uMaskFeather[8];uniform float uMaskBounds[4];uniform float uMaskOpacity;float mask(float x,float y,float bounds[4],float opacity){return 1.0-(1.0-(smoothstep(bounds[3],bounds[3]+1.0,x)*(1.0-smoothstep(bounds[1]-1.0,bounds[1],x))*(1.0-step(bounds[0],y))*step(bounds[2],y)))*(1.0-opacity);}",init:"\nfloat a=1.0;vec4 fillColor=uColor;vec4 textureColor=texture(uTexture,vTexCoord);textureColor*=(1.0-step(uRepeat.y,vTexCoord.y))*step(0.0,vTexCoord.y)*(1.0-step(uRepeat.x,vTexCoord.x))*step(0.0,vTexCoord.x);",colorize:"\nif(uTextureColor.a!=0.0&&textureColor.a>0.0){vec3 colorFlattened=textureColor.rgb/textureColor.a;if(colorFlattened.r>=.9999&&colorFlattened.g==0.0&&colorFlattened.b>=.9999){textureColor.rgb=uTextureColor.rgb*textureColor.a;}textureColor*=uTextureColor.a;}",maskapply:"\nfloat m=mask(gl_FragCoord.x,gl_FragCoord.y,uMaskBounds,uMaskOpacity);",maskfeatherapply:"\nfloat leftFeatherOpacity=step(uMaskFeather[1],gl_FragCoord.x)*uMaskFeather[0]+((1.0-uMaskFeather[0])*smoothstep(uMaskFeather[1],uMaskFeather[3],gl_FragCoord.x));float rightFeatherOpacity=(1.0-step(uMaskFeather[7],gl_FragCoord.x))*uMaskFeather[4]+((1.0-uMaskFeather[4])*smoothstep(uMaskFeather[7],uMaskFeather[5],gl_FragCoord.x));a*=leftFeatherOpacity*rightFeatherOpacity;",rectaa:"\nvec2 scaledPoint=vec2(vRectCoord.x*uSize.x,vRectCoord.y*uSize.y);a*=smoothstep(0.0,uEdgeFeather,uSize.x-scaledPoint.x);a*=smoothstep(0.0,uEdgeFeather,uSize.y-scaledPoint.y);a*=smoothstep(0.0,uEdgeFeather,scaledPoint.x);a*=smoothstep(0.0,uEdgeFeather,scaledPoint.y);",cornerradius:"\nvec2 s=(uSize-2.0)*.5;vec2 r=(vRectCoord*uSize)-1.0;vec2 p=r-s;float cornerRadius=uCornerRadius[0];bool left=r.x<s.x;bool top=r.y<s.y;if(!left&&top){cornerRadius=uCornerRadius[1];}if(!left&&!top){cornerRadius=uCornerRadius[3];}if(left&&!top){cornerRadius=uCornerRadius[2];}a*=1.0-clamp(length(max(abs(p)-(s-cornerRadius),0.0))-cornerRadius,0.0,1.0);",fragcolor:"\nif(m<=0.0)discard;fillColor.a*=a;fillColor.rgb*=fillColor.a;fillColor.rgb*=m;fillColor.rgb+=(1.0-m)*(uCanvasColor.rgb*fillColor.a);textureColor*=uTextureOpacity;textureColor.a*=a;textureColor.rgb*=m*a;textureColor.rgb+=(1.0-m)*(uCanvasColor.rgb*textureColor.a);fragColor=textureColor+(fillColor*(1.0-textureColor.a));"},oA=(e,t,n)=>{const r=e.createShader(n),i=((e,t,n)=>(t=nA(t,n===e.VERTEX_SHADER?rA:iA,"##").trim(),eA()?t:(t=(t=t.replace(/#version.+/gm,"").trim()).replace(/^\/\/\#/gm,"#"),n===e.VERTEX_SHADER&&(t=t.replace(/in /gm,"attribute ").replace(/out /g,"varying ")),n===e.FRAGMENT_SHADER&&(t=t.replace(/in /gm,"varying ").replace(/out.*?;/gm,"").replace(/texture\(/g,"texture2D(").replace(/fragColor/g,"gl_FragColor")),""+t)))(e,t,n);return e.shaderSource(r,i),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS)||console.error(e.getShaderInfoLog(r)),r},aA=(e,t,n,r,i)=>{const o=oA(e,t,e.VERTEX_SHADER),a=oA(e,n,e.FRAGMENT_SHADER),s=e.createProgram();e.attachShader(s,o),e.attachShader(s,a),e.linkProgram(s);const l={};return r.forEach((t=>{l[t]=e.getAttribLocation(s,t)})),i.forEach((t=>{l[t]=e.getUniformLocation(s,t)})),{program:s,locations:l,destroy(){e.detachShader(s,o),e.detachShader(s,a),e.deleteShader(o),e.deleteShader(a),e.deleteProgram(s)}}},sA=e=>"VIDEO"!==e.nodeName&&(!!eA()||tA(e.width)&&tA(e.height)),lA=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e?[e[0],e[1],e[2],Tv(e[3])?t*e[3]:t]:[0,0,0,0]},cA=()=>{const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},uA=(e,t,n,r,i,o,a)=>{const s=1/(t-n),l=1/(r-i),c=1/(o-a);e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*l,e[14]=(a+o)*c,e[15]=1},dA=(e,t,n,r)=>{e[12]=e[0]*t+e[4]*n+e[8]*r+e[12],e[13]=e[1]*t+e[5]*n+e[9]*r+e[13],e[14]=e[2]*t+e[6]*n+e[10]*r+e[14],e[15]=e[3]*t+e[7]*n+e[11]*r+e[15]},hA=(e,t)=>{e[0]*=t,e[1]*=t,e[2]*=t,e[3]*=t,e[4]*=t,e[5]*=t,e[6]*=t,e[7]*=t,e[8]*=t,e[9]*=t,e[10]*=t,e[11]*=t},pA=(e,t)=>{const n=Math.sin(t),r=Math.cos(t),i=e[4],o=e[5],a=e[6],s=e[7],l=e[8],c=e[9],u=e[10],d=e[11];e[4]=i*r+l*n,e[5]=o*r+c*n,e[6]=a*r+u*n,e[7]=s*r+d*n,e[8]=l*r-i*n,e[9]=c*r-o*n,e[10]=u*r-a*n,e[11]=d*r-s*n},fA=(e,t)=>{const n=Math.sin(t),r=Math.cos(t),i=e[0],o=e[1],a=e[2],s=e[3],l=e[8],c=e[9],u=e[10],d=e[11];e[0]=i*r-l*n,e[1]=o*r-c*n,e[2]=a*r-u*n,e[3]=s*r-d*n,e[8]=i*n+l*r,e[9]=o*n+c*r,e[10]=a*n+u*r,e[11]=s*n+d*r},gA=(e,t)=>{const n=Math.sin(t),r=Math.cos(t),i=e[0],o=e[1],a=e[2],s=e[3],l=e[4],c=e[5],u=e[6],d=e[7];e[0]=i*r+l*n,e[1]=o*r+c*n,e[2]=a*r+u*n,e[3]=s*r+d*n,e[4]=l*r-i*n,e[5]=c*r-o*n,e[6]=u*r-a*n,e[7]=d*r-s*n};var mA=(e,t)=>eA()?e.getContext("webgl2",t):e.getContext("webgl",t)||e.getContext("experimental-webgl",t);const yA=(e,t)=>{const n=e.length;return t>=n?e[t%n]:t<0?e[t%n+n]:e[t]},bA=(e,t,n,r)=>{const i=hy(n.x-t.x,n.y-t.y),o=hy(r.x-n.x,r.y-n.y),a=hy(t.x-r.x,t.y-r.y),s=hy(e.x-t.x,e.y-t.y),l=hy(e.x-n.x,e.y-n.y),c=hy(e.x-r.x,e.y-r.y),u=Ey(i,s),d=Ey(o,l),h=Ey(a,c);return u<=0&&d<=0&&h<=0},vA=(e,t,n,r,i)=>{const o=by(hy(r.x-n.x,r.y-n.y)),a=by(hy(i.x-r.x,i.y-r.y)),s=by(hy(o.x+a.x,o.y+a.y)),l=hy(-s.y,s.x),c=hy(-o.y,o.x),u=Math.min(1/Cy(l,c),5);e[t]=r.x,e[t+1]=r.y,e[t+2]=l.x*u,e[t+3]=l.y*u,e[t+4]=-1,e[t+5]=r.x,e[t+6]=r.y,e[t+7]=l.x*u,e[t+8]=l.y*u,e[t+9]=1},wA=e=>{const t=new Float32Array(8);return t[0]=e[3].x,t[1]=e[3].y,t[2]=e[0].x,t[3]=e[0].y,t[4]=e[2].x,t[5]=e[2].y,t[6]=e[1].x,t[7]=e[1].y,t},xA=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const i=$b(e),o=e.x+.5*e.width,a=e.y+.5*e.height;return(n||r)&&My(i,n,r,o,a),0!==t&&Iy(i,t,o,a),i},$A=(e,t,n,r,i)=>{const o=Math.min(20,Math.max(4,Math.round(r/2)));let a=0,s=0,l=0,c=0,u=0;for(;u<o;u++)a=u/o,s=i*Km+a*Km,l=r*Math.cos(s),c=r*Math.sin(s),e.push(hy(t+l,n+c))};let SA=null;var kA=()=>{if(null!==SA)return SA;let e=fm("canvas");const t=mA(e);return SA=t?t.getParameter(t.MAX_TEXTURE_SIZE):void 0,mm(e),e=void 0,SA},AA=()=>um()&&!!window.chrome;const CA=new Float32Array([0,1,0,0,1,1,1,0]),EA=new Float32Array([1,0,0,0,1,1,0,1]),TA=um()&&Om(),PA=[0,0,0,0,1,0,0,0,0],RA=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],MA=[0,0,0,0],IA=[0,0,0,0],LA=(e,t,n,r,i)=>{if(!n||!r)return CA;let o=r.x/n.width,a=r.y/n.height,s=e/n.width/i,l=t/n.height/i;return s-=o,l-=a,new Float32Array([-o,l,-o,-a,s,l,s,-a])};var BA=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{alpha:n=!1}=t,r={width:0,height:0},i={width:0,height:0},o=kA()||1024;let a,s,l;const c=cA(),u=cA();let d,h,p,f,g,m,y,b,v,w=0,x=0,$=0,S=1;const k=new Map([]),A=()=>{T.stencilOp(T.KEEP,T.KEEP,T.KEEP),T.stencilFunc(T.ALWAYS,1,255),T.stencilMask(255)},C=(e=>e*Math.PI/180)(30),E=Math.tan(C/2),T=mA(e,{alpha:n,antialias:!1,premultipliedAlpha:!0,stencil:!0});if(!T)return;T.getExtension("OES_standard_derivatives"),T.disable(T.DEPTH_TEST),T.enable(T.STENCIL_TEST),T.enable(T.BLEND),T.blendFunc(T.ONE,T.ONE_MINUS_SRC_ALPHA),T.pixelStorei(T.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!(!n&&Om())),A();const P=T.createTexture();T.bindTexture(T.TEXTURE_2D,P),T.texImage2D(T.TEXTURE_2D,0,T.RGBA,1,1,0,T.RGBA,T.UNSIGNED_BYTE,new Uint8Array(MA)),k.set(0,P);const R=T.createTexture();k.set(2,R);const M=T.createFramebuffer(),I=T.createTexture();k.set(1,I);const L=T.createFramebuffer(),B=aA(T,"\n##head\n##text\nvoid main(){vTexCoord=aTexCoord;gl_Position=uMatrix*aPosition;}","\n##head\nin vec2 vTexCoord;uniform sampler2D uTexture;uniform sampler2D uTextureOverlay;uniform sampler2D uTextureBlend;uniform vec2 uTextureSize;uniform float uOpacity;uniform int uAntialias;uniform vec4 uOverlayColor;uniform mat4 uColorMatrix;uniform vec4 uColorOffset;uniform float uClarityKernel[9];uniform float uClarityKernelWeight;uniform float uColorGamma;uniform float uColorVignette;uniform float uMaskClip;uniform float uMaskOpacity;uniform float uMaskBounds[4];uniform float uMaskCornerRadius[4];uniform float uMaskFeather[8];vec4 applyGamma(vec4 c,float g){c.r=pow(c.r,g);c.g=pow(c.g,g);c.b=pow(c.b,g);return c;}vec4 applyColorMatrix(vec4 c,mat4 m,vec4 o){vec4 res=(c*m)+(o*c.a);res=clamp(res,0.0,1.0);return res;}vec4 applyConvolutionMatrix(vec4 c,float k0,float k1,float k2,float k3,float k4,float k5,float k6,float k7,float k8,float w){vec2 pixel=vec2(1)/uTextureSize;vec4 colorSum=texture(uTexture,vTexCoord-pixel)*k0+texture(uTexture,vTexCoord+pixel*vec2(0.0,-1.0))*k1+texture(uTexture,vTexCoord+pixel*vec2(1.0,-1.0))*k2+texture(uTexture,vTexCoord+pixel*vec2(-1.0,0.0))*k3+texture(uTexture,vTexCoord)*k4+texture(uTexture,vTexCoord+pixel*vec2(1.0,0.0))*k5+texture(uTexture,vTexCoord+pixel*vec2(-1.0,1.0))*k6+texture(uTexture,vTexCoord+pixel*vec2(0.0,1.0))*k7+texture(uTexture,vTexCoord+pixel)*k8;vec4 color=vec4(clamp((colorSum/w),0.0,1.0).rgb,c.a);return color;}vec4 blendPremultipliedAlpha(vec4 back,vec4 front){return front+(back*(1.0-front.a));}vec4 applyVignette(vec4 c,vec2 pos,vec2 center,float v){float d=distance(pos,center)/length(center);float f=1.0-(d*abs(v));if(v>0.0){c.rgb*=f;}else if(v<0.0){c.rgb+=(1.0-f)*(1.0-c.rgb);}return c;}void main(){float x=gl_FragCoord.x;float y=gl_FragCoord.y;float a=1.0;float maskTop=uMaskBounds[0];float maskRight=uMaskBounds[1];float maskBottom=uMaskBounds[2];float maskLeft=uMaskBounds[3];float leftFeatherOpacity=step(uMaskFeather[1],x)*uMaskFeather[0]+((1.0-uMaskFeather[0])*smoothstep(uMaskFeather[1],uMaskFeather[3],x));float rightFeatherOpacity=(1.0-step(uMaskFeather[7],x))*uMaskFeather[4]+((1.0-uMaskFeather[4])*smoothstep(uMaskFeather[7],uMaskFeather[5],x));a*=leftFeatherOpacity*rightFeatherOpacity;float overlayColorAlpha=(smoothstep(maskLeft,maskLeft+1.0,x)*(1.0-smoothstep(maskRight-1.0,maskRight,x))*(1.0-step(maskTop,y))*step(maskBottom,y));if(uOverlayColor.a==0.0){a*=overlayColorAlpha;}vec2 offset=vec2(maskLeft,maskBottom);vec2 size=vec2(maskRight-maskLeft,maskTop-maskBottom)*.5;vec2 center=offset.xy+size.xy;int pixelX=int(step(center.x,x));int pixelY=int(step(y,center.y));float cornerRadius=0.0;if(pixelX==0&&pixelY==0)cornerRadius=uMaskCornerRadius[0];if(pixelX==1&&pixelY==0)cornerRadius=uMaskCornerRadius[1];if(pixelX==0&&pixelY==1)cornerRadius=uMaskCornerRadius[2];if(pixelX==1&&pixelY==1)cornerRadius=uMaskCornerRadius[3];float cornerOffset=sign(cornerRadius)*length(max(abs(gl_FragCoord.xy-size-offset)-size+cornerRadius,0.0))-cornerRadius;float cornerOpacity=1.0-smoothstep(0.0,1.0,cornerOffset);a*=cornerOpacity;if(uAntialias==1){vec2 scaledPoint=vec2(vTexCoord.x*uTextureSize.x,vTexCoord.y*uTextureSize.y);a*=smoothstep(0.0,1.0,uTextureSize.x-scaledPoint.x);a*=smoothstep(0.0,1.0,uTextureSize.y-scaledPoint.y);a*=smoothstep(0.0,1.0,scaledPoint.x);a*=smoothstep(0.0,1.0,scaledPoint.y);}vec4 color=texture(uTexture,vTexCoord);if(uClarityKernelWeight!=-1.0){color=applyConvolutionMatrix(color,uClarityKernel[0],uClarityKernel[1],uClarityKernel[2],uClarityKernel[3],uClarityKernel[4],uClarityKernel[5],uClarityKernel[6],uClarityKernel[7],uClarityKernel[8],uClarityKernelWeight);}color=blendPremultipliedAlpha(color,texture(uTextureBlend,vTexCoord));color=applyGamma(color,uColorGamma);color=applyColorMatrix(color,uColorMatrix,uColorOffset);color*=a;if(uColorVignette!=0.0){vec2 pos=gl_FragCoord.xy-offset;color=applyVignette(color,pos,center-offset,uColorVignette);}color=blendPremultipliedAlpha(color,texture(uTextureOverlay,vTexCoord));if(overlayColorAlpha<=0.0){color*=1.0-uOverlayColor.a;}color*=uOpacity;fragColor=color;}",["aPosition","aTexCoord"],["uMatrix","uTexture","uTextureBlend","uTextureOverlay","uTextureSize","uColorGamma","uColorVignette","uColorOffset","uColorMatrix","uClarityKernel","uClarityKernelWeight","uOpacity","uMaskOpacity","uMaskBounds","uMaskCornerRadius","uMaskFeather","uOverlayColor","uAntialias"]),O=T.createBuffer(),F=T.createBuffer();T.bindBuffer(T.ARRAY_BUFFER,F),T.bufferData(T.ARRAY_BUFFER,CA,T.STATIC_DRAW);const N=T.createBuffer();T.bindBuffer(T.ARRAY_BUFFER,N),T.bufferData(T.ARRAY_BUFFER,EA,T.STATIC_DRAW);const D=aA(T,"#version 300 es\n\nin vec4 aPosition;in vec2 aNormal;in float aMiter;out vec2 vNormal;out float vMiter;out float vWidth;uniform float uWidth;uniform float uSharpness;uniform mat4 uMatrix;void main(){vMiter=aMiter;vNormal=aNormal;vWidth=(uWidth*.5)+uSharpness;gl_Position=uMatrix*vec4(aPosition.x+(aNormal.x*vWidth*aMiter),aPosition.y+(aNormal.y*vWidth*aMiter),0,1);}","\n##head\n##mask\nin vec2 vNormal;in float vMiter;in float vWidth;uniform float uWidth;uniform vec4 uColor;uniform vec4 uCanvasColor;void main(){vec4 fillColor=uColor;float m=mask(gl_FragCoord.x,gl_FragCoord.y,uMaskBounds,uMaskOpacity);if(m<=0.0)discard;fillColor.a*=clamp(smoothstep(vWidth-.5,vWidth-1.0,abs(vMiter)*vWidth),0.0,1.0);fillColor.rgb*=fillColor.a;fillColor.rgb*=m;fillColor.rgb+=(1.0-m)*(uCanvasColor.rgb*fillColor.a);fragColor=fillColor;}",["aPosition","aNormal","aMiter"],["uColor","uCanvasColor","uMatrix","uWidth","uSharpness","uMaskBounds","uMaskOpacity"]),z=T.createBuffer();AA()&&(T.bindBuffer(T.ARRAY_BUFFER,z),T.bufferData(T.ARRAY_BUFFER,1,T.DYNAMIC_DRAW));const _=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const{program:i,locations:o}=D;T.useProgram(i),T.enableVertexAttribArray(o.aPosition),T.enableVertexAttribArray(o.aNormal),T.enableVertexAttribArray(o.aMiter);const a=((e,t)=>{let n,r,i,o=0;const a=e.length,s=new Float32Array(10*(t?a+1:a)),l=e[0],c=e[a-1];for(o=0;o<a;o++)n=e[o-1],r=e[o],i=e[o+1],n||(n=t?c:hy(r.x+(r.x-i.x),r.y+(r.y-i.y))),i||(i=t?l:hy(r.x+(r.x-n.x),r.y+(r.y-n.y))),vA(s,10*o,n,r,i);return t&&vA(s,10*a,c,l,e[1]),s})(e,r),s=5*Float32Array.BYTES_PER_ELEMENT,c=2*Float32Array.BYTES_PER_ELEMENT,u=4*Float32Array.BYTES_PER_ELEMENT;T.uniform1f(o.uWidth,t),T.uniform1f(o.uSharpness,l),T.uniform4fv(o.uColor,n),T.uniformMatrix4fv(o.uMatrix,!1,d),T.uniform4f(o.uCanvasColor,w,x,$,S),T.uniform1fv(o.uMaskBounds,y),T.uniform1f(o.uMaskOpacity,m),T.bindBuffer(T.ARRAY_BUFFER,z),T.bufferData(T.ARRAY_BUFFER,a,T.STATIC_DRAW),T.vertexAttribPointer(o.aPosition,2,T.FLOAT,!1,s,0),T.vertexAttribPointer(o.aNormal,2,T.FLOAT,!1,s,c),T.vertexAttribPointer(o.aMiter,1,T.FLOAT,!1,s,u),T.drawArrays(T.TRIANGLE_STRIP,0,a.length/5),T.disableVertexAttribArray(o.aPosition),T.disableVertexAttribArray(o.aNormal),T.disableVertexAttribArray(o.aMiter)},U=aA(T,"\n##head\nvoid main(){\n##matrix\n}","\n##head\n##mask\nuniform vec4 uColor;uniform vec4 uCanvasColor;void main(){vec4 fillColor=uColor;\n##maskapply\nfillColor.rgb*=fillColor.a;fillColor.rgb*=m;fillColor.rgb+=(1.0-m)*(uCanvasColor.rgb*fillColor.a);fragColor=fillColor;}",["aPosition"],["uColor","uCanvasColor","uMatrix","uMaskBounds","uMaskOpacity"]),j=T.createBuffer(),H=aA(T,"\n##head\n##text\nin vec2 aRectCoord;out vec2 vRectCoord;void main(){vTexCoord=aTexCoord;vRectCoord=aRectCoord;\n##matrix\n}","\n##head\n##mask\nin vec2 vTexCoord;in vec2 vRectCoord;uniform sampler2D uTexture;uniform vec4 uTextureColor;uniform float uTextureOpacity;uniform vec2 uRepeat;uniform vec4 uColor;uniform float uCornerRadius[4];uniform vec2 uSize;uniform vec2 uPosition;uniform vec4 uCanvasColor;uniform int uInverted;uniform float uEdgeFeather;void main(){\n##init\n##colorize\n##rectaa\n##cornerradius\n##maskfeatherapply\nif(uInverted==1)a=1.0-a;\n##maskapply\n##fragcolor\n}",["aPosition","aTexCoord","aRectCoord"],["uTexture","uColor","uMatrix","uCanvasColor","uTextureColor","uTextureOpacity","uRepeat","uPosition","uSize","uMaskBounds","uMaskOpacity","uMaskFeather","uCornerRadius","uInverted","uEdgeFeather"]),W=T.createBuffer(),V=T.createBuffer(),G=T.createBuffer(),Q=aA(T,"\n##head\n##text\nout vec2 vTexCoordDouble;void main(){vTexCoordDouble=vec2(aTexCoord.x*2.0-1.0,aTexCoord.y*2.0-1.0);vTexCoord=aTexCoord;\n##matrix\n}","\n##head\n##mask\nin vec2 vTexCoord;in vec2 vTexCoordDouble;uniform sampler2D uTexture;uniform float uTextureOpacity;uniform vec2 uTextureAdjust;uniform vec2 uRepeat;uniform vec2 uRadius;uniform vec4 uColor;uniform int uInverted;uniform vec4 uCanvasColor;void main(){\n##init\nfloat ar=uRadius.x/uRadius.y;vec2 rAA=vec2(uRadius.x-1.0,uRadius.y-(1.0/ar));vec2 scaledPointSq=vec2((vTexCoordDouble.x*uTextureAdjust.x*uRadius.x)*(vTexCoordDouble.x*uTextureAdjust.x*uRadius.x),(vTexCoordDouble.y*uTextureAdjust.y*uRadius.y)*(vTexCoordDouble.y*uTextureAdjust.y*uRadius.y));float p=(scaledPointSq.x/(uRadius.x*uRadius.x))+(scaledPointSq.y/(uRadius.y*uRadius.y));float pAA=(scaledPointSq.x/(rAA.x*rAA.x))+(scaledPointSq.y/(rAA.y*rAA.y));a=smoothstep(1.0,p/pAA,p);if(uInverted==1)a=1.0-a;\n##maskapply\n##fragcolor\n}",["aPosition","aTexCoord"],["uTexture","uTextureOpacity","uTextureAdjust","uRepeat","uColor","uCanvasColor","uMatrix","uRadius","uInverted","uMaskBounds","uMaskOpacity"]),q=T.createBuffer(),K=T.createBuffer(),Z=new Map,X={2:{width:0,height:0},1:{width:0,height:0}},J=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const a=Math.min(Math.min(4096,o)/n.width,Math.min(4096,o)/n.height,i),l=Math.floor(a*n.width),c=Math.floor(a*n.height);_y(n,X[e])?T.bindFramebuffer(T.FRAMEBUFFER,t):(T.bindTexture(T.TEXTURE_2D,k.get(e)),T.texImage2D(T.TEXTURE_2D,0,T.RGBA,l,c,0,T.RGBA,T.UNSIGNED_BYTE,null),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_MIN_FILTER,T.LINEAR),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_S,T.CLAMP_TO_EDGE),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_T,T.CLAMP_TO_EDGE),T.bindFramebuffer(T.FRAMEBUFFER,t),T.framebufferTexture2D(T.FRAMEBUFFER,T.COLOR_ATTACHMENT0,T.TEXTURE_2D,k.get(e),0),X[e]=n);const h=n.width*s,p=n.height*s;var f;uA(u,0,h,p,0,-1,1),dA(u,0,p,0),(f=u)[0]*=1,f[1]*=1,f[2]*=1,f[3]*=1,((e,t)=>{e[4]*=-1,e[5]*=-1,e[6]*=-1,e[7]*=-1})(u),d=u,T.viewport(0,0,l,c),T.colorMask(!0,!0,!0,!0),T.clearColor(0,0,0,0),T.clear(T.COLOR_BUFFER_BIT),v=[1,0,1,0,1,Math.max(r.width,n.width),1,Math.max(r.width,n.width)]},Y=(e,t)=>{const{forceRelease:n=!1}=t||{},{src:r}=Z.get(e);r instanceof HTMLCanvasElement&&(n||r.dataset.retain||mm(r)),Z.delete(e),T.deleteTexture(e)};return{drawPath:function(e){let t=arguments.length>4?arguments[4]:void 0,n=arguments.length>5?arguments[5]:void 0,r=arguments.length>6?arguments[6]:void 0,i=arguments.length>7?arguments[7]:void 0,o=arguments.length>8?arguments[8]:void 0;if(e.length<2)return;const a=e.map((e=>({x:e.x*s,y:e.y*s}))),l=t*s;if(l>0&&_(a,l,lA(n,o),r),a.length<3||!i||0===i[3]||!r)return;const c=(e=>{if(e.length<3)return[];if((e=>{const t=e.length;for(let n=0;n<t;n++){const t=Gy(e[n],yA(e,n+1));if(Pb(t,e,{ignoreIdenticalLines:!0,breakOnIntersection:!0}))return!0}return!1})(e))return[];(e=>{let t,n,r,i,o,a=0;const s=e.length;for(t=0;t<s;t++)n=e[t],r=e[(t+1)%s],i=r.x-n.x,o=(r.y+n.y)/2,a+=i*o;return a})(e)<0&&e.reverse();const t=e.length,n=[...Array(t).keys()],r=[];let i,o,a,s,l,c,u,d,h,p,f,g,m=1024;for(;n.length>3;){if(m<=0)return[];for(m--,i=0;i<n.length;i++)if(a=n[i],s=yA(n,i-1),l=yA(n,i+1),c=e[a],u=e[s],d=e[l],h=hy(u.x-c.x,u.y-c.y),p=hy(d.x-c.x,d.y-c.y),!(Ey(h,p)<0)){for(f=!0,o=0;o<t;o++)if(o!==a&&o!==s&&o!==l&&(g=e[o],bA(g,u,c,d))){f=!1;break}if(f){r.push([u,c,d]),n.splice(i,1);break}}}return r.push([e[n[0]],e[n[1]],e[n[2]]]),r})(a),u=new Float32Array(6*c.length);c.forEach(((e,t)=>{let[n,r,i]=e;const o=6*t;u[o+0]=n.x,u[o+1]=n.y,u[o+2]=r.x,u[o+3]=r.y,u[o+4]=i.x,u[o+5]=i.y})),((e,t)=>{const{program:n,locations:r}=U;T.useProgram(n),T.enableVertexAttribArray(r.aPosition),T.uniform4fv(r.uColor,t),T.uniformMatrix4fv(r.uMatrix,!1,d),T.uniform1fv(r.uMaskBounds,y),T.uniform1f(r.uMaskOpacity,m),T.uniform4f(r.uCanvasColor,w,x,$,S),T.bindBuffer(T.ARRAY_BUFFER,j),T.bufferData(T.ARRAY_BUFFER,e,T.STATIC_DRAW),T.vertexAttribPointer(r.aPosition,2,T.FLOAT,!1,0,0),T.drawArrays(T.TRIANGLES,0,e.length/2),T.disableVertexAttribArray(r.aPosition)})(u,lA(i,o))},drawRect:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0,u=arguments.length>9&&void 0!==arguments[9]&&arguments[9],h=arguments.length>10?arguments[10]:void 0,p=arguments.length>11?arguments[11]:void 0,f=arguments.length>12?arguments[12]:void 0,g=arguments.length>13?arguments[13]:void 0,b=arguments.length>14?arguments[14]:void 0,k=arguments.length>15&&void 0!==arguments[15]?arguments[15]:1/s,A=arguments.length>16?arguments[16]:void 0,C=arguments.length>17?arguments[17]:void 0;const E=db(Xy(e),s),R=i.map((t=>((e,t)=>Math.floor(qS(e,0,Math.min(.5*(t.width-1),.5*(t.height-1)))))(t||0,e))).map((e=>e*s));if(o||a){const e=Xy(E);e.x-=.5,e.y-=.5,e.width+=1,e.height+=1;const i=xA(e,t,n,r),p=wA(i);let f;A&&(f=lA(A),0===f[3]&&(f[3]=.001));const M=l&&u?[e.width/l.width,e.height/l.height]:[1,1];!function(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:P,a=arguments.length>6?arguments[6]:void 0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:MA,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:CA,h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:v,p=arguments.length>11&&void 0!==arguments[11]?arguments[11]:1,f=arguments.length>12?arguments[12]:void 0;const{program:g,locations:b}=H;T.useProgram(g),T.enableVertexAttribArray(b.aPosition),T.enableVertexAttribArray(b.aTexCoord),T.enableVertexAttribArray(b.aRectCoord),T.uniform4fv(b.uColor,i),T.uniform2fv(b.uSize,[t,n]),T.uniform2fv(b.uPosition,[e[2],e[3]]),T.uniform2fv(b.uRepeat,a),T.uniform1i(b.uInverted,f?1:0),T.uniform1fv(b.uCornerRadius,r),T.uniform4f(b.uCanvasColor,w,x,$,S),T.uniform1fv(b.uMaskFeather,h.map(((e,t)=>t%2==0?e:e*s))),T.uniform1fv(b.uMaskBounds,y),T.uniform1f(b.uMaskOpacity,m),T.uniform1f(b.uEdgeFeather,Math.max(0,p)),T.uniformMatrix4fv(b.uMatrix,!1,d),T.uniform1i(b.uTexture,4),T.uniform4fv(b.uTextureColor,c),T.uniform1f(b.uTextureOpacity,l),T.activeTexture(T.TEXTURE0+4),T.bindTexture(T.TEXTURE_2D,o),T.bindBuffer(T.ARRAY_BUFFER,V),T.bufferData(T.ARRAY_BUFFER,u,T.STATIC_DRAW),T.vertexAttribPointer(b.aTexCoord,2,T.FLOAT,!1,0,0),T.bindBuffer(T.ARRAY_BUFFER,G),T.bufferData(T.ARRAY_BUFFER,CA,T.STATIC_DRAW),T.vertexAttribPointer(b.aRectCoord,2,T.FLOAT,!1,0,0),T.bindBuffer(T.ARRAY_BUFFER,W),T.bufferData(T.ARRAY_BUFFER,e,T.STATIC_DRAW),T.vertexAttribPointer(b.aPosition,2,T.FLOAT,!1,0,0),T.drawArrays(T.TRIANGLE_STRIP,0,e.length/2),T.disableVertexAttribArray(b.aPosition),T.disableVertexAttribArray(b.aTexCoord),T.disableVertexAttribArray(b.aRectCoord)}(p,e.width,e.height,R,lA(o,g),a,M,g,f,h?new Float32Array(h):LA(e.width,e.height,l,c,s),b,k*s,C)}p&&(p=Math.min(p,E.width,E.height),_(((e,t,n,r,i,o,a,s)=>{const l=[];if(o.every((e=>0===e)))l.push(hy(e,t),hy(e+n,t),hy(e+n,t+r),hy(e,t+r));else{const[i,a,s,c]=o,u=e,d=e+n,h=t,p=t+r;l.push(hy(u+i,h)),$A(l,d-a,h+a,a,-1),l.push(hy(d,h+a)),$A(l,d-c,p-c,c,0),l.push(hy(d-c,p)),$A(l,u+s,p-s,s,1),l.push(hy(u,p-s)),$A(l,u+i,h+i,i,2)}return(a||s)&&My(l,a,s,e+.5*n,t+.5*r),i&&Iy(l,i,e+.5*n,t+.5*r),l})(E.x,E.y,E.width,E.height,t,R,n,r),p*s,lA(f,g),!0))},drawEllipse:(e,t,n,r,i,o,a,l,c,u,h,p,f,g,b)=>{const v=db(ob(e.x-t,e.y-n,2*t,2*n),s);if(a||l){const e=Xy(v);b||(e.x-=.5,e.y-=.5,e.width+=1,e.height+=1);const t=xA(e,r,i,o);!function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:P,o=arguments.length>5?arguments[5]:void 0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:CA,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];const{program:c,locations:u}=Q;T.useProgram(c),T.enableVertexAttribArray(u.aPosition),T.enableVertexAttribArray(u.aTexCoord),T.uniformMatrix4fv(u.uMatrix,!1,d),T.uniform2fv(u.uRadius,[.5*t,.5*n]),T.uniform2fv(u.uTextureAdjust,[o.width/(.5*t),o.height/(.5*n)]),T.uniform1i(u.uInverted,l?1:0),T.uniform4fv(u.uColor,r),T.uniform4f(u.uCanvasColor,w,x,$,S),T.uniform2fv(u.uRepeat,[1,1]),T.uniform1fv(u.uMaskBounds,y),T.uniform1f(u.uMaskOpacity,m),T.uniform1i(u.uTexture,4),T.uniform1f(u.uTextureOpacity,s),T.activeTexture(T.TEXTURE0+4),T.bindTexture(T.TEXTURE_2D,i),T.bindBuffer(T.ARRAY_BUFFER,K),T.bufferData(T.ARRAY_BUFFER,a,T.STATIC_DRAW),T.vertexAttribPointer(u.aTexCoord,2,T.FLOAT,!1,0,0),T.bindBuffer(T.ARRAY_BUFFER,q),T.bufferData(T.ARRAY_BUFFER,e,T.STATIC_DRAW),T.vertexAttribPointer(u.aPosition,2,T.FLOAT,!1,0,0),T.drawArrays(T.TRIANGLE_STRIP,0,e.length/2),T.disableVertexAttribArray(u.aPosition),T.disableVertexAttribArray(u.aTexCoord)}(wA(t),e.width,e.height,lA(a,g),l,c||zy(.5*e.width,.5*e.height),h?new Float32Array(h):LA(e.width,e.height,c,u,s),g,b)}p&&_(((e,t,n,r,i,o,a)=>{const s=.5*Math.abs(n),l=.5*Math.abs(r),c=Math.abs(n)+Math.abs(r),u=Math.max(20,Math.round(c/6));return Lb(hy(e+s,t+l),s,l,i,o,a,u)})(v.x,v.y,v.width,v.height,r,i,o),p*s,lA(f,g),!0)},drawImage:function(e,t,n,i,o,l,c,u,d,h){let p=arguments.length>10&&void 0!==arguments[10]?arguments[10]:RA,f=arguments.length>11&&void 0!==arguments[11]?arguments[11]:1,g=arguments.length>12?arguments[12]:void 0,v=arguments.length>13&&void 0!==arguments[13]?arguments[13]:1,w=arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,x=arguments.length>15&&void 0!==arguments[15]?arguments[15]:b,$=arguments.length>16&&void 0!==arguments[16]?arguments[16]:IA,S=arguments.length>17&&void 0!==arguments[17]?arguments[17]:MA,A=arguments.length>18&&void 0!==arguments[18]&&arguments[18],P=arguments.length>19&&void 0!==arguments[19]&&arguments[19],R=!(arguments.length>20&&void 0!==arguments[20])||arguments[20];const M=t.width*s,I=t.height*s,L=-.5*M,D=.5*I,z=.5*M,_=-.5*I,U=new Float32Array([L,_,0,L,D,0,z,_,0,z,D,0]);T.bindBuffer(T.ARRAY_BUFFER,O),T.bufferData(T.ARRAY_BUFFER,U,T.STATIC_DRAW);const j=t.height/2/E*(r.height/t.height)*-1;o*=s,l*=s,n*=s,i*=s;const{program:H,locations:W}=B,V=cA();((e,t,n,r,i)=>{const o=1/Math.tan(t/2),a=1/(1-i);e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+1)*a,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*1*a,e[15]=0})(V,C,a,0,2*-j),dA(V,o,-l,j),dA(V,n,-i,0),gA(V,-d),hA(V,h),dA(V,-n,i,0),fA(V,u),pA(V,c),T.useProgram(H),T.enableVertexAttribArray(W.aPosition),T.enableVertexAttribArray(W.aTexCoord),T.uniform1i(W.uTexture,3),T.uniform2f(W.uTextureSize,t.width,t.height),T.activeTexture(T.TEXTURE0+3),T.bindTexture(T.TEXTURE_2D,e);const G=P?1:0,Q=k.get(G);T.uniform1i(W.uTextureBlend,G),T.activeTexture(T.TEXTURE0+G),T.bindTexture(T.TEXTURE_2D,Q);const q=A?2:0,K=k.get(q);T.uniform1i(W.uTextureOverlay,q),T.activeTexture(T.TEXTURE0+q),T.bindTexture(T.TEXTURE_2D,K),T.bindBuffer(T.ARRAY_BUFFER,O),T.vertexAttribPointer(W.aPosition,3,T.FLOAT,!1,0,0);const X=TA&&(e=>Z.get(e).isRotatedVideo)(e);let J;T.bindBuffer(T.ARRAY_BUFFER,X?N:F),T.vertexAttribPointer(W.aTexCoord,2,T.FLOAT,!1,0,0),T.uniformMatrix4fv(W.uMatrix,!1,V),T.uniform4fv(W.uOverlayColor,S),!g||YS(g,PA)?(g=PA,J=-1):(J=g.reduce(((e,t)=>e+t),0),J=J<=0?1:J),T.uniform1fv(W.uClarityKernel,g),T.uniform1f(W.uClarityKernelWeight,J),T.uniform1f(W.uColorGamma,1/v),T.uniform1f(W.uColorVignette,w),T.uniform1i(W.uAntialias,R?1:0),T.uniform4f(W.uColorOffset,p[4],p[9],p[14],p[19]),T.uniformMatrix4fv(W.uColorMatrix,!1,[p[0],p[1],p[2],p[3],p[5],p[6],p[7],p[8],p[10],p[11],p[12],p[13],p[15],p[16],p[17],p[18]]),T.uniform1f(W.uOpacity,f),T.uniform1f(W.uMaskOpacity,m),T.uniform1fv(W.uMaskBounds,y),T.uniform1fv(W.uMaskCornerRadius,$.map((e=>e*s))),T.uniform1fv(W.uMaskFeather,x.map(((e,t)=>t%2==0?e:e*s))),T.drawArrays(T.TRIANGLE_STRIP,0,4),T.disableVertexAttribArray(W.aPosition),T.disableVertexAttribArray(W.aTexCoord)},textureFilterNearest:T.NEAREST,textureFilterLinear:T.LINEAR,textureClamp:T.CLAMP_TO_EDGE,textureRepeat:T.REPEAT,textureCreate:()=>T.createTexture(),textureUpdate:(e,t,n)=>(Z.set(e,{src:t,options:n,isRotatedVideo:"VIDEO"===t.nodeName&&(t.dataset&&90==t.dataset.rotation||270==t.dataset.rotation)}),((e,t,n,r)=>(e.bindTexture(e.TEXTURE_2D,t),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),((e,t,n)=>{e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,sA(t)?e.LINEAR_MIPMAP_LINEAR:e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,n.filterParam),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,n.wrapParam),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,n.wrapParam),sA(t)&&e.generateMipmap(e.TEXTURE_2D)})(e,n,r),e.bindTexture(e.TEXTURE_2D,null),t))(T,e,t,n)),textureGetSize:e=>{const{src:t,options:n}=Z.get(e),r=Oy(t);return n.scalar?Vy(r,(e=>e/n.scalar)):r},textureDelete:Y,enablePreviewStencil:()=>{T.stencilOp(T.KEEP,T.KEEP,T.REPLACE),T.stencilFunc(T.ALWAYS,1,255),T.stencilMask(255)},applyPreviewStencil:()=>{T.stencilFunc(T.EQUAL,1,255),T.stencilMask(0)},disablePreviewStencil:A,setCanvasColor(e){w=e[0],x=e[1],$=e[2],S=n?e[3]:1,T.clear(T.COLOR_BUFFER_BIT)},resetCanvasMatrix:()=>{uA(c,0,r.width,r.height,0,-1,1)},updateCanvasMatrix(e,t,n,i,o){const a=e.width,l=e.height,u=r.width*(.5/s),d=r.height*(.5/s),h={x:u+(n.x+t.x),y:d+(n.y+t.y)},p={x:h.x-t.x,y:h.y-t.y},f=.5*a,g=.5*l;my(p,o.z,h),((e,t,n)=>{e.x=cy(e.x,t,n.x),e.y=cy(e.y,t,n.y)})(p,i,h),dA(c,(p.x-f)*s,(p.y-g)*s,0),dA(c,f*s,g*s,0),gA(c,o.z);const m=o.x>Math.PI/2;pA(c,m?Math.PI:0);const y=o.y>Math.PI/2;fA(c,y?Math.PI:0),hA(c,i),dA(c,-f*s,-g*s,0)},drawToCanvas(){T.bindFramebuffer(T.FRAMEBUFFER,null),d=c,T.viewport(0,0,T.drawingBufferWidth,T.drawingBufferHeight),T.colorMask(!0,!0,!0,!0),T.clearColor(w,x,$,S),T.clear(T.COLOR_BUFFER_BIT),v=[1,0,1,0,1,r.width,1,r.width]},drawToImageBlendBuffer(e,t){J(1,L,e,t)},drawToImageOverlayBuffer(e,t){J(2,M,e,t)},enableMask(e,t){const n=e.x*s,i=e.y*s,o=e.width*s,a=e.height*s;g=n,p=g+o,h=r.height-i,f=r.height-(i+a),m=1-t,y=[h,p,f,g]},disableMask(){g=0,p=r.width,h=r.height,f=0,m=1,y=[h,p,f,g]},resize:(t,n,o)=>{s=Math.max(1,o),l=1===s?.75:1,i.width=t,i.height=n,r.width=t*s,r.height=n*s,a=Gm(r.width,r.height),e.width=r.width,e.height=r.height,uA(c,0,r.width,r.height,0,-1,1),b=[1,0,1,0,1,i.width,1,i.width]},release(){Array.from(Z.keys()).forEach((e=>Y(e,{forceRelease:!0}))),Z.clear(),k.forEach((e=>{T.deleteTexture(e)})),k.clear(),B.destroy(),D.destroy(),U.destroy(),H.destroy(),Q.destroy(),e.width=1,e.height=1,e=void 0}}},OA=(e,t)=>{const{imageData:n,amount:r=1}=e,i=Math.round(2*Math.max(1,r)),o=Math.round(.5*i),a=n.width,s=n.height,l=new Uint8ClampedArray(a*s*4),c=n.data;let u,d,h,p,f,g=0,m=0,y=0;const b=a*s*4-4;for(h=0;h<s;h++)for(u=crypto.getRandomValues(new Uint8ClampedArray(s)),d=0;d<a;d++)p=u[h]/255,m=0,y=0,p<.5&&(m=4*(-o+Math.round(Math.random()*i))),p>.5&&(y=(-o+Math.round(Math.random()*i))*(4*a)),f=Math.min(Math.max(0,g+m+y),b),l[g]=c[f],l[g+1]=c[f+1],l[g+2]=c[f+2],l[g+3]=c[f+3],g+=4;t(null,{data:l,width:n.width,height:n.height})};const FA=[.0625,.125,.0625,.125,.25,.125,.0625,.125,.0625];function NA(e){return Math.sqrt(1- --e*e)}function DA(e){return"[object Date]"===Object.prototype.toString.call(e)}function zA(e,t){if(e===t||e!=e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const n=t.map(((t,n)=>zA(e[n],t)));return e=>n.map((t=>t(e)))}if("object"===n){if(!e||!t)throw new Error("Object cannot be null");if(DA(e)&&DA(t)){e=e.getTime();const n=(t=t.getTime())-e;return t=>new Date(e+t*n)}const n=Object.keys(t),r={};return n.forEach((n=>{r[n]=zA(e[n],t[n])})),e=>{const t={};return n.forEach((n=>{t[n]=r[n](e)})),t}}if("number"===n){const n=t-e;return t=>e+t*n}throw new Error("Cannot interpolate ".concat(n," values"))}function _A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=PS(e);let r,i=e;function o(o,a){if(null==e)return n.set(e=o),Promise.resolve();i=o;let s=r,l=!1,{delay:c=0,duration:u=400,easing:d=_x,interpolate:h=zA}=Ux(Ux({},t),a);if(0===u)return s&&(s.abort(),s=null),n.set(e=i),Promise.resolve();const p=a$()+c;let f;return r=u$((t=>{if(t<p)return!0;l||(f=h(e,o),"function"==typeof u&&(u=u(e,o)),l=!0),s&&(s.abort(),s=null);const r=t-p;return r>u?(n.set(e=o),!1):(n.set(e=f(d(r/u))),!0)})),r.promise}return{set:o,update:(t,n)=>o(t(i,e),n),subscribe:n.subscribe}}function UA(e,t,n,r){if("number"==typeof n){const i=r-n,o=(n-t)/(e.dt||1/60),a=(o+(e.opts.stiffness*i-e.opts.damping*o)*e.inv_mass)*e.dt;return Math.abs(a)<e.opts.precision&&Math.abs(i)<e.opts.precision?r:(e.settled=!1,n+a)}if(Mv(n))return n.map(((i,o)=>UA(e,t[o],n[o],r[o])));if("object"==typeof n){const i={};for(const o in n)i[o]=UA(e,t[o],n[o],r[o]);return i}throw new Error("Cannot spring ".concat(typeof n," values"))}function jA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=PS(e),{stiffness:r=.15,damping:i=.8,precision:o=.01}=t;let a,s,l,c=e,u=e,d=1,h=0,p=!1;function f(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u=t;const i=l={};if(null==e||r.hard||g.stiffness>=1&&g.damping>=1)return p=!0,a=null,c=t,n.set(e=u),Promise.resolve();if(r.soft){const e=!0===r.soft?.5:+r.soft;h=1/(60*e),d=0}if(!s){a=null,p=!1;const t={inv_mass:void 0,opts:g,settled:!0,dt:void 0};s=u$((r=>{if(null===a&&(a=r),p)return p=!1,s=null,!1;d=Math.min(d+h,1),t.inv_mass=d,t.opts=g,t.settled=!0,t.dt=60*(r-a)/1e3;const i=UA(t,c,e,u);return a=r,c=e,n.set(e=i),t.settled&&(s=null),!t.settled}))}return new Promise((e=>{s.promise.then((()=>{i===l&&e()}))}))}const g={set:f,update:(t,n)=>f(t(u,e),n),subscribe:n.subscribe,stiffness:r,damping:i,precision:o};return g}var HA=TS(!1,(e=>{const t=window.matchMedia("(prefers-reduced-motion:reduce)"),n=()=>e(t.matches);return n(),t.addListener(n),()=>t.removeListener(n)})),WA=()=>"ResizeObserver"in window;const VA=Jy(),GA=(e,t,n,r,i)=>{e.rect||(e.rect=Jy());const o=e.rect;fb(VA,t,n,r,i),hb(o,VA)||(gb(o,VA),e.dispatchEvent(new CustomEvent("measure",{detail:o})))},QA=Math.round,qA=e=>{const t=e.getBoundingClientRect();YA&&GA(e,QA(t.x),QA(t.y),QA(t.width),QA(t.height))},KA=e=>{YA&&GA(e,e.offsetLeft,e.offsetTop,e.offsetWidth,e.offsetHeight)},ZA=[];let XA,JA,YA;function eC(){ZA.length?(ZA.forEach((e=>e.measure(e))),YA=requestAnimationFrame(eC)):YA=void 0}let tC=new Map([]),nC=0,rC=0;var iC=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{observePosition:n=!1,observeViewRect:r=!1,once:i=!1,disabled:o=!1,isMeasureRoot:a=!1}=t;if(WA()&&a&&(JA||(JA=new ResizeObserver((e=>{e.forEach((e=>{tC.set(e.target,e.contentRect)}));const t=Array.from(tC.values()).some((e=>{let{width:t,height:n}=e;return t>0&&n>0}));t?t&&!1===YA&&eC():(YA&&cancelAnimationFrame(YA),YA=!1)}))),JA.observe(e),nC++),!o)return!WA()||n||r?(e.measure=r?qA:KA,ZA.push(e),void 0===YA&&(YA=requestAnimationFrame(eC)),e.measure(e),{destroy(){a&&JA&&(tC.delete(e),JA.unobserve(e),nC--,0===nC&&(JA.disconnect(),JA=void 0));const t=ZA.indexOf(e);ZA.splice(t,1),delete e.measure}}):(XA||(XA=new ResizeObserver((e=>{e.forEach((e=>{YA&&KA(e.target)}))}))),XA.observe(e),KA(e),i?XA.unobserve(e):rC++,{destroy(){a&&JA&&(tC.delete(e),JA.unobserve(e),nC--,0===nC&&(JA.disconnect(),JA=void 0)),i||(XA.unobserve(e),rC--,0===rC&&(XA.disconnect(),XA=void 0))}})},oC=e=>{let t=!1;const n={pointerdown:()=>{t=!1},keydown:()=>{t=!0},keyup:()=>{t=!1},focus:e=>{t&&(e.target.dataset.focusVisible="")},blur:e=>{delete e.target.dataset.focusVisible}};return Object.keys(n).forEach((t=>e.addEventListener(t,n[t],!0))),{destroy(){Object.keys(n).forEach((t=>e.removeEventListener(t,n[t],!0)))}}};const aC=async e=>new Promise((t=>{if("file"===e.kind)return t(e.getAsFile());e.getAsString(t)}));var sC=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e=>{e.preventDefault()},r=async n=>{n.preventDefault(),n.stopPropagation();try{const r=await(e=>new Promise(((t,n)=>{const{items:r}=e.dataTransfer;if(!r)return t([]);Promise.all(Array.from(r).map(aC)).then((e=>{t(e.filter((e=>Nv(e)&&Xb(e)||/^http/.test(e))))})).catch(n)})))(n);e.dispatchEvent(new CustomEvent("dropfiles",{detail:{event:n,resources:r},...t}))}catch(e){}};return e.addEventListener("drop",r),e.addEventListener("dragover",n),{destroy(){e.removeEventListener("drop",r),e.removeEventListener("dragover",n)}}};let lC=null;var cC=()=>{if(null===lC)if(um()){const e=fm("canvas");lC=!mA(e,{failIfMajorPerformanceCaveat:!0}),mm(e)}else lC=!1;return lC},uC=e=>e instanceof WebGLTexture,dC=e=>{let[t,n,r,i]=e;return[i.x,i.y,t.x,t.y,r.x,r.y,n.x,n.y]};function hC(e){let t,n,r,i;return{c(){t=m$("div"),n=m$("canvas"),k$(t,"class","PinturaCanvas")},m(o,a){f$(o,t,a),d$(t,n),e[37](n),r||(i=[x$(n,"measure",e[38]),i$(iC.call(null,n))],r=!0)},p:zx,i:zx,o:zx,d(n){n&&g$(t),e[37](null),r=!1,Wx(i)}}}function pC(e,t,n){let r,i,o,a,s,l,c;const u=[0,0,0,0],d=dy(),h=um()&&(e=>{const t=64,n=fm("canvas",{"data-retain":!0,width:128,height:128}),r=n.getContext("2d");return r.fillStyle="#f0f",r.fillRect(0,0,t,t),r.fillRect(t,t,t,t),n})(),p=U$();let f,{isAnimated:g}=t,{isTransparent:m}=t,{maskRect:y}=t,{maskOpacity:b=1}=t,{maskFrameOpacity:v=.95}=t,{maskMarkupOpacity:w=1}=t,{clipAnnotationsToImage:x=!0}=t,{pixelRatio:$=1}=t,{textPixelRatio:S=$}=t,{backgroundColor:k}=t,{willRender:A=Qm}=t,{didRender:C=Qm}=t,{willRequest:E}=t,{csp:T}=t,{loadImageData:P=Qm}=t,{enableGrid:R=!1}=t,{gridColors:M}=t,{gridSize:I}=t,{gridOpacity:L=0}=t,{images:B=[]}=t,{interfaceImages:O=[]}=t,{selectionColor:F}=t,N=null,D=null,z=null;const _=(e,t)=>e.set(t,{hard:!g}),U={precision:1e-4*.01};let j=0;const H=_A(void 0,{duration:0});Kx(e,H,(e=>n(36,c=e)));const W=jA(1,U);Kx(e,W,(e=>n(35,s=e)));const V=jA(1,U);Kx(e,V,(e=>n(51,o=e)));const G=PS();Kx(e,G,(e=>n(53,l=e)));const Q=PS();Kx(e,Q,(e=>n(52,a=e)));const q={};let K;const Z=()=>{cancelAnimationFrame(K),K=requestAnimationFrame((()=>{fe=!0,ke=0,i()}))},X=new Map([]),J=new Map([]),Y=(e,t)=>({filterParam:"pixelated"===e?N.textureFilterNearest:N.textureFilterLinear,wrapParam:"repeat"===t?N.textureRepeat:N.textureClamp}),ee=(e,t,n)=>{if(!X.has(e)){X.set(e,e);const i=Y(t,n);if(!Em(r=e)&&(sv(r)||ym(r)||yx(r)||Yb(r))){const t=N.textureCreate();N.textureUpdate(t,e,i),X.set(e,t)}else P(e).then((t=>{if(!N||!t)return;const n=N.textureCreate();N.textureUpdate(n,t,i),X.set(e,n),Z()})).catch((t=>{X.set(e,t)}))}var r,i;if(Yb(e)&&((i=e).currentTime>0&&!i.paused&&!i.ended&&i.readyState>2||"true"===e.dataset.redraw)){const r=X.get(e),i=Y(t,n);return N.textureUpdate(r,e,i),e.dataset.redraw=!1,r}return X.get(e)},te=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.id||e.id;if(e.width&&e.width<1||e.height&&e.height<1||!e.text.length)return void J.delete(n);let{text:r,textAlign:i,fontFamily:o,fontSize:a=16,fontWeight:s,fontVariant:l,fontStyle:c,letterSpacing:u,lineHeight:d=a,width:h,height:p}=e,{outline:f=0,blur:g=0,paddingTop:m=0,paddingRight:y=0,paddingBottom:b=0,paddingLeft:v=0}=t;h=Tv(h)?Math.floor(h):h,p=Tv(p)?Math.floor(p):p;const{textSize:w,signature:x}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,{width:n=0,height:r="auto",fontSize:i,fontFamily:o,lineHeight:a,fontWeight:s,fontStyle:l,fontVariant:c,letterSpacing:u}=t;const d=_v({text:e,fontFamily:o,fontWeight:s,fontStyle:l,fontVariant:c,fontSize:i,lineHeight:a,letterSpacing:u,width:n,height:r});let h=qv.get(d);if(h)return h;let p=1;i>1e3&&Om()&&(p=i/1e3,i=1e3,a*=p);const f=Gb(fm("pre",{contenteditable:"true",spellcheck:"false",style:"".concat(Zv).concat(Gv({fontFamily:o,fontWeight:s,fontStyle:l,fontVariant:c,fontSize:i,letterSpacing:u,lineHeight:a}),";").concat(Qv(e,t),'"'),innerHTML:e})),g=f.getBoundingClientRect();return h={signature:Kv(f).flat().map((e=>e.text)).join("_;_"),textSize:Vy(Oy(g),(e=>Math.ceil(e*p)))},qv.set(d,h),f.remove(),h}(r,{...e,width:h,height:void 0}),$=_v({text:r,textAlign:i,fontFamily:o,fontSize:a,fontWeight:s,fontVariant:l,fontStyle:c,lineHeight:d,letterSpacing:u,outline:f,blur:g,signature:x});if(!X.has($)){X.set($,r);const e=Math.ceil(w.width),t=Math.ceil(w.height);if(0===e||0===t)return;const x=kA(),k=Math.min(1,(x-(v+y)*S)/(e*S),(x-(m+b)*S)/(t*S));lw(r,{fontSize:a,fontFamily:o,fontWeight:s,fontVariant:l,fontStyle:c,letterSpacing:u,textAlign:i,lineHeight:d,width:h,height:p,imageWidth:e,imageHeight:t,paddingLeft:v,paddingTop:m,paddingRight:y,paddingBottom:b,pixelRatio:S*k,willRequest:E,outline:f,blur:g,styleNonce:T.styleNonce,color:[1,0,1]}).then((e=>{if(!N)return;const t=N.textureCreate();N.textureUpdate(t,e,{filterParam:N.textureFilterLinear,wrapParam:N.textureClamp,scalar:k}),X.set($,t),J.set(n,t),Z()})).catch(console.error)}const k=X.get($);return uC(k)?k:J.get(n)},ne=new Map,re=e=>{let{texture:t,size:n,origin:r,translation:i,rotation:o,scale:a,colorMatrix:s,opacity:l,convolutionMatrix:c,gamma:u,vignette:d,maskFeather:h,maskCornerRadius:p,overlayColor:f,enableOverlay:g,enableManipulation:m,enableAntialiasing:y}=e,b=0,v=0;if(1===$){const e=Math.abs(1-a)<Number.EPSILON;b=e&&D%2!=0?.5:0,v=e&&z%2!=0?.5:0}return N.drawImage(t,n,r.x,r.y,i.x+b,i.y+v,o.x,o.y,o.z,a,s,qS(l,0,1),c,u,d,h,p,f,g,m,y),t},ie=(e,t,n)=>{const r=ab(t),i=ab(e),o=r.x-i.x,a=r.y-i.y,s=my(r,n,i);return{x:s.x-i.x-o,y:s.y-i.y-a}},oe=(e,t,n)=>{let r,i;const o=Gm(n.width,n.height);if("repeat"===e.backgroundRepeat&&(r={...n},i={x:0,y:0}),"contain"===e.backgroundSize){const n=wb(t,o,t);r=Fy(n),i=e.backgroundPosition?e.backgroundPosition:hy(.5*(t.width-r.width),.5*(t.height-r.height))}else if("cover"===e.backgroundSize){const n=vb(t,o,t);r=Fy(n),e.backgroundPosition?i=e.backgroundPosition:(i=hy(n.x,n.y),i=hy(.5*(t.width-r.width),.5*(t.height-r.height)))}else e.backgroundSize?(r=e.backgroundSize,i=e.backgroundPosition||{x:0,y:0}):e.backgroundPosition&&(r={...n},i=e.backgroundPosition);return{backgroundSize:r,backgroundPosition:i}},ae=function(){let e=arguments.length>1?arguments[1]:void 0;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((t=>{let n=(e=>{let t;return e.backgroundImage?t=ee(e.backgroundImage,e.backgroundImageRendering,"repeat"===e.backgroundRepeat?"repeat":void 0):e.bitmap&&e.points&&(t=(e=>{const{id:t,points:n,strokeWidth:r,strokeCap:i,strokeJoin:o,strokeColor:a,strokeDash:s}=e;let l=X.get(t),c=ne.get(t);const u=_v({points:n.map((e=>"".concat(e.x,",").concat(e.y))).join(","),strokeWidth:r,strokeCap:i,strokeJoin:o,strokeColor:a,strokeDash:(s||[]).join(",")});if(c){const{hash:e}=c;if(X.has(t)){if(u===e)return X.get(t)}else c=void 0}if(!c){const n=fm("canvas",{width:1,height:1});c={canvas:n,hash:void 0},ne.set(e.id,c),l=N.textureCreate(),N.textureUpdate(l,n,{filterParam:N.textureFilterLinear,wrapParam:N.textureClamp}),X.set(t,l)}const{canvas:d}=c,h=Math.ceil(e.strokeWidth),p=nb(n),f=Math.floor(p.x)-.5*h,g=Math.floor(p.y)-.5*h,m=Math.ceil(p.width+h),y=Math.ceil(p.height+h);d.width=Math.max(m,1),d.height=Math.max(y,1);const b=d.getContext("2d");return b.clearRect(0,0,d.width,d.height),m>=1&&y>=1&&(b.translate(-f,-g),Mx(b,e),b.resetTransform()),N.textureUpdate(l,d,{filterParam:N.textureFilterLinear,wrapParam:N.textureClamp}),ne.set(t,{canvas:d,hash:u}),X.get(t)})(e)),t})(t);const r="complete"!==t.status&&("loading"===t.status||t.backgroundImage&&n===t.backgroundImage);r&&Z();const i="error"===t.status||t.backgroundImage&&n instanceof Error;let o=uC(n)?n:void 0;const a=t._scale||1,s=t._translate||d,l=t.strokeWidth&&t.strokeWidth*a,c=t.cornerRadius?((e,t)=>[e,e,e,e].map((e=>e*t)))(t.cornerRadius,a):u,h=!!t.width,p=Em(t.text),f=Mv(t.points),g=ww(t);if(f){const r=t.points.map((e=>hy(e.x*a+s.x,e.y*a+s.y)));if(t.bitmap){n&&e.push(n);const i=nb(r),s=Math.ceil(t.strokeWidth*a);N.drawRect({x:Math.floor(i.x)-.5*s,y:Math.floor(i.y)-.5*s,width:Math.ceil(i.width+s),height:Math.ceil(i.height+s)},t.rotation,t.flipX,t.flipY,[0,0,0,0],void 0,o,void 0,void 0,void 0,void 0,void 0,void 0,t.opacity,void 0,void 0,!1,!1)}else N.drawPath(r,t.rotation,t.flipX,t.flipY,l,t.strokeColor,t.pathClose,t.backgroundColor,t.opacity)}else if(g){let c=t.x,u=t.y;c*=a,u*=a,c+=s.x,u+=s.y;const d=rb({x:c,y:u,rx:t.rx*a,ry:t.ry*a}),h=hy(c,u),p=o&&N.textureGetSize(o);let f,g;if(p&&t.backgroundImage&&(t.backgroundSize||t.backgroundPosition||t.backgroundRepeat)){const e=oe(t,d,p);f=e.backgroundSize,g=e.backgroundPosition}N.drawEllipse(h,t.rx*a,t.ry*a,t.rotation,t.flipX,t.flipY,t.backgroundColor,o,f,g,t.backgroundCorners&&dC(t.backgroundCorners),l,t.strokeColor,t.opacity,t.inverted),n&&e.push(n),(r||i)&&(t.backgroundColor||t.strokeColor&&t.strokeWidth||N.drawEllipse(h,t.rx*a,t.ry*a,t.rotation,t.flipX,t.flipY,i?[1,0,0,.25*t.opacity]:[0,0,0,.25*t.opacity]),i&&he(h),r&&de(h))}else if(p){const{fontSize:n=16}=t,r=n>1e3&&Om()?n/1e3:1,i=Math.max(16,Math.ceil(n/r*.25)),o=Math.abs(t.rotation)>0,d=Yv(t.text,t),h={x:t.x*a+s.x,y:t.y*a+s.y,width:d.width*a,height:d.height*a},p=!!t.height;(t.backgroundColor||t.strokeColor)&&N.drawRect(h,t.rotation,t.flipX,t.flipY,c,t.backgroundColor,void 0,void 0,void 0,!1,void 0,l,t.strokeColor,t.opacity,void 0,void 0,void 0,t.inverted);const{textShadowX:f,textShadowY:g,textShadowBlur:m}=t;if(f||g||m){const n=Math.ceil(.5*m),l=Math.max(i,p?0:n),c=te(t,{id:t.id+"shadow",blur:m,paddingTop:l,paddingRight:l,paddingBottom:l,paddingLeft:l});if(c&&!t._prerender){e.push(c);const n=N.textureGetSize(c),l={x:0,y:0},u={width:n.width/S*a,height:n.height/S*a},d=i*a/r;let m;if(p)m={...h},l.x=f-d,l.y=g-d;else if(m={x:t.x*a+s.x-d,y:t.y*a+s.y-d,width:u.width,height:u.height},o){const e=ie(h,m,t.rotation);m.x+=e.x,m.y+=e.y;const n=my(hy(f,g),t.rotation);m.x+=n.x,m.y+=n.y}else m.x+=f,m.y+=g;N.drawRect(m,t.rotation,t.flipX,t.flipY,[0,0,0,0],void 0,c,u,l,!1,void 0,void 0,void 0,t.opacity,void 0,0,t.textShadowColor)}}if(t.textOutlineWidth){const n=Math.ceil(.5*t.textOutlineWidth),l=i+n,c=te(t,{id:t.id+"outline",outline:t.textOutlineWidth,paddingTop:l,paddingRight:l,paddingBottom:l,paddingLeft:l});if(c&&!t._prerender){e.push(c);const l=N.textureGetSize(c),u={x:0,y:0},p={width:l.width/S*a,height:l.height/S*a},f=(i+n)*a/r,g={x:t.x*a+s.x-f,y:t.y*a+s.y-f,width:p.width,height:t.height?d.height+f:p.height};if(o){const e=ie(h,g,t.rotation);g.x+=e.x,g.y+=e.y}N.drawRect(g,t.rotation,t.flipX,t.flipY,[0,0,0,0],void 0,c,p,u,!1,void 0,void 0,void 0,t.opacity,void 0,0,t.textOutlineColor)}}const y=te(t,{id:t.id+"text",paddingTop:i,paddingRight:i,paddingBottom:i,paddingLeft:i});if(y&&!t._prerender){e.push(y);const n=N.textureGetSize(y),l={x:0,y:0},c={width:n.width/S*a,height:n.height/S*a},p=i*a/r,f={x:t.x*a+s.x-p,y:t.y*a+s.y-p,width:c.width,height:t.height?d.height+p:c.height};if(o){const e=ie(h,f,t.rotation);f.x+=e.x,f.y+=e.y}const g=t.color||[0,0,0];t._prerender&&(g[3]=0),N.drawRect(f,t.rotation,t.flipX,t.flipY,u,!1,y,c,l,!1,!1,void 0,void 0,t.opacity,void 0,t.feather,g,t.inverted)}}else if(h){n&&e.push(n);const u=tb(t);let d,h;a&&s&&(u.x*=a,u.y*=a,u.x+=s.x,u.y+=s.y,u.width*=a,u.height*=a);const{backgroundRepeat:p="no-repeat"}=t,f=o&&N.textureGetSize(o);if(f&&t.backgroundImage&&(t.backgroundSize||t.backgroundPosition||t.backgroundRepeat)){const e=oe(t,u,f);d=e.backgroundSize,h=e.backgroundPosition}if(N.drawRect(u,t.rotation,t.flipX,t.flipY,c,t.backgroundColor,o,d,h,"repeat"===p,t.backgroundCorners&&dC(t.backgroundCorners),l,t.strokeColor,t.opacity,void 0,t.feather,t.fillColor,t.inverted),r||i){t.backgroundColor&&0!==t.backgroundColor[3]||t.strokeColor&&t.strokeWidth||N.drawRect(u,t.rotation,t.flipX,t.flipY,c,i?[1,.2549,.2118,.25*t.opacity]:[0,0,0,.25*t.opacity]);const e=ab(u);i&&he(e),r&&de(e)}}else n&&e.push(n)}))};let se=0;const le=[{x:-5,y:-5},{x:5,y:5}],ce=[{x:5,y:-5},{x:-5,y:5}],ue=Lb({x:0,y:0},10,10,0,!1,!1,16);ue.length=9;const de=e=>{se=Date.now()/50,N.drawEllipse(e,15,15,0,!1,!1,[0,0,0,.5]);const t=Iy(ue.map((t=>({x:t.x+e.x,y:t.y+e.y}))),se,e.x,e.y);N.drawPath(t,0,!1,!1,2,[1,1,1])},he=e=>{N.drawEllipse(e,13,13,0,!1,!1,[1,.2549,.2118,.75]);const t=le.map((t=>({x:t.x+e.x,y:t.y+e.y}))),n=ce.map((t=>({x:t.x+e.x,y:t.y+e.y})));N.drawPath(t,0,!1,!1,3,[1,1,1]),N.drawPath(n,0,!1,!1,3,[1,1,1])},pe=(e,t,n,r,i,o)=>N.drawRect(t,0,!1,!1,u,u,e,r,n,!0,void 0,0,void 0,o,void 0,void 0,i);let fe=!1,ge=!0,me=!1;const ye=[],be=[],ve=[],we=e=>!e.aboveFrame,xe=e=>e.aboveFrame,$e=()=>{ve.length=0;const e=B[0],{manipulationShapes:t,manipulationShapesDirty:n,annotationShapes:r,annotationShapesDirty:i,interfaceShapes:d,decorationShapes:p,frameShapes:f,selectionShapes:g}=A({opacity:e.opacity,rotation:e.rotation,scale:e.scale,images:B,size:zy(D,z),backgroundColor:[...c],selectionRect:l}),b=[...c],v=l,$=qS(s,0,1),k=a,E=Math.abs(e.rotation.x/Math.PI*2-1),T=Math.abs(e.rotation.y/Math.PI*2-1),P=E<.99||T<.99,_={...e.size},U=e.backgroundColor,j=e.backgroundImage,H=t.length>0,W=r.length>0,V=r.filter(xe).length>0,G=p.filter(xe).length>0,Q=U[3]>0,K=!!x&&w>=1;if($<1&&Q){const e=b[0],t=b[1],n=b[2],r=1-$,i=U[0]*r,o=U[1]*r,a=U[2]*r,s=1-r;b[0]=i+e*s,b[1]=o+t*s,b[2]=a+n*s,b[3]=1}if(N.setCanvasColor(m?u:b),H&&(n||fe)?(N.disableMask(),N.drawToImageBlendBuffer(_),ye.length=0,ae(t,ye)):H||(ye.length=0),ve.push(...ye),ge&&(N.drawToImageOverlayBuffer(_,S),ge=!1),P){if(W&&(i||fe)||!me){N.disableMask(),N.drawToImageOverlayBuffer(_,S),be.length=0;const e=V?r.filter(we):r;ae(e,be)}else W||(be.length=0);me=!0}else me=!1;if(N.drawToCanvas(),N.enableMask(v,$),R&&I>=1&&2===M.length&&L&&((e,t,n,r,i)=>{const o=zy(t,t),a=ee(h,"pixelated","repeat"),s=hy(-e.x%t,-e.y%t),l=hy(s.x+.5*o.width,s.y);pe(a,e,s,o,n,i),pe(a,e,l,o,r,i)})(v,I,M[0],M[1],L),Q&&N.drawRect(v,0,!1,!1,u,U),j){N.enableMask(v,1);const e=Math.max(y.width/j.width,y.height/j.height),t=j.width*e,n=j.height*e,r={x:y.x+.5*y.width-.5*t,y:y.y+.5*y.height-.5*n,width:t,height:n};N.drawRect(r,0,!1,!1,u,u,ee(j,"linear")),N.enableMask(v,$)}if(K&&N.enablePreviewStencil(),ve.push(...[...B].reverse().map((e=>re({...e,texture:ee(e.data),enableOverlay:P&&W,enableManipulation:H,enableAntialiasing:!0,mask:v,maskOpacity:$,overlayColor:k})))),N.enableMask(v,w),!P){K&&N.applyPreviewStencil(),N.resetCanvasMatrix(),N.updateCanvasMatrix(_,e.origin,e.translation,e.scale,e.rotation),be.length=0;const t=V?r.filter(we):r;ae(t,be),K&&N.disablePreviewStencil()}if(ve.push(...be),N.resetCanvasMatrix(),N.enableMask(v,w),ae(G?p.filter(we):p,ve),f.length){N.enableMask(v,1);const e=f.filter((e=>!e.expandsCanvas)),t=f.filter((e=>e.expandsCanvas));e.length&&ae(e,ve),t.length&&(N.enableMask({x:v.x+.5,y:v.y+.5,width:v.width-1,height:v.height-1},o),ae(t,ve))}if(V&&(N.resetCanvasMatrix(),N.updateCanvasMatrix(_,e.origin,e.translation,e.scale,e.rotation),ae(r.filter(xe),ve),N.resetCanvasMatrix()),G&&(N.resetCanvasMatrix(),ae(p.filter(xe),ve),N.resetCanvasMatrix()),F&&g.length&&!P){N.resetCanvasMatrix(),N.updateCanvasMatrix(_,e.origin,e.translation,e.scale,e.rotation);const t=[...F];t[3]=.5;const n=[{id:"selection",color:t,actions:[...g]}].map((e=>((e,t)=>{let n=q[e.id];const r=Math.min(1,2048/t.width);let i=n?n.element:fm("canvas",{width:t.width*r,height:t.height*r,"data-retain":!0});if(!n||((e,t)=>{if(e.total!==t.length)return!0;const n=e.last,r=t[t.length-1];return n.drawMode!==r.drawMode||!(!vw(n)||vw(r)&&hb(n,r))||!(!ww(n)||ww(r)&&n.x===r.x&&n.y===r.y&&n.rx===r.rx&&n.ry===r.ry)||!(!$w(n)||$w(r)&&r.points.length===n.points.length)})(n,e.actions)){i=i.cloneNode(),((e,t,n)=>{const{selectionColor:r=[1,1,1],scalar:i=1}=n||{};let o=!1;for(const a of t){const t="subtract"===a.drawMode;if(t&&!o)continue;e.globalCompositeOperation=t?"destination-out":"source-over",e.save(),e.beginPath();const n=mx(a);yv(e,i,i),mv(e,a.rotation,n),Ix(e,a.flipX,a.flipY,n),a.width?Cx(e,{...a,backgroundColor:r}):a.points?Mx(e,Object.assign({},a,a.pathClose?{backgroundColor:r,strokeColor:[0,0,0,0]}:{strokeColor:r,strokeJoin:"round",strokeCap:"round"})):a.rx&&Ex(e,{...a,backgroundColor:r,strokeColor:[0,0,0,0],strokeJoin:"round",strokeCap:"round"}),e.restore(),o=!0}})(i.getContext("2d"),e.actions,{selectionColor:[1,0,1],scalar:r});const t=e.actions.length;q[e.id]={total:t,last:{...e.actions[t-1]},element:i}}return{x:0,y:0,...t,fillColor:e.color||[1,1,1],backgroundImage:i}})(e,_)));ae(n,ve),N.resetCanvasMatrix()}N.disableMask(),ae(d,ve),O.forEach((e=>{if(N.enableMask(e.mask,e.maskOpacity),e.backgroundColor){const t=j&&vb({...e.mask},j.width/j.height),n=j&&ee(j,"linear");N.drawRect(e.mask,0,!1,!1,e.maskCornerRadius,e.backgroundColor,n,t,t,void 0,void 0,void 0,void 0,e.opacity,e.maskFeather),n&&ve.push(n)}const t=re({...e,texture:ee(e.data),enableAntialiasing:!1,translation:{x:e.translation.x+e.offset.x-.5*D,y:e.translation.y+e.offset.y-.5*z}});ve.push(t)})),N.disableMask(),(e=>{X.forEach(((t,n)=>{!e.find((e=>e===t))&&uC(t)&&(Array.from(J.values()).includes(t)||(X.delete(n),N.textureDelete(t)))}))})(ve),C(),fe=!1};let Se,ke=0;const Ae=()=>{clearTimeout(Se);const e=Date.now();e-ke<48?Se=setTimeout(Ae,48):(ke=e,$e())};return z$((()=>i())),D$((()=>n(31,N=BA(f,{alpha:m})))),_$((()=>{N&&(ne.forEach((e=>{let{canvas:t}=e;return mm(t)})),ne.clear(),N.release(),n(31,N=void 0),n(0,f=void 0))})),e.$$set=e=>{"isAnimated"in e&&n(9,g=e.isAnimated),"isTransparent"in e&&n(10,m=e.isTransparent),"maskRect"in e&&n(11,y=e.maskRect),"maskOpacity"in e&&n(12,b=e.maskOpacity),"maskFrameOpacity"in e&&n(13,v=e.maskFrameOpacity),"maskMarkupOpacity"in e&&n(14,w=e.maskMarkupOpacity),"clipAnnotationsToImage"in e&&n(15,x=e.clipAnnotationsToImage),"pixelRatio"in e&&n(16,$=e.pixelRatio),"textPixelRatio"in e&&n(17,S=e.textPixelRatio),"backgroundColor"in e&&n(18,k=e.backgroundColor),"willRender"in e&&n(19,A=e.willRender),"didRender"in e&&n(20,C=e.didRender),"willRequest"in e&&n(21,E=e.willRequest),"csp"in e&&n(22,T=e.csp),"loadImageData"in e&&n(23,P=e.loadImageData),"enableGrid"in e&&n(24,R=e.enableGrid),"gridColors"in e&&n(25,M=e.gridColors),"gridSize"in e&&n(26,I=e.gridSize),"gridOpacity"in e&&n(27,L=e.gridOpacity),"images"in e&&n(28,B=e.images),"interfaceImages"in e&&n(29,O=e.interfaceImages),"selectionColor"in e&&n(30,F=e.selectionColor)},e.$$.update=()=>{if(1&e.$$.dirty[0]&&f){const e=getComputedStyle(f).getPropertyValue("--color-transition-duration");n(32,j=(e=>{let t=parseFloat(e);return/^[0-9]+s$/.test(e)?1e3*t:t})(e))}262656&e.$$.dirty[0]|2&e.$$.dirty[1]&&k&&H.set(k,{duration:g?j:0}),4096&e.$$.dirty[0]&&_(W,Tv(b)?b:1),8192&e.$$.dirty[0]&&_(V,Tv(v)?v:1),2048&e.$$.dirty[0]&&y&&G.set(y),48&e.$$.dirty[1]&&c&&Q.set([c[0],c[1],c[2],qS(s,0,1)]),268435462&e.$$.dirty[0]|1&e.$$.dirty[1]&&n(34,r=!!(N&&D&&z&&B.length)),65542&e.$$.dirty[0]|1&e.$$.dirty[1]&&D&&z&&N&&(ke=0,N.resize(D,z,$)),8&e.$$.dirty[1]&&n(33,i=r?cC()?Ae:$e:om),12&e.$$.dirty[1]&&r&&i&&i()},[f,D,z,p,H,W,V,G,Q,g,m,y,b,v,w,x,$,S,k,A,C,E,T,P,R,M,I,L,B,O,F,N,j,i,r,s,c,function(e){G$[e?"unshift":"push"]((()=>{f=e,n(0,f)}))},e=>{n(1,D=e.detail.width),n(2,z=e.detail.height),p("measure",{width:D,height:z})}]}class fC extends CS{constructor(e){super(),AS(this,e,pC,hC,Gx,{isAnimated:9,isTransparent:10,maskRect:11,maskOpacity:12,maskFrameOpacity:13,maskMarkupOpacity:14,clipAnnotationsToImage:15,pixelRatio:16,textPixelRatio:17,backgroundColor:18,willRender:19,didRender:20,willRequest:21,csp:22,loadImageData:23,enableGrid:24,gridColors:25,gridSize:26,gridOpacity:27,images:28,interfaceImages:29,selectionColor:30},null,[-1,-1,-1])}}var gC=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Boolean,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ";return e.filter(t).join(n)};function mC(e,t,n){const r=e.slice();return r[17]=t[n],r}const yC=e=>({tab:4&e}),bC=e=>({tab:e[17]});function vC(e){let t,n,r,i=[],o=new Map,a=e[2];const s=e=>e[17].id;for(let l=0;l<a.length;l+=1){let t=mC(e,a,l),n=s(t);o.set(n,i[l]=wC(n,t))}return{c(){t=m$("ul");for(let e=0;e<i.length;e+=1)i[e].c();k$(t,"class",n=gC(["PinturaTabList",e[0]])),k$(t,"role","tablist"),k$(t,"data-layout",e[1])},m(n,o){f$(n,t,o);for(let e=0;e<i.length;e+=1)i[e].m(t,null);e[14](t),r=!0},p(e,l){1124&l&&(a=e[2],cS(),i=bS(i,l,s,1,e,a,o,t,yS,wC,null,mC),uS()),(!r||1&l&&n!==(n=gC(["PinturaTabList",e[0]])))&&k$(t,"class",n),(!r||2&l)&&k$(t,"data-layout",e[1])},i(e){if(!r){for(let e=0;e<a.length;e+=1)dS(i[e]);r=!0}},o(e){for(let t=0;t<i.length;t+=1)hS(i[t]);r=!1},d(n){n&&g$(t);for(let e=0;e<i.length;e+=1)i[e].d();e[14](null)}}}function wC(e,t){let n,r,i,o,a,s,l,c,u,d,h;const p=t[11].default,f=Zx(p,t,t[10],bC);function g(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t[12](t[17],...n)}function m(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t[13](t[17],...n)}return{key:e,first:null,c(){n=m$("li"),r=m$("button"),f&&f.c(),a=v$(),k$(r,"type","button"),k$(r,"title",i=t[17].label),r.disabled=o=t[17].disabled,k$(n,"role","tab"),k$(n,"aria-controls",s=t[17].href.substring(1)),k$(n,"id",l=t[17].tabId),k$(n,"aria-selected",c=t[17].selected),this.first=n},m(e,t){f$(e,n,t),d$(n,r),f&&f.m(r,null),d$(n,a),u=!0,d||(h=[x$(r,"keydown",g),x$(r,"click",m)],d=!0)},p(e,a){t=e,f&&f.p&&(!u||1028&a)&&Yx(f,p,t,t[10],u?Jx(p,t[10],a,yC):e$(t[10]),bC),(!u||4&a&&i!==(i=t[17].label))&&k$(r,"title",i),(!u||4&a&&o!==(o=t[17].disabled))&&(r.disabled=o),(!u||4&a&&s!==(s=t[17].href.substring(1)))&&k$(n,"aria-controls",s),(!u||4&a&&l!==(l=t[17].tabId))&&k$(n,"id",l),(!u||4&a&&c!==(c=t[17].selected))&&k$(n,"aria-selected",c)},i(e){u||(dS(f,e),u=!0)},o(e){hS(f,e),u=!1},d(e){e&&g$(n),f&&f.d(e),d=!1,Wx(h)}}}function xC(e){let t,n,r=e[4]&&vC(e);return{c(){r&&r.c(),t=w$()},m(e,i){r&&r.m(e,i),f$(e,t,i),n=!0},p(e,n){let[i]=n;e[4]?r?(r.p(e,i),16&i&&dS(r,1)):(r=vC(e),r.c(),dS(r,1),r.m(t.parentNode,t)):r&&(cS(),hS(r,1,1,(()=>{r=null})),uS())},i(e){n||(dS(r),n=!0)},o(e){hS(r),n=!1},d(e){r&&r.d(e),e&&g$(t)}}}function $C(e,t,n){let r,i,o,{$$slots:a={},$$scope:s}=t,{class:l}=t,{name:c}=t,{selected:u}=t,{tabs:d=[]}=t,{layout:h}=t;const p=U$(),f=e=>{const t=o.querySelectorAll('[role="tab"] button')[e];t&&t.focus()},g=(e,t)=>{e.preventDefault(),e.stopPropagation(),p("select",t)},m=(e,t)=>{let{key:n}=e;if(!/arrow/i.test(n))return;const r=d.findIndex((e=>e.id===t));return/right|down/i.test(n)?f(r<d.length-1?r+1:0):/left|up/i.test(n)?f(r>0?r-1:d.length-1):void 0};return e.$$set=e=>{"class"in e&&n(0,l=e.class),"name"in e&&n(7,c=e.name),"selected"in e&&n(8,u=e.selected),"tabs"in e&&n(9,d=e.tabs),"layout"in e&&n(1,h=e.layout),"$$scope"in e&&n(10,s=e.$$scope)},e.$$.update=()=>{896&e.$$.dirty&&n(2,r=d.map((e=>{const t=e.id===u;return{...e,tabId:"tab-".concat(c,"-").concat(e.id),href:"#panel-".concat(c,"-").concat(e.id),selected:t}}))),4&e.$$.dirty&&n(4,i=r.length>1)},[l,h,r,o,i,g,m,c,u,d,s,a,(e,t)=>m(t,e.id),(e,t)=>g(t,e.id),function(e){G$[e?"unshift":"push"]((()=>{o=e,n(3,o)}))}]}class SC extends CS{constructor(e){super(),AS(this,e,$C,xC,Gx,{class:0,name:7,selected:8,tabs:9,layout:1})}}const kC=e=>({panel:16&e}),AC=e=>({panel:e[4][0].id,panelIsActive:!0});function CC(e,t,n){const r=e.slice();return r[14]=t[n].id,r[15]=t[n].shouldDraw,r[16]=t[n].panelId,r[17]=t[n].tabindex,r[18]=t[n].labelledBy,r[19]=t[n].isActive,r[20]=t[n].hidden,r[3]=t[n].visible,r}const EC=e=>({panel:16&e,panelIsActive:16&e}),TC=e=>({panel:e[14],panelIsActive:e[19]});function PC(e){let t,n,r,i,o,a;const s=e[11].default,l=Zx(s,e,e[10],AC);return{c(){t=m$("div"),n=m$("div"),l&&l.c(),k$(n,"class",r=gC([e[1]])),k$(t,"class",e[0]),k$(t,"style",e[2])},m(r,s){f$(r,t,s),d$(t,n),l&&l.m(n,null),i=!0,o||(a=[x$(t,"measure",e[13]),i$(iC.call(null,t))],o=!0)},p(e,o){l&&l.p&&(!i||1040&o)&&Yx(l,s,e,e[10],i?Jx(s,e[10],o,kC):e$(e[10]),AC),(!i||2&o&&r!==(r=gC([e[1]])))&&k$(n,"class",r),(!i||1&o)&&k$(t,"class",e[0]),(!i||4&o)&&k$(t,"style",e[2])},i(e){i||(dS(l,e),i=!0)},o(e){hS(l,e),i=!1},d(e){e&&g$(t),l&&l.d(e),o=!1,Wx(a)}}}function RC(e){let t,n,r,i,o,a=[],s=new Map,l=e[4];const c=e=>e[14];for(let u=0;u<l.length;u+=1){let t=CC(e,l,u),n=c(t);s.set(n,a[u]=IC(n,t))}return{c(){t=m$("div");for(let e=0;e<a.length;e+=1)a[e].c();k$(t,"class",n=gC(["PinturaTabPanels",e[0]])),k$(t,"style",e[2])},m(n,s){f$(n,t,s);for(let e=0;e<a.length;e+=1)a[e].m(t,null);r=!0,i||(o=[x$(t,"measure",e[12]),i$(iC.call(null,t,{observePosition:!0}))],i=!0)},p(e,i){1042&i&&(l=e[4],cS(),a=bS(a,i,c,1,e,l,s,t,yS,IC,null,CC),uS()),(!r||1&i&&n!==(n=gC(["PinturaTabPanels",e[0]])))&&k$(t,"class",n),(!r||4&i)&&k$(t,"style",e[2])},i(e){if(!r){for(let e=0;e<l.length;e+=1)dS(a[e]);r=!0}},o(e){for(let t=0;t<a.length;t+=1)hS(a[t]);r=!1},d(e){e&&g$(t);for(let t=0;t<a.length;t+=1)a[t].d();i=!1,Wx(o)}}}function MC(e){let t;const n=e[11].default,r=Zx(n,e,e[10],TC);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,i){r&&r.p&&(!t||1040&i)&&Yx(r,n,e,e[10],t?Jx(n,e[10],i,EC):e$(e[10]),TC)},i(e){t||(dS(r,e),t=!0)},o(e){hS(r,e),t=!1},d(e){r&&r.d(e)}}}function IC(e,t){let n,r,i,o,a,s,l,c,u,d=t[15]&&MC(t);return{key:e,first:null,c(){n=m$("div"),d&&d.c(),r=v$(),k$(n,"class",i=gC(["PinturaTabPanel",t[1]])),n.hidden=o=t[20],k$(n,"id",a=t[16]),k$(n,"tabindex",s=t[17]),k$(n,"aria-labelledby",l=t[18]),k$(n,"data-inert",c=!t[3]),this.first=n},m(e,t){f$(e,n,t),d&&d.m(n,null),d$(n,r),u=!0},p(e,h){(t=e)[15]?d?(d.p(t,h),16&h&&dS(d,1)):(d=MC(t),d.c(),dS(d,1),d.m(n,r)):d&&(cS(),hS(d,1,1,(()=>{d=null})),uS()),(!u||2&h&&i!==(i=gC(["PinturaTabPanel",t[1]])))&&k$(n,"class",i),(!u||16&h&&o!==(o=t[20]))&&(n.hidden=o),(!u||16&h&&a!==(a=t[16]))&&k$(n,"id",a),(!u||16&h&&s!==(s=t[17]))&&k$(n,"tabindex",s),(!u||16&h&&l!==(l=t[18]))&&k$(n,"aria-labelledby",l),(!u||16&h&&c!==(c=!t[3]))&&k$(n,"data-inert",c)},i(e){u||(dS(d),u=!0)},o(e){hS(d),u=!1},d(e){e&&g$(n),d&&d.d()}}}function LC(e){let t,n,r,i;const o=[RC,PC],a=[];function s(e,t){return e[5]?0:1}return t=s(e),n=a[t]=o[t](e),{c(){n.c(),r=w$()},m(e,n){a[t].m(e,n),f$(e,r,n),i=!0},p(e,i){let[l]=i,c=t;t=s(e),t===c?a[t].p(e,l):(cS(),hS(a[c],1,1,(()=>{a[c]=null})),uS(),n=a[t],n?n.p(e,l):(n=a[t]=o[t](e),n.c()),dS(n,1),n.m(r.parentNode,r))},i(e){i||(dS(n),i=!0)},o(e){hS(n),i=!1},d(e){a[t].d(e),e&&g$(r)}}}function BC(e,t,n){let r,i,{$$slots:o={},$$scope:a}=t,{class:s}=t,{name:l}=t,{selected:c}=t,{panelClass:u}=t,{panels:d=[]}=t,{visible:h}=t,{style:p}=t;const f={};return e.$$set=e=>{"class"in e&&n(0,s=e.class),"name"in e&&n(6,l=e.name),"selected"in e&&n(7,c=e.selected),"panelClass"in e&&n(1,u=e.panelClass),"panels"in e&&n(8,d=e.panels),"visible"in e&&n(3,h=e.visible),"style"in e&&n(2,p=e.style),"$$scope"in e&&n(10,a=e.$$scope)},e.$$.update=()=>{968&e.$$.dirty&&n(4,r=d.map((e=>{const t=e===c;t&&n(9,f[e]=!0,f);const r=h?-1!==h.indexOf(e):t;return{id:e,panelId:"panel-".concat(l,"-").concat(e),labelledBy:"tab-".concat(l,"-").concat(e),isActive:t,hidden:!t,visible:r,tabindex:t?0:-1,shouldDraw:t||f[e]}}))),16&e.$$.dirty&&n(5,i=r.length>1)},[s,u,p,h,r,i,l,c,d,f,a,o,function(t){W$.call(this,e,t)},function(t){W$.call(this,e,t)}]}class OC extends CS{constructor(e){super(),AS(this,e,BC,LC,Gx,{class:0,name:6,selected:7,panelClass:1,panels:8,visible:3,style:2})}}var FC=e=>{const t=Object.getOwnPropertyDescriptors(e.prototype);return Object.keys(t).filter((e=>!!t[e].get))};function NC(e){let t,n,r,i;const o=[e[5],{locale:e[1]}];function a(t){e[22](t)}var s=e[10];function l(e){let t={};for(let n=0;n<o.length;n+=1)t=Ux(t,o[n]);return void 0!==e[3]&&(t.name=e[3]),{props:t}}return s&&(t=M$(s,l(e)),G$.push((()=>xS(t,"name",a))),e[23](t),t.$on("measure",e[11])),{c(){t&&$S(t.$$.fragment),r=w$()},m(e,n){t&&SS(t,e,n),f$(e,r,n),i=!0},p(e,i){const c=34&i[0]?vS(o,[32&i[0]&&wS(e[5]),2&i[0]&&{locale:e[1]}]):{};if(!n&&8&i[0]&&(n=!0,c.name=e[3],eS((()=>n=!1))),s!==(s=e[10])){if(t){cS();const e=t;hS(e.$$.fragment,1,0,(()=>{kS(e,1)})),uS()}s?(t=M$(s,l(e)),G$.push((()=>xS(t,"name",a))),e[23](t),t.$on("measure",e[11]),$S(t.$$.fragment),dS(t.$$.fragment,1),SS(t,r.parentNode,r)):t=null}else s&&t.$set(c)},i(e){i||(t&&dS(t.$$.fragment,e),i=!0)},o(e){t&&hS(t.$$.fragment,e),i=!1},d(n){e[23](null),n&&g$(r),t&&kS(t,n)}}}function DC(e){let t,n,r,i=e[6]&&NC(e);return{c(){t=m$("div"),i&&i.c(),k$(t,"data-util",e[3]),k$(t,"class",n=gC(["PinturaUtilPanel",e[2]])),k$(t,"style",e[7])},m(n,o){f$(n,t,o),i&&i.m(t,null),e[24](t),r=!0},p(e,o){e[6]?i?(i.p(e,o),64&o[0]&&dS(i,1)):(i=NC(e),i.c(),dS(i,1),i.m(t,null)):i&&(cS(),hS(i,1,1,(()=>{i=null})),uS()),(!r||8&o[0])&&k$(t,"data-util",e[3]),(!r||4&o[0]&&n!==(n=gC(["PinturaUtilPanel",e[2]])))&&k$(t,"class",n),(!r||128&o[0])&&k$(t,"style",e[7])},i(e){r||(dS(i),r=!0)},o(e){hS(i),r=!1},d(n){n&&g$(t),i&&i.d(),e[24](null)}}}function zC(e,t,n){let r,i,o,a,s;const l=U$();let{isActive:c=!0}=t,{stores:u}=t,{view:d}=t,{props:h}=t,{component:p}=t,{locale:f}=t,{class:g}=t;const m=H$("isAnimated");let y;Kx(e,m,(e=>n(21,s=e)));const b=jA(0),v=RS(b,(e=>qS(e,0,1)));Kx(e,v,(e=>n(20,a=e)));let w=!c;const x=PS(c),$={isActive:RS(x,(async(e,t)=>{if(!e)return t(e);await J$(),t(e)}),!1),isActiveFraction:RS(v,(e=>e)),isVisible:RS(v,(e=>e>0))},S=d,k=FC(S),A=Object.keys(h||{}).reduce(((e,t)=>k.includes(t)?(e[t]=h[t],e):e),{}),C=Object.keys($).reduce(((e,t)=>k.includes(t)?(e[t]=$[t],e):e),{});let E,T;const P=e=>{n(17,y={...e.detail}),M&&c&&l("measure",{...y})};j$("measurable",iC);const R=N$().$$.context;let M=!1;return D$((()=>{if(n(19,M=!0),o)return;n(0,p=new S({target:T,props:{...i,locale:f},context:R})),n(3,E=p.name);const e=p.$on("measure",P);return()=>{e(),p.$destroy()}})),e.$$set=e=>{"isActive"in e&&n(12,c=e.isActive),"stores"in e&&n(13,u=e.stores),"view"in e&&n(14,d=e.view),"props"in e&&n(15,h=e.props),"component"in e&&n(0,p=e.component),"locale"in e&&n(1,f=e.locale),"class"in e&&n(2,g=e.class)},e.$$.update=()=>{135169&e.$$.dirty[0]&&y&&c&&p&&l("measure",y),2101248&e.$$.dirty[0]&&b.set(c?1:0,{hard:!1===s}),1310720&e.$$.dirty[0]&&(a<=0&&!w?n(18,w=!0):a>0&&w&&n(18,w=!1)),786432&e.$$.dirty[0]&&M&&l(w?"hide":"show"),1048576&e.$$.dirty[0]&&l("fade",a),1048576&e.$$.dirty[0]&&n(7,r=a<1?"opacity: "+a:void 0),4096&e.$$.dirty[0]&&x.set(c),8192&e.$$.dirty[0]&&n(5,i={...A,...C,stores:u})},n(6,o=!k.includes("external")),[p,f,g,E,T,i,o,r,m,v,S,P,c,u,d,h,b,y,w,M,a,s,function(e){E=e,n(3,E)},function(e){G$[e?"unshift":"push"]((()=>{p=e,n(0,p)}))},function(e){G$[e?"unshift":"push"]((()=>{T=e,n(4,T)}))}]}class _C extends CS{constructor(e){super(),AS(this,e,zC,DC,Gx,{isActive:12,stores:13,view:14,props:15,component:0,locale:1,class:2,opacity:16},null,[-1,-1])}get opacity(){return this.$$.ctx[16]}}function UC(e){let t,n,r;const i=e[5].default,o=Zx(i,e,e[4],null);return{c(){t=y$("svg"),o&&o.c(),k$(t,"class",e[3]),k$(t,"style",e[2]),k$(t,"width",e[0]),k$(t,"height",e[1]),k$(t,"viewBox",n="0 0 "+e[0]+"\n    "+e[1]),k$(t,"xmlns","http://www.w3.org/2000/svg"),k$(t,"aria-hidden","true"),k$(t,"focusable","false"),k$(t,"stroke-linecap","round"),k$(t,"stroke-linejoin","round")},m(e,n){f$(e,t,n),o&&o.m(t,null),r=!0},p(e,a){let[s]=a;o&&o.p&&(!r||16&s)&&Yx(o,i,e,e[4],r?Jx(i,e[4],s,null):e$(e[4]),null),(!r||8&s)&&k$(t,"class",e[3]),(!r||4&s)&&k$(t,"style",e[2]),(!r||1&s)&&k$(t,"width",e[0]),(!r||2&s)&&k$(t,"height",e[1]),(!r||3&s&&n!==(n="0 0 "+e[0]+"\n    "+e[1]))&&k$(t,"viewBox",n)},i(e){r||(dS(o,e),r=!0)},o(e){hS(o,e),r=!1},d(e){e&&g$(t),o&&o.d(e)}}}function jC(e,t,n){let{$$slots:r={},$$scope:i}=t,{width:o=24}=t,{height:a=24}=t,{style:s}=t,{class:l}=t;return e.$$set=e=>{"width"in e&&n(0,o=e.width),"height"in e&&n(1,a=e.height),"style"in e&&n(2,s=e.style),"class"in e&&n(3,l=e.class),"$$scope"in e&&n(4,i=e.$$scope)},[o,a,s,l,i,r]}class HC extends CS{constructor(e){super(),AS(this,e,jC,UC,Gx,{width:0,height:1,style:2,class:3})}}var WC=(e,t)=>t===e.target||t.contains(e.target),VC=(e,t,n)=>{const r=Em(t)?t:e;return n?"".concat(r," (").concat(n.map((e=>"CMD"===e?uv()?"\u2318":"Ctrl":e)).join("+"),")"):r};function GC(e){let t,n;return t=new HC({props:{class:"PinturaButtonIcon",$$slots:{default:[QC]},$$scope:{ctx:e}}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};536870920&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function QC(e){let t;return{c(){t=y$("g")},m(n,r){f$(n,t,r),t.innerHTML=e[3]},p(e,n){8&n&&(t.innerHTML=e[3])},d(e){e&&g$(t)}}}function qC(e){let t;return{c(){t=m$("span"),k$(t,"class",e[11])},m(n,r){f$(n,t,r),t.innerHTML=e[0]},p(e,n){1&n&&(t.innerHTML=e[0]),2048&n&&k$(t,"class",e[11])},d(e){e&&g$(t)}}}function KC(e){let t,n,r,i,o;const a=e[27].default,s=Zx(a,e,e[29],null),l=s||function(e){let t,n,r,i=e[3]&&GC(e),o=e[0]&&qC(e);return{c(){t=m$("span"),i&&i.c(),n=v$(),o&&o.c(),k$(t,"class",e[13])},m(e,a){f$(e,t,a),i&&i.m(t,null),d$(t,n),o&&o.m(t,null),r=!0},p(e,a){e[3]?i?(i.p(e,a),8&a&&dS(i,1)):(i=GC(e),i.c(),dS(i,1),i.m(t,n)):i&&(cS(),hS(i,1,1,(()=>{i=null})),uS()),e[0]?o?o.p(e,a):(o=qC(e),o.c(),o.m(t,null)):o&&(o.d(1),o=null),(!r||8192&a)&&k$(t,"class",e[13])},i(e){r||(dS(i),r=!0)},o(e){hS(i),r=!1},d(e){e&&g$(t),i&&i.d(),o&&o.d()}}}(e);return{c(){t=m$("button"),l&&l.c(),k$(t,"type",e[6]),k$(t,"style",e[4]),t.disabled=e[5],k$(t,"class",e[12]),k$(t,"title",n=VC(e[0],e[1],e[2]))},m(n,a){f$(n,t,a),l&&l.m(t,null),e[28](t),r=!0,i||(o=[x$(t,"keydown",(function(){Vx(e[8])&&e[8].apply(this,arguments)})),x$(t,"click",(function(){Vx(e[7])&&e[7].apply(this,arguments)})),x$(t,"pointerdown",(function(){Vx(e[14])&&e[14].apply(this,arguments)})),i$(e[9].call(null,t))],i=!0)},p(i,o){let[c]=o;e=i,s?s.p&&(!r||536870912&c)&&Yx(s,a,e,e[29],r?Jx(a,e[29],c,null):e$(e[29]),null):l&&l.p&&(!r||10249&c)&&l.p(e,r?c:-1),(!r||64&c)&&k$(t,"type",e[6]),(!r||16&c)&&k$(t,"style",e[4]),(!r||32&c)&&(t.disabled=e[5]),(!r||4096&c)&&k$(t,"class",e[12]),(!r||7&c&&n!==(n=VC(e[0],e[1],e[2])))&&k$(t,"title",n)},i(e){r||(dS(l,e),r=!0)},o(e){hS(l,e),r=!1},d(n){n&&g$(t),l&&l.d(n),e[28](null),i=!1,Wx(o)}}}function ZC(e,t,n){let r,i,o,a,s,l,{$$slots:c={},$$scope:u}=t,{class:d}=t,{label:h}=t,{title:p}=t,{shortcut:f}=t,{labelClass:g}=t,{innerClass:m}=t,{hideLabel:y=!1}=t,{icon:b}=t,{style:v}=t,{disabled:w}=t,{type:x="button"}=t,{onclick:$}=t,{onkeydown:S}=t,{onhold:k}=t,{action:A=(()=>{})}=t,{holdThreshold:C=500}=t,{holdSpeedUpFactor:E=.5}=t,{holdSpeedMin:T=20}=t;const P=e=>{n(25,l=setTimeout((()=>{k(),P(Math.max(e*E,T))}),e))};let R;return e.$$set=e=>{"class"in e&&n(15,d=e.class),"label"in e&&n(0,h=e.label),"title"in e&&n(1,p=e.title),"shortcut"in e&&n(2,f=e.shortcut),"labelClass"in e&&n(16,g=e.labelClass),"innerClass"in e&&n(17,m=e.innerClass),"hideLabel"in e&&n(18,y=e.hideLabel),"icon"in e&&n(3,b=e.icon),"style"in e&&n(4,v=e.style),"disabled"in e&&n(5,w=e.disabled),"type"in e&&n(6,x=e.type),"onclick"in e&&n(7,$=e.onclick),"onkeydown"in e&&n(8,S=e.onkeydown),"onhold"in e&&n(19,k=e.onhold),"action"in e&&n(9,A=e.action),"holdThreshold"in e&&n(20,C=e.holdThreshold),"holdSpeedUpFactor"in e&&n(21,E=e.holdSpeedUpFactor),"holdSpeedMin"in e&&n(22,T=e.holdSpeedMin),"$$scope"in e&&n(29,u=e.$$scope)},e.$$.update=()=>{101187584&e.$$.dirty&&n(26,i=k?()=>{l&&(clearTimeout(l),n(25,l=void 0),document.documentElement.removeEventListener("pointerup",i))}:om),68681728&e.$$.dirty&&n(14,r=k?()=>{document.documentElement.addEventListener("pointerup",i),P(C)}:om),131072&e.$$.dirty&&n(13,o=gC(["PinturaButtonInner",m])),294912&e.$$.dirty&&n(12,a=gC(["PinturaButton",y&&"PinturaButtonIconOnly",d])),327680&e.$$.dirty&&n(11,s=gC([y?"implicit":"PinturaButtonLabel",g]))},[h,p,f,b,v,w,x,$,S,A,R,s,a,o,r,d,g,m,y,k,C,E,T,e=>WC(e,R),()=>R,l,i,c,function(e){G$[e?"unshift":"push"]((()=>{R=e,n(10,R)}))},u]}class XC extends CS{constructor(e){super(),AS(this,e,ZC,KC,Gx,{class:15,label:0,title:1,shortcut:2,labelClass:16,innerClass:17,hideLabel:18,icon:3,style:4,disabled:5,type:6,onclick:7,onkeydown:8,onhold:19,action:9,holdThreshold:20,holdSpeedUpFactor:21,holdSpeedMin:22,isEventTarget:23,getElement:24})}get isEventTarget(){return this.$$.ctx[23]}get getElement(){return this.$$.ctx[24]}}var JC=(e,t)=>{const n=e.findIndex(t);if(n>=0)return e.splice(n,1)};const YC=80;var eE=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{inertia:n=!1,inertiaDurationMultiplier:r=YC,shouldStartInteraction:i=(()=>!0),pinch:o=!1,multiTouch:a,getEventPosition:s=(e=>hy(e.clientX,e.clientY)),observeKeys:l=!1}=t;function c(t,n){e.dispatchEvent(new CustomEvent(t,{detail:n}))}function u(){$&&$(),$=void 0}const d=[],h=e=>0===e.timeStamp?Date.now():e.timeStamp,p=()=>{const e=fy(d[0].position);if(d[1]){const t=.5*(d[1].position.x-e.x),n=.5*(d[1].position.y-e.y);e.x+=t,e.y+=n}return e},f=e=>{e.origin.x=e.position.x,e.origin.y=e.position.y,e.translation.x=0,e.translation.y=0},g=e=>{const t=(e=>d.findIndex((t=>t.event.pointerId===e.pointerId)))(e);if(!(t<0))return d[t]},m=()=>1===d.length,y=()=>2===d.length,b=e=>{const t=Ry(e.map((e=>e.position)));return{center:t,distance:((e,t)=>e.reduce(((e,n)=>e+Py(t,n.position)),0)/e.length)(e,t),velocity:Ry(e.map((e=>e.velocity))),translation:Ry(e.map((e=>e.translation)))}};let v,w,x,$,S,k,A,C,E,T=0;e.addEventListener("pointerdown",L);const P=["Meta","Control","Alt","Shift"];function R(e){if(!P.includes(e.key))return;const{metaKey:t,ctrlKey:n,altKey:r,shiftKey:i}=e;I({metaKey:t,ctrlKey:n,altKey:r,shiftKey:i})}let M=Date.now();const I=e=>{const t=fy(d[0].translation);let n=A;o&&y()&&(n*=Py(d[0].position,d[1].position)/S,$y(t,d[1].translation)),$y(t,k);const r=Date.now();r-M<16||(M=r,c("interactionupdate",{position:p(),translation:t,scalar:o?n:void 0,isMultiTouching:y(),...e}))};function L(t){if(!y()&&!(e=>Tv(e.button)&&0!==e.button)(t)&&i(t,e))if(u(),(e=>{const t=h(e),n={timeStamp:t,timeStampInitial:t,position:s(e),origin:s(e),velocity:dy(),velocityHistory:[],velocityAverage:dy(),translation:dy(),interactionState:void 0,event:e};d.push(n),n.interactionState=b(d)})(t),l&&(window.addEventListener("keydown",R),window.addEventListener("keyup",R)),m())document.documentElement.addEventListener("pointermove",B),document.documentElement.addEventListener("pointerup",O),document.documentElement.addEventListener("pointercancel",O),document.addEventListener("visibilitychange",N),C=!1,A=1,k=dy(),S=void 0,c("interactionstart",{origin:fy(g(t).origin)});else if(o)C=!0,S=Py(d[0].position,d[1].position),k.x+=d[0].translation.x,k.y+=d[0].translation.y,f(d[0]);else if(!1===a)return d.length=0,z(),c("interactioncancel")}function B(e){e.preventDefault(),(e=>{const t=g(e);if(!t)return;const n=h(e),r=s(e),i=Math.max(1,n-t.timeStamp);t.velocity.x=(r.x-t.position.x)/i,t.velocity.y=(r.y-t.position.y)/i,t.velocityHistory.push(fy(t.velocity)),t.velocityHistory=t.velocityHistory.slice(-3),t.velocityAverage=t.velocityHistory.reduce(((e,t,n,r)=>(e.x+=t.x/r.length,e.y+=t.y/r.length,e)),dy()),t.translation.x=r.x-t.origin.x,t.translation.y=r.y-t.origin.y,t.timeStamp=n,t.position.x=r.x,t.position.y=r.y,t.event=e})(e);const{metaKey:t=!1,ctrlKey:n=!1,altKey:r=!1,shiftKey:i=!1}=l?e:{};I({metaKey:t,ctrlKey:n,altKey:r,shiftKey:i})}function O(e){if(!g(e))return;const t=p(),i=(e=>{const t=JC(d,(t=>t.event.pointerId===e.pointerId));if(t)return t[0]})(e);if(o&&m()){const e=Py(d[0].position,i.position);A*=e/S,k.x+=d[0].translation.x+i.translation.x,k.y+=d[0].translation.y+i.translation.y,f(d[0])}let a=!1,s=!1;if(!C&&i){const e=performance.now(),t=e-i.timeStampInitial,n=Ty(i.translation);a=n<64&&t<300,s=!!(E&&a&&e-T<700&&Ty(E,i.position)<128),a&&(E=fy(i.position),T=e)}if(d.length>0)return;z();const l=fy(i.translation),u=fy(i.velocityAverage);let h=!1;c("interactionrelease",{isTap:a,isDoubleTap:s,position:t,translation:l,scalar:A,preventInertia:()=>h=!0});const y=Py(u);if(h||!n||y<.25)return D(l,{isTap:a,isDoubleTap:s});w=fy(t),x=fy(l),v=_A(fy(l),{easing:NA,duration:y*r}),v.set({x:l.x+50*u.x,y:l.y+50*u.y}).then((()=>{$&&D(qx(v),{isTap:a,isDoubleTap:s})})),$=v.subscribe(F)}function F(e){e&&c("interactionupdate",{position:hy(w.x+(e.x-x.x),w.y+(e.y-x.y)),translation:e,scalar:o?A:void 0})}function N(e){if("visible"===document.visibilityState||!d.length)return;const t=b(d);u(),c("interactionend",{...t}),d.length=0,z()}function D(e,t){u(),c("interactionend",{...t,translation:e,scalar:o?A:void 0})}function z(){l&&window.removeEventListener("keydown",R),l&&window.removeEventListener("keyup",R),document.documentElement.removeEventListener("pointermove",B),document.documentElement.removeEventListener("pointerup",O),document.documentElement.removeEventListener("pointercancel",O),document.addEventListener("visibilitychange",N)}return{destroy(){u(),e.removeEventListener("pointerdown",L)}}},tE=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{direction:n,shiftMultiplier:r=10,bubbles:i=!1,preventDefault:o=!1,stopKeydownPropagation:a=!0}=t,s="horizontal"===n,l="vertical"===n,c=t=>{const{key:n}=t,c=t.shiftKey,u=/up|down/i.test(n),d=/left|right/i.test(n);if(!d&&!u)return;if(s&&u)return;if(l&&d)return;const h=c?r:1;a&&t.stopPropagation(),o&&t.preventDefault(),e.dispatchEvent(new CustomEvent("nudge",{bubbles:i,detail:hy((/left/i.test(n)?-1:/right/i.test(n)?1:0)*h,(/up/i.test(n)?-1:/down/i.test(n)?1:0)*h)}))};return e.addEventListener("keydown",c),{destroy(){e.removeEventListener("keydown",c)}}};function nE(e,t){return t?t*Math.sign(e)*Math.log10(1+Math.abs(e)/t):e}const rE=(e,t,n)=>{if(!t||!n)return{...e};const r=e.x+nE(t.x-e.x,n),i=e.x+e.width+nE(t.x+t.width-(e.x+e.width),n),o=e.y+nE(t.y-e.y,n);return{x:r,y:o,width:i-r,height:e.y+e.height+nE(t.y+t.height-(e.y+e.height),n)-o}};var iE=(e,t)=>{if(e)return/em/.test(e)?16*parseInt(e,10):/px/.test(e)?parseInt(e,10):void 0},oE=(e,t)=>{let n=e.detail||0;const{deltaX:r,deltaY:i,wheelDelta:o,wheelDeltaX:a,wheelDeltaY:s}=e,{fixScrollDirection:l=!1}=t||{};return Tv(a)&&Math.abs(a)>Math.abs(s)?n=a/-120:Tv(r)&&Math.abs(r)>Math.abs(i)?n=r/20:(o||s)&&(n=(o||s)/-120),n||(n=i/20),(Om()||qb())&&(n*=2),l&&uv()&&(n*=-1),n};function aE(e){let t,n,r,i,o,a,s;const l=e[37].default,c=Zx(l,e,e[36],null);return{c(){t=m$("div"),n=m$("div"),c&&c.c(),k$(n,"style",e[5]),k$(t,"class",r=gC(["PinturaScrollable",e[0]])),k$(t,"style",e[4]),k$(t,"data-direction",e[1]),k$(t,"data-state",e[6])},m(r,l){f$(r,t,l),d$(t,n),c&&c.m(n,null),e[39](t),o=!0,a||(s=[x$(n,"interactionstart",e[9]),x$(n,"interactionupdate",e[11]),x$(n,"interactionend",e[12]),x$(n,"interactionrelease",e[10]),i$(eE.call(null,n,{inertia:!0})),x$(n,"measure",e[38]),i$(iC.call(null,n)),x$(t,"wheel",e[14],{passive:!1}),x$(t,"scroll",e[16]),x$(t,"focusin",e[15]),x$(t,"nudge",e[17]),x$(t,"measure",e[13]),i$(iC.call(null,t,{observePosition:!0})),i$(i=tE.call(null,t,{direction:"x"===e[1]?"horizontal":"vertical",stopKeydownPropagation:!1}))],a=!0)},p(e,a){c&&c.p&&(!o||32&a[1])&&Yx(c,l,e,e[36],o?Jx(l,e[36],a,null):e$(e[36]),null),(!o||32&a[0])&&k$(n,"style",e[5]),(!o||1&a[0]&&r!==(r=gC(["PinturaScrollable",e[0]])))&&k$(t,"class",r),(!o||16&a[0])&&k$(t,"style",e[4]),(!o||2&a[0])&&k$(t,"data-direction",e[1]),(!o||64&a[0])&&k$(t,"data-state",e[6]),i&&Vx(i.update)&&2&a[0]&&i.update.call(null,{direction:"x"===e[1]?"horizontal":"vertical",stopKeydownPropagation:!1})},i(e){o||(dS(c,e),o=!0)},o(e){hS(c,e),o=!1},d(n){n&&g$(t),c&&c.d(n),e[39](null),a=!1,Wx(s)}}}function sE(e,t,n){let r,i,o,a,s,l,c,u,d,{$$slots:h={},$$scope:p}=t;const f=U$();let g,m,y,b,v="idle",w=jA(0);Kx(e,w,(e=>n(35,u=e)));let{class:x}=t,{scrollBlockInteractionDist:$=5}=t,{scrollStep:S=10}=t,{scrollFocusMargin:k=64}=t,{scrollDirection:A="x"}=t,{scrollAutoCancel:C=!1}=t,{elasticity:E=0}=t,{onscroll:T=om}=t,{maskFeatherSize:P}=t,{maskFeatherStartOpacity:R}=t,{maskFeatherEndOpacity:M}=t,{scroll:I}=t;const L=H$("fixScrollDirection");let B;Kx(e,L,(e=>n(46,d=e)));let O="",F=!0;const N=w.subscribe((e=>{const t=dy();t[A]=e,T(t)})),D=e=>Math.max(Math.min(0,e),y[r]-m[r]);let z,_,U;const j=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{elastic:r=!1,animate:i=!1,preventScrollState:o=!1}=t;Math.abs(e-g)>$&&"idle"===v&&!b&&!o&&n(28,v="scrolling");const a=D(e),s=r&&E&&!b?a+nE(e-a,E):a;let l=!0;i?l=!1:F||(l=!b),F=!1,w.set(s,{hard:l}).then((e=>{b&&(F=!0)}))};return _$((()=>{N()})),e.$$set=e=>{"class"in e&&n(0,x=e.class),"scrollBlockInteractionDist"in e&&n(21,$=e.scrollBlockInteractionDist),"scrollStep"in e&&n(22,S=e.scrollStep),"scrollFocusMargin"in e&&n(23,k=e.scrollFocusMargin),"scrollDirection"in e&&n(1,A=e.scrollDirection),"scrollAutoCancel"in e&&n(24,C=e.scrollAutoCancel),"elasticity"in e&&n(25,E=e.elasticity),"onscroll"in e&&n(26,T=e.onscroll),"maskFeatherSize"in e&&n(20,P=e.maskFeatherSize),"maskFeatherStartOpacity"in e&&n(18,R=e.maskFeatherStartOpacity),"maskFeatherEndOpacity"in e&&n(19,M=e.maskFeatherEndOpacity),"scroll"in e&&n(27,I=e.scroll),"$$scope"in e&&n(36,p=e.$$scope)},e.$$.update=()=>{if(2&e.$$.dirty[0]&&n(32,r="x"===A?"width":"height"),2&e.$$.dirty[0]&&n(30,i=A.toUpperCase()),8&e.$$.dirty[0]&&n(34,o=B&&getComputedStyle(B)),8&e.$$.dirty[0]|8&e.$$.dirty[1]&&n(33,a=o&&iE(o.getPropertyValue("--scrollable-feather-size"))),537657348&e.$$.dirty[0]|22&e.$$.dirty[1]&&null!=u&&y&&null!=a&&m){const e=-1*u/a,t=-(y[r]-m[r]-u)/a;n(18,R=qS(1-e,0,1)),n(19,M=qS(1-t,0,1)),n(20,P=a),n(4,O="--scrollable-feather-start-opacity: ".concat(R,";--scrollable-feather-end-opacity: ").concat(M))}134217736&e.$$.dirty[0]&&B&&void 0!==I&&(Tv(I)?j(I):j(I.scrollOffset,I)),536870916&e.$$.dirty[0]|2&e.$$.dirty[1]&&n(31,s=y&&m?m[r]>y[r]:void 0),268435456&e.$$.dirty[0]|1&e.$$.dirty[1]&&n(6,l=gC([v,s?"overflows":void 0])),1073741824&e.$$.dirty[0]|17&e.$$.dirty[1]&&n(5,c=s?"transform: translate".concat(i,"(").concat(u,"px)"):void 0)},[x,A,m,B,O,c,l,w,L,()=>{s&&(_=!1,z=!0,U=hy(0,0),b=!1,n(28,v="idle"),g=qx(w))},e=>{let{detail:t}=e;s&&(b=!0,n(28,v="idle"))},e=>{let{detail:t}=e;s&&(_||z&&(z=!1,Ty(t.translation)<.1)||(!C||"x"!==A||(e=>{const t=xy(hy(e.x-U.x,e.y-U.y),Math.abs);U=fy(e);const n=Ty(t),r=t.x-t.y;return!(n>1&&r<-.5)})(t.translation)?j(g+t.translation[A],{elastic:!0}):_=!0))},e=>{let{detail:t}=e;if(!s)return;if(_)return;const n=g+t.translation[A],r=D(n);F=!1,w.set(r).then((e=>{b&&(F=!0)}))},e=>{let{detail:t}=e;n(29,y=t),f("measure",{x:t.x,y:t.y,width:t.width,height:t.height})},e=>{if(!s)return;e.preventDefault(),e.stopPropagation();const t=e.shiftKey,n=oE(e,{fixScrollDirection:d})*(t?-1:1),r=qx(w);j(r+n*S,{animate:!0})},e=>{if(!s)return;if(!b)return;let t=e.target;e.target.classList.contains("implicit")&&(t=t.parentNode);const n=t["x"===A?"offsetLeft":"offsetTop"],i=n+t["x"===A?"offsetWidth":"offsetHeight"],o=qx(w),a=k+P;o+n<a?j(-n+a):o+i>y[r]-a&&j(y[r]-i-a,{animate:!0})},()=>{n(3,B["x"===A?"scrollLeft":"scrollTop"]=0,B)},e=>{let{detail:t}=e;if(B.querySelector("[data-focus-visible]"))return;const n=-2*t[A],r=qx(w);j(r+n*S,{animate:!0,preventScrollState:!0})},R,M,P,$,S,k,C,E,T,I,v,y,i,s,r,a,o,u,p,h,e=>n(2,m=e.detail),function(e){G$[e?"unshift":"push"]((()=>{B=e,n(3,B)}))}]}class lE extends CS{constructor(e){super(),AS(this,e,sE,aE,Gx,{class:0,scrollBlockInteractionDist:21,scrollStep:22,scrollFocusMargin:23,scrollDirection:1,scrollAutoCancel:24,elasticity:25,onscroll:26,maskFeatherSize:20,maskFeatherStartOpacity:18,maskFeatherEndOpacity:19,scroll:27},null,[-1,-1])}}function cE(e){let t,n,r,i,o;return{c(){t=m$("span"),k$(t,"class","PinturaStatusMessage")},m(n,a){f$(n,t,a),t.innerHTML=e[0],r=!0,i||(o=[x$(t,"measure",(function(){Vx(e[1])&&e[1].apply(this,arguments)})),i$(iC.call(null,t))],i=!0)},p(n,i){let[o]=i;e=n,(!r||1&o)&&(t.innerHTML=e[0])},i(i){r||(Y$((()=>{n||(n=fS(t,e[4],{duration:e[2]},!0)),n.run(1)})),r=!0)},o(i){n||(n=fS(t,e[4],{duration:e[2]},!1)),n.run(0),r=!1},d(e){e&&g$(t),e&&n&&n.end(),i=!1,Wx(o)}}}function uE(e,t,n){let r,i,{text:o}=t,{onmeasure:a=om}=t;const s=H$("isAnimated");return Kx(e,s,(e=>n(5,i=e))),e.$$set=e=>{"text"in e&&n(0,o=e.text),"onmeasure"in e&&n(1,a=e.onmeasure)},e.$$.update=()=>{32&e.$$.dirty&&n(2,r=i?500:0)},[o,a,r,s,function(e,t){let{duration:n}=t;return{duration:n,tick:t=>{e.style.opacity=t}}},i]}class dE extends CS{constructor(e){super(),AS(this,e,uE,cE,Gx,{text:0,onmeasure:1})}}function hE(e){let t,n,r,i,o,a,s,l,c;return{c(){t=m$("span"),n=y$("svg"),r=y$("g"),i=y$("circle"),o=y$("circle"),a=v$(),s=m$("span"),l=b$(e[3]),k$(i,"class","PinturaProgressIndicatorBar"),k$(i,"r","8.5"),k$(i,"cx","10"),k$(i,"cy","10"),k$(i,"stroke-linecap","round"),k$(i,"opacity",".25"),k$(o,"class","PinturaProgressIndicatorFill"),k$(o,"r","8.5"),k$(o,"stroke-dasharray",e[2]),k$(o,"cx","10"),k$(o,"cy","10"),k$(o,"transform","rotate(-90) translate(-20)"),k$(r,"fill","none"),k$(r,"stroke","currentColor"),k$(r,"stroke-width","2.5"),k$(r,"stroke-linecap","round"),k$(r,"opacity",e[1]),k$(n,"width","20"),k$(n,"height","20"),k$(n,"viewBox","0 0 20 20"),k$(n,"xmlns","http://www.w3.org/2000/svg"),k$(n,"aria-hidden","true"),k$(n,"focusable","false"),k$(s,"class","implicit"),k$(t,"class","PinturaProgressIndicator"),k$(t,"data-status",e[0]),k$(t,"style",c="opacity:"+e[4])},m(e,c){f$(e,t,c),d$(t,n),d$(n,r),d$(r,i),d$(r,o),d$(t,a),d$(t,s),d$(s,l)},p(e,n){let[i]=n;4&i&&k$(o,"stroke-dasharray",e[2]),2&i&&k$(r,"opacity",e[1]),8&i&&E$(l,e[3]),1&i&&k$(t,"data-status",e[0]),16&i&&c!==(c="opacity:"+e[4])&&k$(t,"style",c)},i:zx,o:zx,d(e){e&&g$(t)}}}function pE(e,t,n){let r,i,o,a,s,l,c,u;const d=U$();let{progress:h}=t,{min:p=0}=t,{max:f=100}=t,{labelBusy:g="Busy"}=t,{opacity:m}=t;const y=H$("isAnimated");Kx(e,y,(e=>n(14,s=e)));const b=jA(m,{precision:.01});Kx(e,b,(e=>n(4,u=e)));const v=jA(0,{precision:.01}),w=jA(0,{precision:.01});Kx(e,w,(e=>n(15,l=e)));const x=RS([v],(e=>qS(e,p,f)));Kx(e,x,(e=>n(16,c=e)));const $=x.subscribe((e=>{1===h&&Math.round(e)>=100&&d("complete")}));return D$((()=>{w.set(1,{hard:!s})})),_$((()=>{$()})),e.$$set=e=>{"progress"in e&&n(9,h=e.progress),"min"in e&&n(10,p=e.min),"max"in e&&n(11,f=e.max),"labelBusy"in e&&n(12,g=e.labelBusy),"opacity"in e&&n(13,m=e.opacity)},e.$$.update=()=>{24576&e.$$.dirty&&Tv(m)&&b.set(m,{hard:!s}),16896&e.$$.dirty&&h&&h!==1/0&&v.set(100*h,{hard:!s}),70144&e.$$.dirty&&n(3,r=h===1/0?g:Math.round(c)+"%"),66048&e.$$.dirty&&n(2,i=h===1/0?"26.5 53":c/100*53+" 53"),32768&e.$$.dirty&&n(1,o=l),512&e.$$.dirty&&n(0,a=h===1/0?"busy":"loading")},[a,o,i,r,u,y,b,w,x,h,p,f,g,m,s,l,c]}class fE extends CS{constructor(e){super(),AS(this,e,pE,hE,Gx,{progress:9,min:10,max:11,labelBusy:12,opacity:13})}}function gE(e){let t,n,r;const i=e[5].default,o=Zx(i,e,e[4],null);return{c(){t=m$("span"),o&&o.c(),k$(t,"class",n="PinturaStatusAside "+e[0]),k$(t,"style",e[1])},m(e,n){f$(e,t,n),o&&o.m(t,null),r=!0},p(e,a){let[s]=a;o&&o.p&&(!r||16&s)&&Yx(o,i,e,e[4],r?Jx(i,e[4],s,null):e$(e[4]),null),(!r||1&s&&n!==(n="PinturaStatusAside "+e[0]))&&k$(t,"class",n),(!r||2&s)&&k$(t,"style",e[1])},i(e){r||(dS(o,e),r=!0)},o(e){hS(o,e),r=!1},d(e){e&&g$(t),o&&o.d(e)}}}function mE(e,t,n){let r,{$$slots:i={},$$scope:o}=t,{offset:a=0}=t,{opacity:s=0}=t,{class:l}=t;return e.$$set=e=>{"offset"in e&&n(2,a=e.offset),"opacity"in e&&n(3,s=e.opacity),"class"in e&&n(0,l=e.class),"$$scope"in e&&n(4,o=e.$$scope)},e.$$.update=()=>{12&e.$$.dirty&&n(1,r="transform:translateX(".concat(a,"px);opacity:").concat(s))},[l,r,a,s,o,i]}class yE extends CS{constructor(e){super(),AS(this,e,mE,gE,Gx,{offset:2,opacity:3,class:0})}}const{document:bE}=gS;function vE(e){let t,n,r,i;return{c(){t=v$(),n=m$("button"),k$(n,"class","PinturaImageButton"),k$(n,"type","button"),k$(n,"title",e[1]),n.disabled=e[2]},m(o,a){f$(o,t,a),f$(o,n,a),n.innerHTML=e[0],e[11](n),r||(i=[x$(bE.body,"load",e[5],!0),x$(bE.body,"error",e[6],!0),x$(n,"pointerdown",e[4])],r=!0)},p(e,t){let[r]=t;1&r&&(n.innerHTML=e[0]),2&r&&k$(n,"title",e[1]),4&r&&(n.disabled=e[2])},i:zx,o:zx,d(o){o&&g$(t),o&&g$(n),e[11](null),r=!1,Wx(i)}}}function wE(e,t,n){let r,{html:i}=t,{title:o}=t,{onclick:a}=t,{disabled:s=!1}=t,{ongrab:l=om}=t,{ondrag:c=om}=t,{ondrop:u=om}=t;const d=e=>Ty(h,hy(e.pageX,e.pageY))<256;let h;const p=e=>{document.documentElement.removeEventListener("pointermove",f),document.documentElement.removeEventListener("pointerup",p);const t=hy(e.pageX,e.pageY);if(Ty(h,t)<32)return a(e);d(e)||u(e)},f=e=>{d(e)||c(e)},g=e=>r&&r.contains(e)&&"IMG"===e.nodeName;return e.$$set=e=>{"html"in e&&n(0,i=e.html),"title"in e&&n(1,o=e.title),"onclick"in e&&n(7,a=e.onclick),"disabled"in e&&n(2,s=e.disabled),"ongrab"in e&&n(8,l=e.ongrab),"ondrag"in e&&n(9,c=e.ondrag),"ondrop"in e&&n(10,u=e.ondrop)},e.$$.update=()=>{8&e.$$.dirty&&r&&r.querySelector("img")&&n(3,r.dataset.loader=!0,r)},[i,o,s,r,e=>{h=hy(e.pageX,e.pageY),l(e),document.documentElement.addEventListener("pointermove",f),document.documentElement.addEventListener("pointerup",p)},e=>{let{target:t}=e;g(t)&&n(3,r.dataset.load=!0,r)},e=>{let{target:t}=e;g(t)&&n(3,r.dataset.error=!0,r)},a,l,c,u,function(e){G$[e?"unshift":"push"]((()=>{r=e,n(3,r)}))}]}class xE extends CS{constructor(e){super(),AS(this,e,wE,vE,Gx,{html:0,title:1,onclick:7,disabled:2,ongrab:8,ondrag:9,ondrop:10})}}function $E(e,t,n){const r=e.slice();return r[14]=t[n],r}function SE(e,t){let n,r,i,o,a,s,l;function c(){return t[10](t[14])}function u(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t[11](t[14],...n)}function d(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t[12](t[14],...n)}function h(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t[13](t[14],...n)}return r=new xE({props:{onclick:c,ongrab:u,ondrag:d,ondrop:h,disabled:t[1]||t[14].disabled,title:t[14].title,html:t[14].thumb}}),{key:e,first:null,c(){n=m$("li"),$S(r.$$.fragment),i=v$(),k$(n,"style",t[6]),this.first=n},m(e,c){f$(e,n,c),SS(r,n,null),d$(n,i),a=!0,s||(l=i$(o=t[8].call(null,n,t[14])),s=!0)},p(e,i){t=e;const s={};5&i&&(s.onclick=c),9&i&&(s.ongrab=u),17&i&&(s.ondrag=d),33&i&&(s.ondrop=h),3&i&&(s.disabled=t[1]||t[14].disabled),1&i&&(s.title=t[14].title),1&i&&(s.html=t[14].thumb),r.$set(s),(!a||64&i)&&k$(n,"style",t[6]),o&&Vx(o.update)&&1&i&&o.update.call(null,t[14])},i(e){a||(dS(r.$$.fragment,e),a=!0)},o(e){hS(r.$$.fragment,e),a=!1},d(e){e&&g$(n),kS(r),s=!1,l()}}}function kE(e){let t,n,r=[],i=new Map,o=e[0];const a=e=>e[14].id;for(let s=0;s<o.length;s+=1){let t=$E(e,o,s),n=a(t);i.set(n,r[s]=SE(n,t))}return{c(){t=m$("ul");for(let e=0;e<r.length;e+=1)r[e].c();k$(t,"class","PinturaImageButtonList")},m(e,i){f$(e,t,i);for(let n=0;n<r.length;n+=1)r[n].m(t,null);n=!0},p(e,n){let[s]=n;127&s&&(o=e[0],cS(),r=bS(r,s,a,1,e,o,i,t,yS,SE,null,$E),uS())},i(e){if(!n){for(let e=0;e<o.length;e+=1)dS(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)hS(r[t]);n=!1},d(e){e&&g$(t);for(let t=0;t<r.length;t+=1)r[t].d()}}}function AE(e,t,n){let r,i,{items:o}=t,{disabled:a}=t,{onclickitem:s}=t,{ongrabitem:l}=t,{ondragitem:c}=t,{ondropitem:u}=t;const d=jA(0,{stiffness:.25,damping:.9});return Kx(e,d,(e=>n(9,i=e))),D$((()=>d.set(1))),e.$$set=e=>{"items"in e&&n(0,o=e.items),"disabled"in e&&n(1,a=e.disabled),"onclickitem"in e&&n(2,s=e.onclickitem),"ongrabitem"in e&&n(3,l=e.ongrabitem),"ondragitem"in e&&n(4,c=e.ondragitem),"ondropitem"in e&&n(5,u=e.ondropitem)},e.$$.update=()=>{512&e.$$.dirty&&n(6,r="opacity:"+i)},[o,a,s,l,c,u,r,d,(e,t)=>t.mount&&t.mount(e.firstChild,t),i,e=>s(e.id),(e,t)=>l&&l(e.id,t),(e,t)=>c&&c(e.id,t),(e,t)=>u&&u(e.id,t)]}class CE extends CS{constructor(e){super(),AS(this,e,AE,kE,Gx,{items:0,disabled:1,onclickitem:2,ongrabitem:3,ondragitem:4,ondropitem:5})}}var EE=()=>um()&&window.devicePixelRatio||1;let TE=null;var PE=e=>(null===TE&&(TE=1===EE()?Math.round:e=>e),TE(e)),RE=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){if(t.preventScroll&&qb()){const t=document.body.scrollTop;return e.focus(),void(document.body.scrollTop=t)}e.focus(t)}},ME=e=>/date|email|number|search|text|url/.test(e.type),IE=e=>(e=>/textarea/i.test(e.nodeName))(e)||ME(e)||e.isContentEditable;const LE=e=>({}),BE=e=>({}),OE=e=>({}),FE=e=>({});function NE(e){let t,n;const r=[e[7]];let i={$$slots:{default:[zE]},$$scope:{ctx:e}};for(let o=0;o<r.length;o+=1)i=Ux(i,r[o]);return t=new XC({props:i}),e[46](t),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const i=128&n[0]?vS(r,[wS(e[7])]):{};524288&n[1]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(n){e[46](null),kS(t,n)}}}function DE(e){let t,n;const r=[e[7]];let i={};for(let o=0;o<r.length;o+=1)i=Ux(i,r[o]);return t=new XC({props:i}),e[45](t),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const i=128&n[0]?vS(r,[wS(e[7])]):{};t.$set(i)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(n){e[45](null),kS(t,n)}}}function zE(e){let t;const n=e[44].label,r=Zx(n,e,e[50],FE);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,i){r&&r.p&&(!t||524288&i[1])&&Yx(r,n,e,e[50],t?Jx(n,e[50],i,OE):e$(e[50]),FE)},i(e){t||(dS(r,e),t=!0)},o(e){hS(r,e),t=!1},d(e){r&&r.d(e)}}}function _E(e){let t,n,r,i,o,a,s;const l=e[44].details,c=Zx(l,e,e[50],BE);return{c(){t=m$("div"),c&&c.c(),n=v$(),r=m$("span"),k$(r,"class","PinturaPanelTip"),k$(r,"style",e[10]),k$(t,"class",i=gC(["PinturaPanel","pintura-editor-panel",e[2]])),k$(t,"tabindex","-1"),k$(t,"style",e[11])},m(i,l){f$(i,t,l),c&&c.m(t,null),d$(t,n),d$(t,r),e[47](t),o=!0,a||(s=[x$(t,"close",e[48]),x$(t,"keydown",e[18]),x$(t,"measure",e[49]),i$(iC.call(null,t))],a=!0)},p(e,n){c&&c.p&&(!o||524288&n[1])&&Yx(c,l,e,e[50],o?Jx(l,e[50],n,LE):e$(e[50]),BE),(!o||1024&n[0])&&k$(r,"style",e[10]),(!o||4&n[0]&&i!==(i=gC(["PinturaPanel","pintura-editor-panel",e[2]])))&&k$(t,"class",i),(!o||2048&n[0])&&k$(t,"style",e[11])},i(e){o||(dS(c,e),o=!0)},o(e){hS(c,e),o=!1},d(n){n&&g$(t),c&&c.d(n),e[47](null),a=!1,Wx(s)}}}function UE(e){let t,n,r,i,o,a,s,l,c;const u=[DE,NE],d=[];function h(e,t){return e[1]?0:1}n=h(e),r=d[n]=u[n](e);let p=e[6]&&_E(e);return{c(){t=v$(),r.c(),i=v$(),p&&p.c(),o=v$(),a=w$()},m(r,u){f$(r,t,u),d[n].m(r,u),f$(r,i,u),p&&p.m(r,u),f$(r,o,u),f$(r,a,u),s=!0,l||(c=[x$(document.body,"pointerdown",(function(){Vx(e[9])&&e[9].apply(this,arguments)})),x$(document.body,"pointerup",(function(){Vx(e[8])&&e[8].apply(this,arguments)}))],l=!0)},p(t,a){let s=n;n=h(e=t),n===s?d[n].p(e,a):(cS(),hS(d[s],1,1,(()=>{d[s]=null})),uS(),r=d[n],r?r.p(e,a):(r=d[n]=u[n](e),r.c()),dS(r,1),r.m(i.parentNode,i)),e[6]?p?(p.p(e,a),64&a[0]&&dS(p,1)):(p=_E(e),p.c(),dS(p,1),p.m(o.parentNode,o)):p&&(cS(),hS(p,1,1,(()=>{p=null})),uS())},i(e){s||(dS(r),dS(p),dS(!1),s=!0)},o(e){hS(r),hS(p),hS(!1),s=!1},d(e){e&&g$(t),d[n].d(e),e&&g$(i),p&&p.d(e),e&&g$(o),e&&g$(a),l=!1,Wx(c)}}}function jE(e,t,n){let r,i,o,a,s,l,c,u,d,h,p,f,g,m,y,b,v,w,x,{$$slots:$={},$$scope:S}=t,{buttonClass:k}=t,{buttonLabel:A}=t,{buttonLabelClass:C}=t,{buttonHideLabel:E}=t,{buttonIcon:T}=t,{buttonTitle:P}=t,{panelClass:R}=t,{isActive:M=!1}=t,{onshow:I=(e=>{let{panel:t}=e;return RE(t,{preventScroll:!0})})}=t,{onhide:L=om}=t;const B=H$("isAnimated");Kx(e,B,(e=>n(43,x=e)));const O=H$("rootPortal");Kx(e,O,(e=>n(38,m=e)));const F=H$("rootRect");let N,D,z;Kx(e,F,(e=>n(41,v=e)));const _=()=>n(26,z=r&&r.getBoundingClientRect());let U=dy(),j=jA(0);Kx(e,j,(e=>n(40,b=e)));let H=dy();const W=PS({x:0,y:0});Kx(e,W,(e=>n(39,y=e)));const V=jA(-5,{stiffness:.1,damping:.35,precision:.001});Kx(e,V,(e=>n(42,w=e)));let G=!0;const Q=e=>WC(e,m)||D.isEventTarget(e);let q,K,Z=!1;const X=e=>{IE(e.target)||(M||_(),n(31,K=e),n(0,M=!M))},J=e=>{/down/i.test(e.key)&&(n(0,M=!0),n(31,K=e))};return _$((()=>{if(!m)return;if(!q)return;const e=q;J$().then((()=>{e.parentNode&&e.remove()}))})),e.$$set=e=>{"buttonClass"in e&&n(19,k=e.buttonClass),"buttonLabel"in e&&n(1,A=e.buttonLabel),"buttonLabelClass"in e&&n(20,C=e.buttonLabelClass),"buttonHideLabel"in e&&n(21,E=e.buttonHideLabel),"buttonIcon"in e&&n(22,T=e.buttonIcon),"buttonTitle"in e&&n(23,P=e.buttonTitle),"panelClass"in e&&n(2,R=e.panelClass),"isActive"in e&&n(0,M=e.isActive),"onshow"in e&&n(24,I=e.onshow),"onhide"in e&&n(25,L=e.onhide),"$$scope"in e&&n(50,S=e.$$scope)},e.$$.update=()=>{if(16&e.$$.dirty[0]&&(r=D&&D.getElement()),1073741825&e.$$.dirty[0]&&n(8,f=M?e=>{Z&&(n(30,Z=!1),Q(e)||n(0,M=!1))}:void 0),1&e.$$.dirty[0]|4096&e.$$.dirty[1]&&j.set(M?1:0,{hard:!1===x}),1&e.$$.dirty[0]|4096&e.$$.dirty[1]&&V.set(M?0:-5,{hard:!1===x}),2048&e.$$.dirty[1]&&n(34,i=1-w/-5),1&e.$$.dirty[0]|1024&e.$$.dirty[1]&&v&&M&&_(),67108873&e.$$.dirty[0]|1024&e.$$.dirty[1]&&v&&N&&z&&M){n(29,G=!0);let e=z.x-v.x+.5*z.width-.5*N.width,t=z.y-v.y+z.height;const r=12,i=12,o=v.width-12,a=v.height-12,s=e,l=t,c=s+N.width,u=l+N.height;s<r&&(n(28,H.x=s-r,H),e=r),c>o&&(n(28,H.x=c-o,H),e=o-N.width),u>a?(n(27,U.y=-1,U),i<t-N.height-z.height?(n(28,H.y=0,H),t-=N.height+z.height):(n(28,H.y=t-(u-a),H),t-=u-a-12,n(29,G=!1))):n(27,U.y=1,U),r$(W,y=xy(hy(e,t),PE),y)}512&e.$$.dirty[1]&&n(6,o=b>0),512&e.$$.dirty[1]&&n(37,a=b<1),134217728&e.$$.dirty[0]|2304&e.$$.dirty[1]&&n(36,s="translateX(".concat(Math.round(y.x)+12*U.x,"px) translateY(").concat(Math.round(y.y)+12*U.y+U.y*w,"px)")),1024&e.$$.dirty[1]&&n(35,l="--panel-max-height:".concat(v.height-24,"px")),624&e.$$.dirty[1]&&n(11,c=a?"opacity: ".concat(b,"; pointer-events: ").concat(b<1?"none":"all","; transform: ").concat(s,";").concat(l):"transform: ".concat(s,";").concat(l)),8&e.$$.dirty[1]&&n(32,u=.5+.5*i),8&e.$$.dirty[1]&&n(33,d=i),939524104&e.$$.dirty[0]|262&e.$$.dirty[1]&&n(10,h=y&&N&&"opacity:".concat(G?d:0,";transform:scaleX(").concat(u,")rotate(45deg);top:").concat(U.y<0?H.y+N.height:0,"px;left:").concat(H.x+.5*N.width,"px")),1&e.$$.dirty[0]&&n(9,p=M?e=>{Q(e)||n(30,Z=!0)}:void 0),96&e.$$.dirty[0]|128&e.$$.dirty[1]&&o&&m&&q&&q.parentNode!==m&&m.append(q),1&e.$$.dirty[0]&&(M||n(31,K=void 0)),16777313&e.$$.dirty[0]|1&e.$$.dirty[1]&&M&&o&&q&&I({e:K,panel:q}),33554497&e.$$.dirty[0]&&o&&!M&&L(),16252930&e.$$.dirty[0]&&n(7,g={label:A,icon:T,class:gC(["PinturaPanelButton",k]),onkeydown:J,onclick:X,hideLabel:E,labelClass:C,title:P})},[M,A,R,N,D,q,o,g,f,p,h,c,B,O,F,j,W,V,e=>{/esc/i.test(e.key)&&(n(0,M=!1),r.focus())},k,C,E,T,P,I,L,z,U,H,G,Z,K,u,d,i,l,s,a,m,y,b,v,w,x,$,function(e){G$[e?"unshift":"push"]((()=>{D=e,n(4,D)}))},function(e){G$[e?"unshift":"push"]((()=>{D=e,n(4,D)}))},function(e){G$[e?"unshift":"push"]((()=>{q=e,n(5,q)}))},e=>{e.stopPropagation(),n(0,M=!1)},e=>n(3,N=Oy(e.detail)),S]}class HE extends CS{constructor(e){super(),AS(this,e,jE,UE,Gx,{buttonClass:19,buttonLabel:1,buttonLabelClass:20,buttonHideLabel:21,buttonIcon:22,buttonTitle:23,panelClass:2,isActive:0,onshow:24,onhide:25},null,[-1,-1])}}var WE={Up:38,Down:40,Left:37,Right:39};function VE(e){let t,n,r,i,o,a,s,l;const c=e[15].default,u=Zx(c,e,e[14],null);return{c(){t=m$("li"),n=m$("input"),r=v$(),i=m$("label"),u&&u.c(),k$(n,"type","radio"),k$(n,"class","implicit"),k$(n,"id",e[7]),k$(n,"name",e[0]),n.value=e[3],n.disabled=e[6],n.hidden=e[5],n.checked=e[4],k$(i,"for",e[7]),k$(i,"title",e[2]),k$(t,"class",o=gC(["PinturaRadioGroupOption",e[1]])),k$(t,"data-hidden",e[5]),k$(t,"data-disabled",e[6]),k$(t,"data-selected",e[4])},m(o,c){f$(o,t,c),d$(t,n),d$(t,r),d$(t,i),u&&u.m(i,null),a=!0,s||(l=[x$(n,"change",S$(e[16])),x$(n,"keydown",e[9]),x$(n,"click",e[10])],s=!0)},p(e,r){let[s]=r;(!a||128&s)&&k$(n,"id",e[7]),(!a||1&s)&&k$(n,"name",e[0]),(!a||8&s)&&(n.value=e[3]),(!a||64&s)&&(n.disabled=e[6]),(!a||32&s)&&(n.hidden=e[5]),(!a||16&s)&&(n.checked=e[4]),u&&u.p&&(!a||16384&s)&&Yx(u,c,e,e[14],a?Jx(c,e[14],s,null):e$(e[14]),null),(!a||128&s)&&k$(i,"for",e[7]),(!a||4&s)&&k$(i,"title",e[2]),(!a||2&s&&o!==(o=gC(["PinturaRadioGroupOption",e[1]])))&&k$(t,"class",o),(!a||32&s)&&k$(t,"data-hidden",e[5]),(!a||64&s)&&k$(t,"data-disabled",e[6]),(!a||16&s)&&k$(t,"data-selected",e[4])},i(e){a||(dS(u,e),a=!0)},o(e){hS(u,e),a=!1},d(e){e&&g$(t),u&&u.d(e),s=!1,Wx(l)}}}function GE(e,t,n){let r,i,{$$slots:o={},$$scope:a}=t,{name:s}=t,{class:l}=t,{label:c}=t,{id:u}=t,{value:d}=t,{checked:h}=t,{onkeydown:p}=t,{onclick:f}=t,{hidden:g=!1}=t,{disabled:m=!1}=t;const y=Object.values(WE),b=H$("keysPressed");return Kx(e,b,(e=>n(17,i=e))),e.$$set=e=>{"name"in e&&n(0,s=e.name),"class"in e&&n(1,l=e.class),"label"in e&&n(2,c=e.label),"id"in e&&n(11,u=e.id),"value"in e&&n(3,d=e.value),"checked"in e&&n(4,h=e.checked),"onkeydown"in e&&n(12,p=e.onkeydown),"onclick"in e&&n(13,f=e.onclick),"hidden"in e&&n(5,g=e.hidden),"disabled"in e&&n(6,m=e.disabled),"$$scope"in e&&n(14,a=e.$$scope)},e.$$.update=()=>{2049&e.$$.dirty&&n(7,r="".concat(s,"-").concat(u))},[s,l,c,d,h,g,m,r,b,e=>{p(e)},e=>{i.some((e=>y.includes(e)))||f(e)},u,p,f,a,o,function(t){W$.call(this,e,t)}]}class QE extends CS{constructor(e){super(),AS(this,e,GE,VE,Gx,{name:0,class:1,label:2,id:11,value:3,checked:4,onkeydown:12,onclick:13,hidden:5,disabled:6})}}var qE=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(((e,t)=>(Mv(t)?Mv(t[1]):t.options)?e.concat(Mv(t)?t[1]:t.options):(e.push(t),e)),[])};const KE=(e,t,n)=>{let r;return Mv(e)?r={id:t,value:e[0],label:e[1],...e[2]||{}}:(r=e,r.id=null!=r.id?r.id:t),n?n(r):r};var ZE=(e,t,n)=>Tm(e)?e(t,n):e;const XE=(e,t)=>e.map((e=>{let[n,r,i]=e;if(Mv(r))return[ZE(n,t),XE(r,t)];{const e=[n,ZE(r,t)];if(i){let n={...i};i.icon&&(n.icon=ZE(i.icon,t)),e.push(n)}return e}}));var JE=(e,t)=>XE(e,t),YE=(e,t)=>Array.isArray(e)&&Array.isArray(t)?YS(e,t):e===t;function eT(e,t,n){const r=e.slice();return r[27]=t[n],r}const tT=e=>({option:1024&e[0]}),nT=e=>({option:e[27]});function rT(e,t,n){const r=e.slice();return r[27]=t[n],r}const iT=e=>({option:1024&e[0]}),oT=e=>({option:e[27]}),aT=e=>({option:1024&e[0]}),sT=e=>({option:e[27]});function lT(e){let t,n,r,i,o,a=[],s=new Map,l=e[1]&&cT(e),c=e[10];const u=e=>e[27].id;for(let d=0;d<c.length;d+=1){let t=eT(e,c,d),n=u(t);s.set(n,a[d]=xT(n,t))}return{c(){t=m$("fieldset"),l&&l.c(),n=v$(),r=m$("ul");for(let e=0;e<a.length;e+=1)a[e].c();k$(r,"class","PinturaRadioGroupOptions"),k$(t,"class",i=gC(["PinturaRadioGroup",e[3]])),k$(t,"data-layout",e[5]),k$(t,"title",e[7])},m(e,i){f$(e,t,i),l&&l.m(t,null),d$(t,n),d$(t,r);for(let t=0;t<a.length;t+=1)a[t].m(r,null);o=!0},p(e,d){e[1]?l?l.p(e,d):(l=cT(e),l.c(),l.m(t,n)):l&&(l.d(1),l=null),8419153&d[0]&&(c=e[10],cS(),a=bS(a,d,u,1,e,c,s,r,yS,xT,null,eT),uS()),(!o||8&d[0]&&i!==(i=gC(["PinturaRadioGroup",e[3]])))&&k$(t,"class",i),(!o||32&d[0])&&k$(t,"data-layout",e[5]),(!o||128&d[0])&&k$(t,"title",e[7])},i(e){if(!o){for(let e=0;e<c.length;e+=1)dS(a[e]);o=!0}},o(e){for(let t=0;t<a.length;t+=1)hS(a[t]);o=!1},d(e){e&&g$(t),l&&l.d();for(let t=0;t<a.length;t+=1)a[t].d()}}}function cT(e){let t,n,r;return{c(){t=m$("legend"),n=b$(e[1]),k$(t,"class",r=e[2]&&"implicit")},m(e,r){f$(e,t,r),d$(t,n)},p(e,i){2&i[0]&&E$(n,e[1]),4&i[0]&&r!==(r=e[2]&&"implicit")&&k$(t,"class",r)},d(e){e&&g$(t)}}}function uT(e){let t,n;return t=new QE({props:{name:e[4],label:e[27].label,id:e[27].id,value:e[27].value,disabled:e[27].disabled,hidden:e[27].hidden,class:e[8],checked:e[12](e[27])===e[0],onkeydown:e[13](e[27]),onclick:e[14](e[27]),$$slots:{default:[gT]},$$scope:{ctx:e}}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};16&n[0]&&(r.name=e[4]),1024&n[0]&&(r.label=e[27].label),1024&n[0]&&(r.id=e[27].id),1024&n[0]&&(r.value=e[27].value),1024&n[0]&&(r.disabled=e[27].disabled),1024&n[0]&&(r.hidden=e[27].hidden),256&n[0]&&(r.class=e[8]),1025&n[0]&&(r.checked=e[12](e[27])===e[0]),1024&n[0]&&(r.onkeydown=e[13](e[27])),1024&n[0]&&(r.onclick=e[14](e[27])),8389696&n[0]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function dT(e){let t,n,r,i,o,a,s=[],l=new Map;const c=e[22].group,u=Zx(c,e,e[23],sT),d=u||function(e){let t,n,r=e[27].label+"";return{c(){t=m$("span"),n=b$(r),k$(t,"class","PinturaRadioGroupOptionGroupLabel")},m(e,r){f$(e,t,r),d$(t,n)},p(e,t){1024&t[0]&&r!==(r=e[27].label+"")&&E$(n,r)},d(e){e&&g$(t)}}}(e);let h=e[27].options;const p=e=>e[27].id;for(let f=0;f<h.length;f+=1){let t=rT(e,h,f),n=p(t);l.set(n,s[f]=wT(n,t))}return{c(){t=m$("li"),d&&d.c(),n=v$(),r=m$("ul");for(let e=0;e<s.length;e+=1)s[e].c();i=v$(),k$(r,"class","PinturaRadioGroupOptions"),k$(t,"class",o=gC(["PinturaRadioGroupOptionGroup",e[9]]))},m(e,o){f$(e,t,o),d&&d.m(t,null),d$(t,n),d$(t,r);for(let t=0;t<s.length;t+=1)s[t].m(r,null);d$(t,i),a=!0},p(e,n){u?u.p&&(!a||8389632&n[0])&&Yx(u,c,e,e[23],a?Jx(c,e[23],n,aT):e$(e[23]),sT):d&&d.p&&(!a||1024&n[0])&&d.p(e,a?n:[-1,-1]),8418641&n[0]&&(h=e[27].options,cS(),s=bS(s,n,p,1,e,h,l,r,yS,wT,null,rT),uS()),(!a||512&n[0]&&o!==(o=gC(["PinturaRadioGroupOptionGroup",e[9]])))&&k$(t,"class",o)},i(e){if(!a){dS(d,e);for(let e=0;e<h.length;e+=1)dS(s[e]);a=!0}},o(e){hS(d,e);for(let t=0;t<s.length;t+=1)hS(s[t]);a=!1},d(e){e&&g$(t),d&&d.d(e);for(let t=0;t<s.length;t+=1)s[t].d()}}}function hT(e){let t,n;return t=new HC({props:{$$slots:{default:[pT]},$$scope:{ctx:e}}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};8389632&n[0]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function pT(e){let t,n=e[27].icon+"";return{c(){t=y$("g")},m(e,r){f$(e,t,r),t.innerHTML=n},p(e,r){1024&r[0]&&n!==(n=e[27].icon+"")&&(t.innerHTML=n)},d(e){e&&g$(t)}}}function fT(e){let t,n,r=e[27].label+"";return{c(){t=m$("span"),n=b$(r),k$(t,"class",e[6])},m(e,r){f$(e,t,r),d$(t,n)},p(e,i){1024&i[0]&&r!==(r=e[27].label+"")&&E$(n,r),64&i[0]&&k$(t,"class",e[6])},d(e){e&&g$(t)}}}function gT(e){let t;const n=e[22].option,r=Zx(n,e,e[23],nT),i=r||function(e){let t,n,r,i=e[27].icon&&hT(e),o=!e[27].hideLabel&&fT(e);return{c(){i&&i.c(),t=v$(),o&&o.c(),n=v$()},m(e,a){i&&i.m(e,a),f$(e,t,a),o&&o.m(e,a),f$(e,n,a),r=!0},p(e,r){e[27].icon?i?(i.p(e,r),1024&r[0]&&dS(i,1)):(i=hT(e),i.c(),dS(i,1),i.m(t.parentNode,t)):i&&(cS(),hS(i,1,1,(()=>{i=null})),uS()),e[27].hideLabel?o&&(o.d(1),o=null):o?o.p(e,r):(o=fT(e),o.c(),o.m(n.parentNode,n))},i(e){r||(dS(i),r=!0)},o(e){hS(i),r=!1},d(e){i&&i.d(e),e&&g$(t),o&&o.d(e),e&&g$(n)}}}(e);return{c(){i&&i.c()},m(e,n){i&&i.m(e,n),t=!0},p(e,o){r?r.p&&(!t||8389632&o[0])&&Yx(r,n,e,e[23],t?Jx(n,e[23],o,tT):e$(e[23]),nT):i&&i.p&&(!t||1088&o[0])&&i.p(e,t?o:[-1,-1])},i(e){t||(dS(i,e),t=!0)},o(e){hS(i,e),t=!1},d(e){i&&i.d(e)}}}function mT(e){let t,n;return t=new HC({props:{$$slots:{default:[yT]},$$scope:{ctx:e}}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};8389632&n[0]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function yT(e){let t,n=e[27].icon+"";return{c(){t=y$("g")},m(e,r){f$(e,t,r),t.innerHTML=n},p(e,r){1024&r[0]&&n!==(n=e[27].icon+"")&&(t.innerHTML=n)},d(e){e&&g$(t)}}}function bT(e){let t,n,r=e[27].label+"";return{c(){t=m$("span"),n=b$(r),k$(t,"class",e[6])},m(e,r){f$(e,t,r),d$(t,n)},p(e,i){1024&i[0]&&r!==(r=e[27].label+"")&&E$(n,r),64&i[0]&&k$(t,"class",e[6])},d(e){e&&g$(t)}}}function vT(e){let t;const n=e[22].option,r=Zx(n,e,e[23],oT),i=r||function(e){let t,n,r,i=e[27].icon&&mT(e),o=!e[27].hideLabel&&bT(e);return{c(){i&&i.c(),t=v$(),o&&o.c(),n=v$()},m(e,a){i&&i.m(e,a),f$(e,t,a),o&&o.m(e,a),f$(e,n,a),r=!0},p(e,r){e[27].icon?i?(i.p(e,r),1024&r[0]&&dS(i,1)):(i=mT(e),i.c(),dS(i,1),i.m(t.parentNode,t)):i&&(cS(),hS(i,1,1,(()=>{i=null})),uS()),e[27].hideLabel?o&&(o.d(1),o=null):o?o.p(e,r):(o=bT(e),o.c(),o.m(n.parentNode,n))},i(e){r||(dS(i),r=!0)},o(e){hS(i),r=!1},d(e){i&&i.d(e),e&&g$(t),o&&o.d(e),e&&g$(n)}}}(e);return{c(){i&&i.c()},m(e,n){i&&i.m(e,n),t=!0},p(e,o){r?r.p&&(!t||8389632&o[0])&&Yx(r,n,e,e[23],t?Jx(n,e[23],o,iT):e$(e[23]),oT):i&&i.p&&(!t||1088&o[0])&&i.p(e,t?o:[-1,-1])},i(e){t||(dS(i,e),t=!0)},o(e){hS(i,e),t=!1},d(e){i&&i.d(e)}}}function wT(e,t){let n,r,i;return r=new QE({props:{name:t[4],label:t[27].label,id:t[27].id,value:t[27].value,disabled:t[27].disabled,hidden:t[27].hidden,class:t[8],checked:t[12](t[27])===t[0],onkeydown:t[13](t[27]),onclick:t[14](t[27]),$$slots:{default:[vT]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=w$(),$S(r.$$.fragment),this.first=n},m(e,t){f$(e,n,t),SS(r,e,t),i=!0},p(e,n){t=e;const i={};16&n[0]&&(i.name=t[4]),1024&n[0]&&(i.label=t[27].label),1024&n[0]&&(i.id=t[27].id),1024&n[0]&&(i.value=t[27].value),1024&n[0]&&(i.disabled=t[27].disabled),1024&n[0]&&(i.hidden=t[27].hidden),256&n[0]&&(i.class=t[8]),1025&n[0]&&(i.checked=t[12](t[27])===t[0]),1024&n[0]&&(i.onkeydown=t[13](t[27])),1024&n[0]&&(i.onclick=t[14](t[27])),8389696&n[0]&&(i.$$scope={dirty:n,ctx:t}),r.$set(i)},i(e){i||(dS(r.$$.fragment,e),i=!0)},o(e){hS(r.$$.fragment,e),i=!1},d(e){e&&g$(n),kS(r,e)}}}function xT(e,t){let n,r,i,o,a;const s=[dT,uT],l=[];function c(e,t){return e[27].options?0:1}return r=c(t),i=l[r]=s[r](t),{key:e,first:null,c(){n=w$(),i.c(),o=w$(),this.first=n},m(e,t){f$(e,n,t),l[r].m(e,t),f$(e,o,t),a=!0},p(e,n){let a=r;r=c(t=e),r===a?l[r].p(t,n):(cS(),hS(l[a],1,1,(()=>{l[a]=null})),uS(),i=l[r],i?i.p(t,n):(i=l[r]=s[r](t),i.c()),dS(i,1),i.m(o.parentNode,o))},i(e){a||(dS(i),a=!0)},o(e){hS(i),a=!1},d(e){e&&g$(n),l[r].d(e),e&&g$(o)}}}function $T(e){let t,n,r,i=e[11].length&&lT(e);return{c(){i&&i.c(),t=v$(),n=w$()},m(e,o){i&&i.m(e,o),f$(e,t,o),f$(e,n,o),r=!0},p(e,n){e[11].length?i?(i.p(e,n),2048&n[0]&&dS(i,1)):(i=lT(e),i.c(),dS(i,1),i.m(t.parentNode,t)):i&&(cS(),hS(i,1,1,(()=>{i=null})),uS())},i(e){r||(dS(i),dS(!1),r=!0)},o(e){hS(i),hS(!1),r=!1},d(e){i&&i.d(e),e&&g$(t),e&&g$(n)}}}function ST(e,t,n){let r,i,o,{$$slots:a={},$$scope:s}=t;const l=U$();let{label:c}=t,{hideLabel:u=!0}=t,{class:d}=t,{name:h="radio-group-"+Mm()}=t,{selectedIndex:p=-1}=t,{options:f=[]}=t,{onchange:g}=t,{layout:m}=t,{optionMapper:y}=t,{optionFilter:b}=t,{value:v}=t,{optionLabelClass:w}=t,{title:x}=t,{locale:$}=t,{optionClass:S}=t,{optionGroupClass:k}=t;const A=e=>o.findIndex((t=>t.id===e.id)),C=(e,t)=>{n(0,p=A(e));const r={index:p,...e};(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e&&e(...n)})(g,r,t),l("change",r)};return e.$$set=e=>{"label"in e&&n(1,c=e.label),"hideLabel"in e&&n(2,u=e.hideLabel),"class"in e&&n(3,d=e.class),"name"in e&&n(4,h=e.name),"selectedIndex"in e&&n(0,p=e.selectedIndex),"options"in e&&n(15,f=e.options),"onchange"in e&&n(16,g=e.onchange),"layout"in e&&n(5,m=e.layout),"optionMapper"in e&&n(17,y=e.optionMapper),"optionFilter"in e&&n(18,b=e.optionFilter),"value"in e&&n(19,v=e.value),"optionLabelClass"in e&&n(6,w=e.optionLabelClass),"title"in e&&n(7,x=e.title),"locale"in e&&n(20,$=e.locale),"optionClass"in e&&n(8,S=e.optionClass),"optionGroupClass"in e&&n(9,k=e.optionGroupClass),"$$scope"in e&&n(23,s=e.$$scope)},e.$$.update=()=>{1343488&e.$$.dirty[0]&&n(11,r=JE(b?f.filter(b):f,$)),133120&e.$$.dirty[0]&&n(10,i=function(){let e=arguments.length>1?arguments[1]:void 0,t=0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((n=>(t++,Mv(n)?Mv(n[1])?{id:t,label:n[0],options:n[1].map((n=>KE(n,++t,e)))}:KE(n,t,e):n.options?{id:n.id||t,label:n.label,options:n.options.map((n=>KE(n,++t,e)))}:KE(n,t,e))))}(r,y)),1024&e.$$.dirty[0]&&n(21,o=qE(i)),2654209&e.$$.dirty[0]&&p<0&&(n(0,p=o.findIndex((e=>YE(e.value,v)))),p<0&&n(0,p=(e=>e.findIndex((e=>void 0===e[0])))(f)))},[p,c,u,d,h,m,w,x,S,k,i,r,A,e=>t=>{var n;n=t.key,/enter| /i.test(n)&&C(e,t)},e=>t=>{C(e,t)},f,g,y,b,v,$,o,a,s]}class kT extends CS{constructor(e){super(),AS(this,e,ST,$T,Gx,{label:1,hideLabel:2,class:3,name:4,selectedIndex:0,options:15,onchange:16,layout:5,optionMapper:17,optionFilter:18,value:19,optionLabelClass:6,title:7,locale:20,optionClass:8,optionGroupClass:9},null,[-1,-1])}}function AT(e){let t,n,r,i,o,a,s,l,c,u;return{c(){t=m$("div"),n=m$("button"),r=b$("\u25b2"),o=v$(),a=m$("button"),s=b$("\u25bc"),k$(n,"type","button"),k$(n,"tabindex","-1"),k$(n,"aria-label",i="increase "+e[7]),k$(a,"type","button"),k$(a,"tabindex","-1"),k$(a,"aria-label",l="decrease "+e[7]),k$(t,"class","PinturaInputSpinners")},m(i,l){f$(i,t,l),d$(t,n),d$(n,r),d$(t,o),d$(t,a),d$(a,s),c||(u=[x$(n,"click",e[17]),x$(a,"click",e[18])],c=!0)},p(e,t){128&t&&i!==(i="increase "+e[7])&&k$(n,"aria-label",i),128&t&&l!==(l="decrease "+e[7])&&k$(a,"aria-label",l)},d(e){e&&g$(t),c=!1,Wx(u)}}}function CT(e){let t,n,r,i,o,a,s="number"===e[1]&&e[9]&&AT(e);return{c(){t=m$("div"),n=m$("input"),i=v$(),s&&s.c(),k$(n,"class","PinturaInputField"),k$(n,"title",e[7]),k$(n,"type",e[1]),k$(n,"min",e[4]),k$(n,"max",e[5]),k$(n,"step",e[6]),k$(n,"inputmode",e[3]),n.value=r=e[14]?e[13]:e[0],k$(n,"style",e[11]),k$(n,"placeholder",e[8]),k$(n,"maxlength",e[12]),n.disabled=e[2],k$(n,"spellcheck","false"),k$(n,"autocorrect","off"),k$(n,"autocapitalize","off"),k$(t,"class","PinturaInput")},m(r,l){f$(r,t,l),d$(t,n),e[27](n),d$(t,i),s&&s.m(t,null),o||(a=[x$(n,"input",e[16]),x$(n,"blur",(function(){Vx(e[14]&&e[15])&&(e[14]&&e[15]).apply(this,arguments)})),x$(n,"keydown",e[19]),x$(n,"keyup",e[20])],o=!0)},p(i,o){let[a]=o;e=i,128&a&&k$(n,"title",e[7]),2&a&&k$(n,"type",e[1]),16&a&&k$(n,"min",e[4]),32&a&&k$(n,"max",e[5]),64&a&&k$(n,"step",e[6]),8&a&&k$(n,"inputmode",e[3]),24577&a&&r!==(r=e[14]?e[13]:e[0])&&n.value!==r&&(n.value=r),2048&a&&k$(n,"style",e[11]),256&a&&k$(n,"placeholder",e[8]),4096&a&&k$(n,"maxlength",e[12]),4&a&&(n.disabled=e[2]),"number"===e[1]&&e[9]?s?s.p(e,a):(s=AT(e),s.c(),s.m(t,null)):s&&(s.d(1),s=null)},i:zx,o:zx,d(n){n&&g$(t),e[27](null),s&&s.d(),o=!1,Wx(a)}}}function ET(e,t,n){let r,i,o,a,s,l,c,{value:u}=t,{type:d="text"}=t,{disabled:h=!1}=t,{inputmode:p}=t,{min:f}=t,{max:g}=t,{step:m}=t,{onchange:y=om}=t,{onkeydown:b=om}=t,{title:v}=t,{stepMultiplier:w=10}=t,{placeholder:x}=t,{enableSpinButtons:$=!0}=t,{enableStopPropagation:S=!1}=t;const k=()=>{let e=l.value;return"number"===d&&(e="numeric"===p?parseInt(e,10):parseFloat(e),!Tv(e)||Number.isNaN(e)?e=f||0:r&&(e=qS(e,f,g))),e};let A=u;const C=()=>{const e=qS(k()+(c?m*w:m),f,g);e!==u&&(n(25,A=e),n(0,u=e),y(u))},E=()=>{const e=qS(k()-(c?m*w:m),f,g);e!==u&&(n(25,A=e),n(0,u=e),y(u))};return e.$$set=e=>{"value"in e&&n(0,u=e.value),"type"in e&&n(1,d=e.type),"disabled"in e&&n(2,h=e.disabled),"inputmode"in e&&n(3,p=e.inputmode),"min"in e&&n(4,f=e.min),"max"in e&&n(5,g=e.max),"step"in e&&n(6,m=e.step),"onchange"in e&&n(21,y=e.onchange),"onkeydown"in e&&n(22,b=e.onkeydown),"title"in e&&n(7,v=e.title),"stepMultiplier"in e&&n(23,w=e.stepMultiplier),"placeholder"in e&&n(8,x=e.placeholder),"enableSpinButtons"in e&&n(9,$=e.enableSpinButtons),"enableStopPropagation"in e&&n(24,S=e.enableStopPropagation)},e.$$.update=()=>{48&e.$$.dirty&&n(14,r=Tv(f)&&Tv(g)),33555457&e.$$.dirty&&n(13,i=l===document.activeElement?A:u),32&e.$$.dirty&&n(26,o=g?(g+"").length:void 0),67108872&e.$$.dirty&&n(12,a="numeric"===p&&o?o:void 0),67108864&e.$$.dirty&&n(11,s=o?"min-width:".concat(o,"em"):void 0)},[u,d,h,p,f,g,m,v,x,$,l,s,a,i,r,()=>{n(25,A=k()),y(u)},()=>{n(25,A=l.value),y(k())},C,E,e=>{c=e.shiftKey,b(e);const{key:t}=e;S&&e.stopPropagation(),/up|down/i.test(t)&&(/up/i.test(t)&&C(),/down/i.test(t)&&E(),e.preventDefault(),e.stopPropagation())},e=>{const{key:t}=e;/up|down/i.test(t)&&(e.preventDefault(),e.stopPropagation())},y,b,w,S,A,o,function(e){G$[e?"unshift":"push"]((()=>{l=e,n(10,l)}))}]}class TT extends CS{constructor(e){super(),AS(this,e,ET,CT,Gx,{value:0,type:1,disabled:2,inputmode:3,min:4,max:5,step:6,onchange:21,onkeydown:22,title:7,stepMultiplier:23,placeholder:8,enableSpinButtons:9,enableStopPropagation:24})}}const PT=e=>({}),RT=e=>({});function MT(e){let t,n,r,i,o=(e[2]||e[20])+"",a=e[6]&&LT(e);return{c(){a&&a.c(),t=v$(),n=m$("span"),k$(n,"class",r=gC(["PinturaButtonLabel",e[3],e[5]&&"implicit"]))},m(e,r){a&&a.m(e,r),f$(e,t,r),f$(e,n,r),n.innerHTML=o,i=!0},p(e,s){e[6]?a?(a.p(e,s),64&s[0]&&dS(a,1)):(a=LT(e),a.c(),dS(a,1),a.m(t.parentNode,t)):a&&(cS(),hS(a,1,1,(()=>{a=null})),uS()),(!i||1048580&s[0])&&o!==(o=(e[2]||e[20])+"")&&(n.innerHTML=o),(!i||40&s[0]&&r!==(r=gC(["PinturaButtonLabel",e[3],e[5]&&"implicit"])))&&k$(n,"class",r)},i(e){i||(dS(a),i=!0)},o(e){hS(a),i=!1},d(e){a&&a.d(e),e&&g$(t),e&&g$(n)}}}function IT(e){let t,n;return t=new TT({props:{value:e[10],onchange:e[16],enableStopPropagation:!0,type:"number",inputmode:"numeric",min:e[8].reduce(WT,1/0),max:e[8].reduce(VT,-1/0),enableSpinButtons:!1}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};1024&n[0]&&(r.value=e[10]),65536&n[0]&&(r.onchange=e[16]),256&n[0]&&(r.min=e[8].reduce(WT,1/0)),256&n[0]&&(r.max=e[8].reduce(VT,-1/0)),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function LT(e){let t,n;return t=new HC({props:{class:"PinturaButtonIcon",$$slots:{default:[BT]},$$scope:{ctx:e}}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};536870976&n[0]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function BT(e){let t;return{c(){t=y$("g")},m(n,r){f$(n,t,r),t.innerHTML=e[6]},p(e,n){64&n[0]&&(t.innerHTML=e[6])},d(e){e&&g$(t)}}}function OT(e){let t,n,r,i,o;const a=[IT,MT],s=[];function l(e,t){return e[17]?0:1}return n=l(e),r=s[n]=a[n](e),{c(){t=m$("span"),r.c(),k$(t,"slot","label"),k$(t,"class",i=gC(["PinturaButtonInner",e[17]&&"PinturaComboBox",e[4]]))},m(e,r){f$(e,t,r),s[n].m(t,null),o=!0},p(e,c){let u=n;n=l(e),n===u?s[n].p(e,c):(cS(),hS(s[u],1,1,(()=>{s[u]=null})),uS(),r=s[n],r?r.p(e,c):(r=s[n]=a[n](e),r.c()),dS(r,1),r.m(t,null)),(!o||131088&c[0]&&i!==(i=gC(["PinturaButtonInner",e[17]&&"PinturaComboBox",e[4]])))&&k$(t,"class",i)},i(e){o||(dS(r),o=!0)},o(e){hS(r),o=!1},d(e){e&&g$(t),s[n].d()}}}function FT(e){let t,n,r=e[31].label+"";return{c(){t=m$("span"),n=b$(r),k$(t,"slot","group")},m(e,r){f$(e,t,r),d$(t,n)},p(e,t){1&t[1]&&r!==(r=e[31].label+"")&&E$(n,r)},d(e){e&&g$(t)}}}function NT(e){let t,n;return t=new HC({props:{style:Tm(e[14])?e[14](e[31].value):e[14],$$slots:{default:[DT]},$$scope:{ctx:e}}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};16384&n[0]|1&n[1]&&(r.style=Tm(e[14])?e[14](e[31].value):e[14]),536870912&n[0]|1&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function DT(e){let t,n=e[31].icon+"";return{c(){t=y$("g")},m(e,r){f$(e,t,r),t.innerHTML=n},p(e,r){1&r[1]&&n!==(n=e[31].icon+"")&&(t.innerHTML=n)},d(e){e&&g$(t)}}}function zT(e){let t,n,r,i,o,a=e[31].label+"",s=e[31].sublabel&&_T(e);return{c(){t=m$("span"),n=new R$(!1),r=v$(),s&&s.c(),n.a=r,k$(t,"style",i=Tm(e[15])?e[15](e[31].value):e[15]),k$(t,"class",o=gC(["PinturaDropdownOptionLabel",e[11]]))},m(e,i){f$(e,t,i),n.m(a,t),d$(t,r),s&&s.m(t,null)},p(e,r){1&r[1]&&a!==(a=e[31].label+"")&&n.p(a),e[31].sublabel?s?s.p(e,r):(s=_T(e),s.c(),s.m(t,null)):s&&(s.d(1),s=null),32768&r[0]|1&r[1]&&i!==(i=Tm(e[15])?e[15](e[31].value):e[15])&&k$(t,"style",i),2048&r[0]&&o!==(o=gC(["PinturaDropdownOptionLabel",e[11]]))&&k$(t,"class",o)},d(e){e&&g$(t),s&&s.d()}}}function _T(e){let t,n=e[31].sublabel+"";return{c(){t=m$("span"),k$(t,"class","PinturaDropdownOptionSublabel")},m(e,r){f$(e,t,r),t.innerHTML=n},p(e,r){1&r[1]&&n!==(n=e[31].sublabel+"")&&(t.innerHTML=n)},d(e){e&&g$(t)}}}function UT(e){let t,n,r,i=e[31].icon&&NT(e),o=!e[31].hideLabel&&zT(e);return{c(){t=m$("span"),i&&i.c(),n=v$(),o&&o.c(),k$(t,"slot","option")},m(e,a){f$(e,t,a),i&&i.m(t,null),d$(t,n),o&&o.m(t,null),r=!0},p(e,r){e[31].icon?i?(i.p(e,r),1&r[1]&&dS(i,1)):(i=NT(e),i.c(),dS(i,1),i.m(t,n)):i&&(cS(),hS(i,1,1,(()=>{i=null})),uS()),e[31].hideLabel?o&&(o.d(1),o=null):o?o.p(e,r):(o=zT(e),o.c(),o.m(t,null))},i(e){r||(dS(i),r=!0)},o(e){hS(i),r=!1},d(e){e&&g$(t),i&&i.d(),o&&o.d()}}}function jT(e){let t,n,r,i,o,a;const s=e[27].controls,l=Zx(s,e,e[29],RT);return r=new kT({props:{class:"PinturaOptionsList PinturaScrollableContent",name:e[7],value:e[10],selectedIndex:e[9],optionFilter:e[12],optionMapper:e[13],optionLabelClass:gC(["PinturaDropdownOptionLabel",e[11]]),optionGroupClass:"PinturaListOptionGroup",optionClass:"PinturaListOption",options:e[18],onchange:e[21],$$slots:{option:[UT,e=>{let{option:t}=e;return{31:t}},e=>{let{option:t}=e;return[0,t?1:0]}],group:[FT,e=>{let{option:t}=e;return{31:t}},e=>{let{option:t}=e;return[0,t?1:0]}]},$$scope:{ctx:e}}}),{c(){t=m$("div"),l&&l.c(),n=v$(),$S(r.$$.fragment),k$(t,"slot","details"),k$(t,"class","PinturaOptionsListWrapper")},m(s,c){f$(s,t,c),l&&l.m(t,null),d$(t,n),SS(r,t,null),i=!0,o||(a=x$(t,"keydown",e[23]),o=!0)},p(e,t){l&&l.p&&(!i||536870912&t[0])&&Yx(l,s,e,e[29],i?Jx(s,e[29],t,PT):e$(e[29]),RT);const n={};128&t[0]&&(n.name=e[7]),1024&t[0]&&(n.value=e[10]),512&t[0]&&(n.selectedIndex=e[9]),4096&t[0]&&(n.optionFilter=e[12]),8192&t[0]&&(n.optionMapper=e[13]),2048&t[0]&&(n.optionLabelClass=gC(["PinturaDropdownOptionLabel",e[11]])),262144&t[0]&&(n.options=e[18]),536922112&t[0]|1&t[1]&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){i||(dS(l,e),dS(r.$$.fragment,e),i=!0)},o(e){hS(l,e),hS(r.$$.fragment,e),i=!1},d(e){e&&g$(t),l&&l.d(e),kS(r),o=!1,a()}}}function HT(e){let t,n,r;function i(t){e[28](t)}let o={onshow:e[22],buttonTitle:VC(e[2],e[1]),buttonClass:gC(["PinturaDropdownButton",e[0],e[5]&&"PinturaDropdownIconOnly"]),$$slots:{details:[jT],label:[OT]},$$scope:{ctx:e}};return void 0!==e[19]&&(o.isActive=e[19]),t=new HE({props:o}),G$.push((()=>xS(t,"isActive",i))),{c(){$S(t.$$.fragment)},m(e,n){SS(t,e,n),r=!0},p(e,r){const i={};6&r[0]&&(i.buttonTitle=VC(e[2],e[1])),33&r[0]&&(i.buttonClass=gC(["PinturaDropdownButton",e[0],e[5]&&"PinturaDropdownIconOnly"])),538443772&r[0]&&(i.$$scope={dirty:r,ctx:e}),!n&&524288&r[0]&&(n=!0,i.isActive=e[19],eS((()=>n=!1))),t.$set(i)},i(e){r||(dS(t.$$.fragment,e),r=!0)},o(e){hS(t.$$.fragment,e),r=!1},d(e){kS(t,e)}}}const WT=(e,t)=>{let[n]=t;return n<e?n:e},VT=(e,t)=>{let[n]=t;return n>e?n:e};function GT(e,t,n){let r,i,o,{$$slots:a={},$$scope:s}=t,{class:l}=t,{title:c}=t,{label:u}=t,{labelClass:d}=t,{innerClass:h}=t,{hideLabel:p=!1}=t,{icon:f}=t,{name:g}=t,{options:m=[]}=t,{selectedIndex:y=-1}=t,{value:b}=t,{optionLabelClass:v}=t,{optionFilter:w}=t,{optionMapper:x}=t,{optionIconStyle:$}=t,{optionLabelStyle:S}=t,{locale:k}=t,{onchange:A=om}=t,{onload:C=om}=t,{ondestroy:E=om}=t,{enableInput:T=!1}=t;return D$((()=>C({options:m}))),_$((()=>E({options:m}))),e.$$set=e=>{"class"in e&&n(0,l=e.class),"title"in e&&n(1,c=e.title),"label"in e&&n(2,u=e.label),"labelClass"in e&&n(3,d=e.labelClass),"innerClass"in e&&n(4,h=e.innerClass),"hideLabel"in e&&n(5,p=e.hideLabel),"icon"in e&&n(6,f=e.icon),"name"in e&&n(7,g=e.name),"options"in e&&n(8,m=e.options),"selectedIndex"in e&&n(9,y=e.selectedIndex),"value"in e&&n(10,b=e.value),"optionLabelClass"in e&&n(11,v=e.optionLabelClass),"optionFilter"in e&&n(12,w=e.optionFilter),"optionMapper"in e&&n(13,x=e.optionMapper),"optionIconStyle"in e&&n(14,$=e.optionIconStyle),"optionLabelStyle"in e&&n(15,S=e.optionLabelStyle),"locale"in e&&n(24,k=e.locale),"onchange"in e&&n(16,A=e.onchange),"onload"in e&&n(25,C=e.onload),"ondestroy"in e&&n(26,E=e.ondestroy),"enableInput"in e&&n(17,T=e.enableInput),"$$scope"in e&&n(29,s=e.$$scope)},e.$$.update=()=>{16777472&e.$$.dirty[0]&&n(18,r=k?JE(m,k):m),263168&e.$$.dirty[0]&&n(20,i=r.reduce(((e,t)=>{if(e)return e;const n=Array.isArray(t)?t:[t,t],[r,i]=n;return YE(r,b)?i:void 0}),void 0)||(e=>{const t=e.find((e=>void 0===e[0]));if(t)return t[1]})(r)||b)},[l,c,u,d,h,p,f,g,m,y,b,v,w,x,$,S,A,T,r,o,i,e=>{n(20,i=e.value),A(e),n(19,o=!1)},e=>{let{e:t,panel:n}=e;if(t&&t.key&&/up|down/i.test(t.key))return RE(n.querySelector("input:not([disabled])"));RE(n.querySelector("fieldset"))},e=>{/tab/i.test(e.key)&&e.preventDefault()},k,C,E,a,function(e){o=e,n(19,o)},s]}class QT extends CS{constructor(e){super(),AS(this,e,GT,HT,Gx,{class:0,title:1,label:2,labelClass:3,innerClass:4,hideLabel:5,icon:6,name:7,options:8,selectedIndex:9,value:10,optionLabelClass:11,optionFilter:12,optionMapper:13,optionIconStyle:14,optionLabelStyle:15,locale:24,onchange:16,onload:25,ondestroy:26,enableInput:17},null,[-1,-1])}}function qT(e){let t;return{c(){t=m$("div"),k$(t,"slot","details")},m(n,r){f$(n,t,r),e[14](t)},p:zx,d(n){n&&g$(t),e[14](null)}}}function KT(e){let t,n,r;function i(t){e[15](t)}let o={buttonLabel:e[0],buttonClass:e[1],buttonIcon:e[2],buttonHideLabel:e[3],buttonTitle:e[4],buttonLabelClass:e[5],onshow:e[6],onhide:e[7],$$slots:{details:[qT]},$$scope:{ctx:e}};return void 0!==e[9]&&(o.isActive=e[9]),t=new HE({props:o}),G$.push((()=>xS(t,"isActive",i))),{c(){$S(t.$$.fragment)},m(e,n){SS(t,e,n),r=!0},p(e,r){let[i]=r;const o={};1&i&&(o.buttonLabel=e[0]),2&i&&(o.buttonClass=e[1]),4&i&&(o.buttonIcon=e[2]),8&i&&(o.buttonHideLabel=e[3]),16&i&&(o.buttonTitle=e[4]),32&i&&(o.buttonLabelClass=e[5]),64&i&&(o.onshow=e[6]),128&i&&(o.onhide=e[7]),65792&i&&(o.$$scope={dirty:i,ctx:e}),!n&&512&i&&(n=!0,o.isActive=e[9],eS((()=>n=!1))),t.$set(o)},i(e){r||(dS(t.$$.fragment,e),r=!0)},o(e){hS(t.$$.fragment,e),r=!1},d(e){kS(t,e)}}}function ZT(e,t,n){let r,{buttonLabel:i}=t,{buttonClass:o}=t,{buttonIcon:a}=t,{buttonHideLabel:s}=t,{buttonTitle:l}=t,{buttonLabelClass:c}=t,{root:u}=t,{ondestroy:d=om}=t,{onshow:h=om}=t,{onhide:p=om}=t,f=!1;return _$(d),e.$$set=e=>{"buttonLabel"in e&&n(0,i=e.buttonLabel),"buttonClass"in e&&n(1,o=e.buttonClass),"buttonIcon"in e&&n(2,a=e.buttonIcon),"buttonHideLabel"in e&&n(3,s=e.buttonHideLabel),"buttonTitle"in e&&n(4,l=e.buttonTitle),"buttonLabelClass"in e&&n(5,c=e.buttonLabelClass),"root"in e&&n(10,u=e.root),"ondestroy"in e&&n(11,d=e.ondestroy),"onshow"in e&&n(6,h=e.onshow),"onhide"in e&&n(7,p=e.onhide)},e.$$.update=()=>{1280&e.$$.dirty&&r&&u&&r.firstChild!==u&&(r.hasChildNodes()?r.replaceChild(u,r.firstChild):r.append(u))},[i,o,a,s,l,c,h,p,r,f,u,d,()=>n(9,f=!1),()=>n(9,f=!0),function(e){G$[e?"unshift":"push"]((()=>{r=e,n(8,r)}))},function(e){f=e,n(9,f)}]}class XT extends CS{constructor(e){super(),AS(this,e,ZT,KT,Gx,{buttonLabel:0,buttonClass:1,buttonIcon:2,buttonHideLabel:3,buttonTitle:4,buttonLabelClass:5,root:10,ondestroy:11,onshow:6,onhide:7,hide:12,show:13})}get hide(){return this.$$.ctx[12]}get show(){return this.$$.ctx[13]}}var JT=(e,t,n)=>(e-t)/(n-t);const YT=e=>({}),eP=e=>({});function tP(e){let t,n,r,i,o,a,s,l;return n=new HC({props:{$$slots:{default:[nP]},$$scope:{ctx:e}}}),o=new HC({props:{$$slots:{default:[rP]},$$scope:{ctx:e}}}),{c(){t=m$("button"),$S(n.$$.fragment),r=v$(),i=m$("button"),$S(o.$$.fragment),k$(t,"type","button"),k$(t,"aria-label","Increase"),k$(i,"type","button"),k$(i,"aria-label","Decrease")},m(c,u){f$(c,t,u),SS(n,t,null),f$(c,r,u),f$(c,i,u),SS(o,i,null),a=!0,s||(l=[x$(t,"pointerdown",e[20](1)),x$(i,"pointerdown",e[20](-1))],s=!0)},p(e,t){const r={};128&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const i={};128&t[1]&&(i.$$scope={dirty:t,ctx:e}),o.$set(i)},i(e){a||(dS(n.$$.fragment,e),dS(o.$$.fragment,e),a=!0)},o(e){hS(n.$$.fragment,e),hS(o.$$.fragment,e),a=!1},d(e){e&&g$(t),kS(n),e&&g$(r),e&&g$(i),kS(o),s=!1,Wx(l)}}}function nP(e){let t;return{c(){t=y$("path"),k$(t,"d","M8 12 h8 M12 8 v8")},m(e,n){f$(e,t,n)},p:zx,d(e){e&&g$(t)}}}function rP(e){let t;return{c(){t=y$("path"),k$(t,"d","M9 12 h6")},m(e,n){f$(e,t,n)},p:zx,d(e){e&&g$(t)}}}function iP(e){let t,n,r,i,o,a,s,l,c,u,d,h,p,f,g,m,y;const b=e[36].default,v=Zx(b,e,e[38],null),w=e[36].knob,x=Zx(w,e,e[38],eP);let $=e[9]&&tP(e);return{c(){t=m$("div"),n=m$("div"),r=m$("input"),o=v$(),a=m$("div"),v&&v.c(),l=v$(),c=m$("div"),u=m$("div"),x&&x.c(),p=v$(),$&&$.c(),k$(r,"type","range"),k$(r,"id",e[3]),k$(r,"min",e[0]),k$(r,"max",e[1]),k$(r,"step",e[2]),r.value=e[14],k$(r,"style",i=e[10]?"pointer-events:none":""),k$(a,"class",s=gC(["PinturaSliderTrack",e[5]])),k$(a,"style",e[4]),k$(u,"class",d=gC(["PinturaSliderKnob",e[7]])),k$(u,"style",e[6]),k$(c,"class","PinturaSliderKnobController"),k$(c,"style",e[17]),k$(n,"class","PinturaSliderControl"),k$(n,"style",h="--slider-position:"+Math.round(e[15])),k$(t,"class",f=gC(["PinturaSlider",e[12]])),k$(t,"data-direction",e[8])},m(i,s){f$(i,t,s),d$(t,n),d$(n,r),e[37](r),d$(n,o),d$(n,a),v&&v.m(a,null),d$(n,l),d$(n,c),d$(c,u),x&&x.m(u,null),d$(t,p),$&&$.m(t,null),g=!0,m||(y=[x$(r,"input",e[18]),x$(r,"nudge",e[19]),i$(tE.call(null,r)),x$(n,"pointerdown",(function(){Vx(e[11]&&e[13])&&(e[11]&&e[13]).apply(this,arguments)}))],m=!0)},p(o,l){e=o,(!g||8&l[0])&&k$(r,"id",e[3]),(!g||1&l[0])&&k$(r,"min",e[0]),(!g||2&l[0])&&k$(r,"max",e[1]),(!g||4&l[0])&&k$(r,"step",e[2]),(!g||16384&l[0])&&(r.value=e[14]),(!g||1024&l[0]&&i!==(i=e[10]?"pointer-events:none":""))&&k$(r,"style",i),v&&v.p&&(!g||128&l[1])&&Yx(v,b,e,e[38],g?Jx(b,e[38],l,null):e$(e[38]),null),(!g||32&l[0]&&s!==(s=gC(["PinturaSliderTrack",e[5]])))&&k$(a,"class",s),(!g||16&l[0])&&k$(a,"style",e[4]),x&&x.p&&(!g||128&l[1])&&Yx(x,w,e,e[38],g?Jx(w,e[38],l,YT):e$(e[38]),eP),(!g||128&l[0]&&d!==(d=gC(["PinturaSliderKnob",e[7]])))&&k$(u,"class",d),(!g||64&l[0])&&k$(u,"style",e[6]),(!g||131072&l[0])&&k$(c,"style",e[17]),(!g||32768&l[0]&&h!==(h="--slider-position:"+Math.round(e[15])))&&k$(n,"style",h),e[9]?$?($.p(e,l),512&l[0]&&dS($,1)):($=tP(e),$.c(),dS($,1),$.m(t,null)):$&&(cS(),hS($,1,1,(()=>{$=null})),uS()),(!g||4096&l[0]&&f!==(f=gC(["PinturaSlider",e[12]])))&&k$(t,"class",f),(!g||256&l[0])&&k$(t,"data-direction",e[8])},i(e){g||(dS(v,e),dS(x,e),dS($),g=!0)},o(e){hS(v,e),hS(x,e),hS($),g=!1},d(n){n&&g$(t),e[37](null),v&&v.d(n),x&&x.d(n),$&&$.d(),m=!1,Wx(y)}}}function oP(e,t,n){let r,i,o,a,s,l,c,u,d,h,p,f,g,m,y,{$$slots:b={},$$scope:v}=t,{min:w=0}=t,{max:x=100}=t,{step:$=1}=t,{id:S}=t,{value:k=0}=t,{valueMin:A}=t,{valueMax:C}=t,{trackStyle:E}=t,{trackClass:T}=t,{knobStyle:P}=t,{knobClass:R}=t,{ongrab:M=om}=t,{onchange:I=om}=t,{onrelease:L=om}=t,{onexceed:B=om}=t,{direction:O="x"}=t,{getValue:F=Qm}=t,{setValue:N=Qm}=t,{enableSpinButtons:D=!0}=t,{enableForceUseKnob:z=!1}=t,{enableStopPropagation:_=!0}=t,{enablePointerdownListener:U=!0}=t,{maxInteractionDistance:j=6}=t,{class:H}=t;const W=e=>N(((e,t)=>(t=1/t,Math.round(e*t)/t))(qS(e,w,x),$),k),V=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{grabbed:o=!1,released:a=!1}=r,s=W(w+e/t*i),l=A||w,c=C||x;n(21,k=Em(s)?s:qS(s,l,c)),y!==s&&(y=s,!Em(s)&&(s<l||s>c)&&B(k,s),k!==m&&(m=k,o&&M(k),I(k),a&&L(k)))};let G,Q;const q=e=>{const t=e[u]-g;V(f+t,p)},K=e=>{Q=setTimeout((()=>{p=void 0}),50),document.documentElement.removeEventListener("pointermove",q),document.documentElement.removeEventListener("pointerup",K),I(k),L(k)},Z=()=>{n(21,k=W(r+J*$)),I(k)};let X,J=1,Y=!1;const ee=e=>{clearTimeout(X),Y||Z(),L(k),document.removeEventListener("pointerup",ee)};return e.$$set=e=>{"min"in e&&n(0,w=e.min),"max"in e&&n(1,x=e.max),"step"in e&&n(2,$=e.step),"id"in e&&n(3,S=e.id),"value"in e&&n(21,k=e.value),"valueMin"in e&&n(22,A=e.valueMin),"valueMax"in e&&n(23,C=e.valueMax),"trackStyle"in e&&n(4,E=e.trackStyle),"trackClass"in e&&n(5,T=e.trackClass),"knobStyle"in e&&n(6,P=e.knobStyle),"knobClass"in e&&n(7,R=e.knobClass),"ongrab"in e&&n(24,M=e.ongrab),"onchange"in e&&n(25,I=e.onchange),"onrelease"in e&&n(26,L=e.onrelease),"onexceed"in e&&n(27,B=e.onexceed),"direction"in e&&n(8,O=e.direction),"getValue"in e&&n(28,F=e.getValue),"setValue"in e&&n(29,N=e.setValue),"enableSpinButtons"in e&&n(9,D=e.enableSpinButtons),"enableForceUseKnob"in e&&n(10,z=e.enableForceUseKnob),"enableStopPropagation"in e&&n(30,_=e.enableStopPropagation),"enablePointerdownListener"in e&&n(11,U=e.enablePointerdownListener),"maxInteractionDistance"in e&&n(31,j=e.maxInteractionDistance),"class"in e&&n(12,H=e.class),"$$scope"in e&&n(38,v=e.$$scope)},e.$$.update=()=>{270532608&e.$$.dirty[0]&&n(14,r=void 0!==k?F(k):0),3&e.$$.dirty[0]&&(i=x-w),16387&e.$$.dirty[0]&&n(33,o=JT(r,w,x)),4&e.$$.dirty[1]&&n(15,a=100*o),256&e.$$.dirty[0]&&n(34,s=O.toUpperCase()),256&e.$$.dirty[0]&&n(35,l="x"===O?"Width":"Height"),16&e.$$.dirty[1]&&(c="offset"+l),e.$$.dirty[1],8&e.$$.dirty[1]&&(u="page"+s),32768&e.$$.dirty[0]|8&e.$$.dirty[1]&&n(17,d="transform: translate".concat(s,"(").concat(a,"%)"))},[w,x,$,S,E,T,P,R,O,D,z,U,H,e=>{clearTimeout(Q);let t=!1;_&&e.stopPropagation(),clearTimeout(G);const n=h.getBoundingClientRect();if(p=h[c],g=e[u],f=g-n[O],z){if(Math.abs(f-o*p)>j)return;t=!0,e.stopPropagation()}return document.activeElement!==h&&h.focus(),V(f,p,{grabbed:!0}),document.documentElement.addEventListener("pointermove",q),document.documentElement.addEventListener("pointerup",K),t},r,a,h,d,e=>{p||(n(21,k=N(parseFloat(e.target.value))),k!==m&&(m=k,I(k)))},e=>{const t=h[c];V(r/i*t+e.detail[O],t),clearTimeout(G),G=setTimeout((()=>{L(k)}),250)},e=>t=>{clearTimeout(G),J=e,Y=!1,X=setInterval((()=>{Y=!0,Z()}),100),document.addEventListener("pointercancel",ee),document.addEventListener("pointerup",ee)},k,A,C,M,I,L,B,F,N,_,j,e=>{const t=h.getBoundingClientRect(),n=e[u]-t[O],r=h[c];return Math.abs(n-o*r)},o,s,l,b,function(e){G$[e?"unshift":"push"]((()=>{h=e,n(16,h)}))},v]}class aP extends CS{constructor(e){super(),AS(this,e,oP,iP,Gx,{min:0,max:1,step:2,id:3,value:21,valueMin:22,valueMax:23,trackStyle:4,trackClass:5,knobStyle:6,knobClass:7,ongrab:24,onchange:25,onrelease:26,onexceed:27,direction:8,getValue:28,setValue:29,enableSpinButtons:9,enableForceUseKnob:10,enableStopPropagation:30,enablePointerdownListener:11,maxInteractionDistance:31,class:12,eventDistanceToKnob:32,handlePointerDown:13},null,[-1,-1])}get eventDistanceToKnob(){return this.$$.ctx[32]}get handlePointerDown(){return this.$$.ctx[13]}}function sP(e){let t,n;return t=new HC({props:{class:"PinturaButtonIcon",$$slots:{default:[lP]},$$scope:{ctx:e}}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};1048580&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function lP(e){let t;return{c(){t=y$("g")},m(n,r){f$(n,t,r),t.innerHTML=e[2]},p(e,n){4&n&&(t.innerHTML=e[2])},d(e){e&&g$(t)}}}function cP(e){let t,n,r=ZE(e[8],e[6])+"";return{c(){t=m$("span"),n=b$(r),k$(t,"class","PinturaButtonLabelPrefix")},m(e,r){f$(e,t,r),d$(t,n)},p(e,t){320&t&&r!==(r=ZE(e[8],e[6])+"")&&E$(n,r)},d(e){e&&g$(t)}}}function uP(e){let t,n,r,i,o,a,s,l,c,u=e[2]&&sP(e),d=e[8]&&cP(e);return{c(){t=m$("span"),u&&u.c(),n=v$(),d&&d.c(),r=v$(),i=m$("span"),o=b$(e[9]),k$(i,"class",a=gC(["PinturaButtonLabel",e[3],e[5]&&"implicit"])),k$(t,"slot","label"),k$(t,"title",s=ZE(e[1],e[6])),k$(t,"class",l=gC(["PinturaButtonInner",e[4]]))},m(e,a){f$(e,t,a),u&&u.m(t,null),d$(t,n),d&&d.m(t,null),d$(t,r),d$(t,i),d$(i,o),c=!0},p(e,h){e[2]?u?(u.p(e,h),4&h&&dS(u,1)):(u=sP(e),u.c(),dS(u,1),u.m(t,n)):u&&(cS(),hS(u,1,1,(()=>{u=null})),uS()),e[8]?d?d.p(e,h):(d=cP(e),d.c(),d.m(t,r)):d&&(d.d(1),d=null),(!c||512&h)&&E$(o,e[9]),(!c||40&h&&a!==(a=gC(["PinturaButtonLabel",e[3],e[5]&&"implicit"])))&&k$(i,"class",a),(!c||66&h&&s!==(s=ZE(e[1],e[6])))&&k$(t,"title",s),(!c||16&h&&l!==(l=gC(["PinturaButtonInner",e[4]])))&&k$(t,"class",l)},i(e){c||(dS(u),c=!0)},o(e){hS(u),c=!1},d(e){e&&g$(t),u&&u.d(),d&&d.d()}}}function dP(e){let t,n,r,i,o;const a=[e[12],{value:e[7]},{onchange:e[11]}];let s={};for(let l=0;l<a.length;l+=1)s=Ux(s,a[l]);return n=new aP({props:s}),{c(){t=m$("div"),$S(n.$$.fragment),k$(t,"slot","details")},m(a,s){f$(a,t,s),SS(n,t,null),r=!0,i||(o=x$(t,"keydown",e[10]),i=!0)},p(e,t){const r=6272&t?vS(a,[4096&t&&wS(e[12]),128&t&&{value:e[7]},2048&t&&{onchange:e[11]}]):{};n.$set(r)},i(e){r||(dS(n.$$.fragment,e),r=!0)},o(e){hS(n.$$.fragment,e),r=!1},d(e){e&&g$(t),kS(n),i=!1,o()}}}function hP(e){let t,n;return t=new HE({props:{panelClass:"PinturaSliderPanel",buttonClass:gC(["PinturaSliderButton",e[0],e[5]&&"PinturaSliderIconOnly"]),$$slots:{details:[dP],label:[uP]},$$scope:{ctx:e}}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){let[r]=n;const i={};33&r&&(i.buttonClass=gC(["PinturaSliderButton",e[0],e[5]&&"PinturaSliderIconOnly"])),1053694&r&&(i.$$scope={dirty:r,ctx:e}),t.$set(i)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function pP(e,t,n){const r=["class","title","label","icon","labelClass","innerClass","hideLabel","locale","value","onchange","labelPrefix"];let i=n$(t,r),{class:o}=t,{title:a}=t,{label:s=Math.round}=t,{icon:l}=t,{labelClass:c}=t,{innerClass:u}=t,{hideLabel:d=!1}=t,{locale:h}=t,{value:p}=t,{onchange:f=om}=t,{labelPrefix:g}=t;const{min:m,max:y,getValue:b=Qm}=i;let v;const w=e=>n(9,v=(e=>Tm(s)?s(b(e),m,y,e):s)(e));return e.$$set=e=>{t=Ux(Ux({},t),t$(e)),n(12,i=n$(t,r)),"class"in e&&n(0,o=e.class),"title"in e&&n(1,a=e.title),"label"in e&&n(13,s=e.label),"icon"in e&&n(2,l=e.icon),"labelClass"in e&&n(3,c=e.labelClass),"innerClass"in e&&n(4,u=e.innerClass),"hideLabel"in e&&n(5,d=e.hideLabel),"locale"in e&&n(6,h=e.locale),"value"in e&&n(7,p=e.value),"onchange"in e&&n(14,f=e.onchange),"labelPrefix"in e&&n(8,g=e.labelPrefix)},e.$$.update=()=>{8320&e.$$.dirty&&w(p)},[o,a,l,c,u,d,h,p,g,v,e=>{/tab/i.test(e.key)&&e.preventDefault()},e=>{w(e),f(e)},i,s,f]}class fP extends CS{constructor(e){super(),AS(this,e,pP,hP,Gx,{class:0,title:1,label:13,icon:2,labelClass:3,innerClass:4,hideLabel:5,locale:6,value:7,onchange:14,labelPrefix:8})}}function gP(e){let t,n,r=ZE(e[0],e[1])+"";return{c(){t=m$("span"),n=b$(r),k$(t,"class",e[3])},m(e,r){f$(e,t,r),d$(t,n)},p(e,i){3&i&&r!==(r=ZE(e[0],e[1])+"")&&E$(n,r),8&i&&k$(t,"class",e[3])},d(e){e&&g$(t)}}}function mP(e){let t,n,r,i,o=e[0]&&gP(e);return r=new tR({props:{items:e[2]}}),{c(){t=m$("li"),o&&o.c(),n=v$(),$S(r.$$.fragment),k$(t,"class","PinturaShapeStyle")},m(e,a){f$(e,t,a),o&&o.m(t,null),d$(t,n),SS(r,t,null),i=!0},p(e,i){let[a]=i;e[0]?o?o.p(e,a):(o=gP(e),o.c(),o.m(t,n)):o&&(o.d(1),o=null);const s={};4&a&&(s.items=e[2]),r.$set(s)},i(e){i||(dS(r.$$.fragment,e),i=!0)},o(e){hS(r.$$.fragment,e),i=!1},d(e){e&&g$(t),o&&o.d(),kS(r)}}}function yP(e,t,n){let r,{title:i}=t,{locale:o}=t,{items:a}=t,{hideTitle:s=!1}=t;return e.$$set=e=>{"title"in e&&n(0,i=e.title),"locale"in e&&n(1,o=e.locale),"items"in e&&n(2,a=e.items),"hideTitle"in e&&n(4,s=e.hideTitle)},e.$$.update=()=>{16&e.$$.dirty&&n(3,r="PinturaShapeStyleLabel"+(s?" implicit":""))},[i,o,a,r,s]}class bP extends CS{constructor(e){super(),AS(this,e,yP,mP,Gx,{title:0,locale:1,items:2,hideTitle:4})}}var vP=(e,t,n)=>{let r,i,o;const a=Math.floor(6*e),s=6*e-a,l=n*(1-t),c=n*(1-s*t),u=n*(1-(1-s)*t);switch(a%6){case 0:r=n,i=u,o=l;break;case 1:r=c,i=n,o=l;break;case 2:r=l,i=n,o=u;break;case 3:r=l,i=c,o=n;break;case 4:r=u,i=l,o=n;break;case 5:r=n,i=l,o=c}return[r,i,o]};function wP(e){let t,n,r;return{c(){t=m$("div"),n=m$("span"),k$(t,"class","PinturaColorPreview"),k$(t,"title",e[0]),k$(t,"style",r="--color:"+e[1])},m(e,r){f$(e,t,r),d$(t,n)},p(e,n){let[i]=n;1&i&&k$(t,"title",e[0]),2&i&&r!==(r="--color:"+e[1])&&k$(t,"style",r)},i:zx,o:zx,d(e){e&&g$(t)}}}function xP(e,t,n){let r,{color:i}=t,{title:o}=t;return e.$$set=e=>{"color"in e&&n(2,i=e.color),"title"in e&&n(0,o=e.title)},e.$$.update=()=>{4&e.$$.dirty&&n(1,r=i?zv(i):"transparent")},[o,r,i]}class $P extends CS{constructor(e){super(),AS(this,e,xP,wP,Gx,{color:2,title:0})}}var SP=e=>(e=e.trim(),/^rgba/.test(e)?e.substring(5).split(",").map(parseFloat).map(((e,t)=>e/(3===t?1:255))):/^rgb/.test(e)?e.substring(4).split(",").map(parseFloat).map((e=>e/255)):/^#/.test(e)?(e=>{const[,t,n,r,i]=e.split("");e=e.length>=4&&e.length<=5?"#".concat(t).concat(t).concat(n).concat(n).concat(r).concat(r).concat(i?"".concat(i).concat(i):""):e;const[o,a,s,l,c]=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(e)||[];if(o)return[a,s,l,c].filter((e=>void 0!==e)).map((e=>parseInt(e,16)/255))})(e):/[0-9]{1,3}\s?,\s?[0-9]{1,3}\s?,\s?[0-9]{1,3}/.test(e)?e.split(",").map((e=>parseInt(e,10))).map((e=>e/255)):void 0);let kP=null;function AP(e){let t,n;return{c(){t=m$("span"),n=b$(e[0])},m(e,r){f$(e,t,r),d$(t,n)},p(e,t){1&t[0]&&E$(n,e[0])},d(e){e&&g$(t)}}}function CP(e){let t,n,r,i;n=new $P({props:{color:e[4],title:ZE(e[8],e[10])}});let o=!e[9]&&AP(e);return{c(){t=m$("span"),$S(n.$$.fragment),r=v$(),o&&o.c(),k$(t,"slot","label"),k$(t,"class","PinturaButtonLabel")},m(e,a){f$(e,t,a),SS(n,t,null),d$(t,r),o&&o.m(t,null),i=!0},p(e,r){const i={};16&r[0]&&(i.color=e[4]),1280&r[0]&&(i.title=ZE(e[8],e[10])),n.$set(i),e[9]?o&&(o.d(1),o=null):o?o.p(e,r):(o=AP(e),o.c(),o.m(t,null))},i(e){i||(dS(n.$$.fragment,e),i=!0)},o(e){hS(n.$$.fragment,e),i=!1},d(e){e&&g$(t),kS(n),o&&o.d()}}}function EP(e){let t,n,r,i,o,a,s,l,c,u,d,h,p,f;c=new aP({props:{class:"PinturaHuePicker",knobStyle:"background-color:"+e[21],onchange:e[27],value:e[16],min:0,max:1,step:.01}});let g=e[11]&&TP(e),m=(e[14]||e[15])&&PP(e);return{c(){t=m$("div"),n=m$("div"),r=m$("div"),i=m$("div"),l=v$(),$S(c.$$.fragment),u=v$(),g&&g.c(),d=v$(),m&&m.c(),k$(i,"role","button"),k$(i,"aria-label","Saturation slider"),k$(i,"class","PinturaPickerKnob"),k$(i,"tabindex","0"),k$(i,"style",o="background-color:".concat(e[20],";")),k$(r,"class","PinturaPickerKnobController"),k$(r,"style",a="transform:translate(".concat(e[25],"%,").concat(e[24],"%)")),k$(n,"class","PinturaSaturationPicker"),k$(n,"style",s="background-color: "+e[21]),k$(t,"class","PinturaPicker")},m(o,a){f$(o,t,a),d$(t,n),d$(n,r),d$(r,i),e[41](n),d$(t,l),SS(c,t,null),d$(t,u),g&&g.m(t,null),d$(t,d),m&&m.m(t,null),h=!0,p||(f=[x$(i,"nudge",e[30]),i$(tE.call(null,i,{preventDefault:!0})),x$(n,"pointerdown",e[29])],p=!0)},p(e,l){(!h||1048576&l[0]&&o!==(o="background-color:".concat(e[20],";")))&&k$(i,"style",o),(!h||50331648&l[0]&&a!==(a="transform:translate(".concat(e[25],"%,").concat(e[24],"%)")))&&k$(r,"style",a),(!h||2097152&l[0]&&s!==(s="background-color: "+e[21]))&&k$(n,"style",s);const u={};2097152&l[0]&&(u.knobStyle="background-color:"+e[21]),65536&l[0]&&(u.value=e[16]),c.$set(u),e[11]?g?(g.p(e,l),2048&l[0]&&dS(g,1)):(g=TP(e),g.c(),dS(g,1),g.m(t,d)):g&&(cS(),hS(g,1,1,(()=>{g=null})),uS()),e[14]||e[15]?m?(m.p(e,l),49152&l[0]&&dS(m,1)):(m=PP(e),m.c(),dS(m,1),m.m(t,null)):m&&(cS(),hS(m,1,1,(()=>{m=null})),uS())},i(e){h||(dS(c.$$.fragment,e),dS(g),dS(m),h=!0)},o(e){hS(c.$$.fragment,e),hS(g),hS(m),h=!1},d(n){n&&g$(t),e[41](null),kS(c),g&&g.d(),m&&m.d(),p=!1,Wx(f)}}}function TP(e){let t,n;return t=new aP({props:{class:"PinturaOpacityPicker",knobStyle:"background-color:"+e[18],trackStyle:"background-image:linear-gradient(to right,".concat(e[19],",").concat(e[20],")"),onchange:e[28],value:e[17],min:0,max:1,step:.01}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};262144&n[0]&&(r.knobStyle="background-color:"+e[18]),1572864&n[0]&&(r.trackStyle="background-image:linear-gradient(to right,".concat(e[19],",").concat(e[20],")")),131072&n[0]&&(r.value=e[17]),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function PP(e){let t,n,r,i,o,a,s,l=e[15]&&RP(e);return{c(){t=m$("div"),n=m$("input"),i=v$(),l&&l.c(),k$(n,"class","PinturaColorPickerInput"),k$(n,"type","text"),n.disabled=r=!e[14],n.value=e[23],k$(t,"class","PinturColorPickerInputGroup")},m(r,c){f$(r,t,c),d$(t,n),d$(t,i),l&&l.m(t,null),o=!0,a||(s=[x$(n,"keydown",e[32]),x$(n,"input",e[31])],a=!0)},p(e,i){(!o||16384&i[0]&&r!==(r=!e[14]))&&(n.disabled=r),(!o||8388608&i[0]&&n.value!==e[23])&&(n.value=e[23]),e[15]?l?(l.p(e,i),32768&i[0]&&dS(l,1)):(l=RP(e),l.c(),dS(l,1),l.m(t,null)):l&&(cS(),hS(l,1,1,(()=>{l=null})),uS())},i(e){o||(dS(l),o=!0)},o(e){hS(l),o=!1},d(e){e&&g$(t),l&&l.d(),a=!1,Wx(s)}}}function RP(e){let t,n;return t=new XC({props:{icon:'<path stroke="currentColor" stroke-linecap="square" d="m13 14-7 7a2.704 2.704 0 0 1-3 0 2.704 2.704 0 0 1 0-3l7-7"/><path fill="currentColor" d="M9.475 9.475 14.5 14.5c.263.263.69.265.955.005l.783-.767a4.209 4.209 0 0 0 1.262-3.006V10l4-4c.5-.5.375-2.125-.5-3s-2.5-1-3-.5l-4 4h-.732a4.329 4.329 0 0 0-3.03 1.238l-.758.742a.7.7 0 0 0-.005.995Z"/>',hideLabel:!0,label:"Pick a color",class:"PinturaEyeDropper",onclick:e[33]}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p:zx,i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function MP(e){let t,n;return t=new kT({props:{label:ZE(e[10].labelColorPalette,e[10]),class:gC(["PinturaColorPresets",e[9]?"PinturaColorPresetsGrid":"PinturaColorPresetsList"]),hideLabel:!1,name:e[1],value:e[4],optionGroupClass:"PinturaListOptionGroup",optionClass:"PinturaListOption",options:e[2].map(e[42]),selectedIndex:e[3],optionMapper:e[7],optionLabelClass:e[6],onchange:e[43],$$slots:{option:[BP,e=>{let{option:t}=e;return{59:t}},e=>{let{option:t}=e;return[0,t?268435456:0]}],group:[IP,e=>{let{option:t}=e;return{59:t}},e=>{let{option:t}=e;return[0,t?268435456:0]}]},$$scope:{ctx:e}}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};1024&n[0]&&(r.label=ZE(e[10].labelColorPalette,e[10])),512&n[0]&&(r.class=gC(["PinturaColorPresets",e[9]?"PinturaColorPresetsGrid":"PinturaColorPresetsList"])),2&n[0]&&(r.name=e[1]),16&n[0]&&(r.value=e[4]),1028&n[0]&&(r.options=e[2].map(e[42])),8&n[0]&&(r.selectedIndex=e[3]),128&n[0]&&(r.optionMapper=e[7]),64&n[0]&&(r.optionLabelClass=e[6]),512&n[0]|805306368&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function IP(e){let t,n,r=e[59].label+"";return{c(){t=m$("span"),n=b$(r),k$(t,"slot","group")},m(e,r){f$(e,t,r),d$(t,n)},p(e,t){268435456&t[1]&&r!==(r=e[59].label+"")&&E$(n,r)},d(e){e&&g$(t)}}}function LP(e){let t,n,r=e[59].label+"";return{c(){t=m$("span"),n=b$(r),k$(t,"class","PinturaButtonLabel")},m(e,r){f$(e,t,r),d$(t,n)},p(e,t){268435456&t[1]&&r!==(r=e[59].label+"")&&E$(n,r)},d(e){e&&g$(t)}}}function BP(e){let t,n,r,i;n=new $P({props:{title:e[59].label,color:e[59].value}});let o=!e[9]&&LP(e);return{c(){t=m$("span"),$S(n.$$.fragment),r=v$(),o&&o.c(),k$(t,"slot","option")},m(e,a){f$(e,t,a),SS(n,t,null),d$(t,r),o&&o.m(t,null),i=!0},p(e,r){const i={};268435456&r[1]&&(i.title=e[59].label),268435456&r[1]&&(i.color=e[59].value),n.$set(i),e[9]?o&&(o.d(1),o=null):o?o.p(e,r):(o=LP(e),o.c(),o.m(t,null))},i(e){i||(dS(n.$$.fragment,e),i=!0)},o(e){hS(n.$$.fragment,e),i=!1},d(e){e&&g$(t),kS(n),o&&o.d()}}}function OP(e){let t,n,r,i=e[13]&&EP(e),o=e[12]&&MP(e);return{c(){t=m$("div"),i&&i.c(),n=v$(),o&&o.c(),k$(t,"slot","details"),k$(t,"class","PinturaColorPickerPanel")},m(e,a){f$(e,t,a),i&&i.m(t,null),d$(t,n),o&&o.m(t,null),r=!0},p(e,r){e[13]?i?(i.p(e,r),8192&r[0]&&dS(i,1)):(i=EP(e),i.c(),dS(i,1),i.m(t,n)):i&&(cS(),hS(i,1,1,(()=>{i=null})),uS()),e[12]?o?(o.p(e,r),4096&r[0]&&dS(o,1)):(o=MP(e),o.c(),dS(o,1),o.m(t,null)):o&&(cS(),hS(o,1,1,(()=>{o=null})),uS())},i(e){r||(dS(i),dS(o),r=!0)},o(e){hS(i),hS(o),r=!1},d(e){e&&g$(t),i&&i.d(),o&&o.d()}}}function FP(e){let t,n;return t=new HE({props:{buttonClass:gC(["PinturaColorPickerButton",e[5]]),$$slots:{details:[OP],label:[CP]},$$scope:{ctx:e}}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};32&n[0]&&(r.buttonClass=gC(["PinturaColorPickerButton",e[5]])),67108831&n[0]|536870912&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function NP(e,t,n){let r,i,o,a,s,l,c,u,d,h,p,f,g,m,y,{label:b}=t,{name:v}=t,{options:w=[]}=t,{selectedIndex:x=-1}=t,{value:$}=t,{buttonClass:S}=t,{optionLabelClass:k}=t,{optionMapper:A}=t,{onchange:C}=t,{title:E}=t,{hidePresetLabel:T=!0}=t,{locale:P}=t,{enableOpacity:R=!0}=t,{enablePresets:M=!0}=t,{enablePicker:I=!0}=t,{enableInput:L=!1}=t,{enableEyeDropper:B=!1}=t;const O=(e,t)=>{if(h=[e[0],e[1],e[2]],t){let t=((e,t,n)=>{let r=Math.max(e,t,n),i=r-Math.min(e,t,n),o=i&&(r==e?(t-n)/i:r==t?2+(n-e)/i:4+(e-t)/i);return[60*(o<0?o+6:o)/360,r&&i/r,r]})(...h),r=t[0],i=t[1],o=t[2];Tv(U)&&(r=U),Tv(z)&&(i=z),Tv(_)&&(o=_),n(16,l=r),n(36,c=i),n(37,u=o),n(17,d=Tv(e[3])?e[3]:1)}n(18,p=zv(e)),n(19,f=zv([...h,0])),n(20,g=zv([...h,1])),n(21,m=zv(vP(l,1,1)))},F=()=>{const e=[...vP(l,c,u),d];O(e),C(e)},N=e=>{const t=3===e.length?[...e,1]:e;D(),O(t,!0),C(t)},D=()=>{z=void 0,_=void 0,U=void 0};let z,_,U;const j=(e,t)=>{const r=qS(e.x/t.width,0,1);var i,o;o=1-qS(e.y/t.height,0,1),n(36,c=i=r),n(37,u=o),z=i,_=o,F()};let H,W,V,G;const Q=e=>{const t=Sy(py(e),G);j($y(fy(V),t),W)},q=e=>{W=void 0,document.documentElement.removeEventListener("pointermove",Q),document.documentElement.removeEventListener("pointerup",q)};let K;return e.$$set=e=>{"label"in e&&n(0,b=e.label),"name"in e&&n(1,v=e.name),"options"in e&&n(2,w=e.options),"selectedIndex"in e&&n(3,x=e.selectedIndex),"value"in e&&n(4,$=e.value),"buttonClass"in e&&n(5,S=e.buttonClass),"optionLabelClass"in e&&n(6,k=e.optionLabelClass),"optionMapper"in e&&n(7,A=e.optionMapper),"onchange"in e&&n(34,C=e.onchange),"title"in e&&n(8,E=e.title),"hidePresetLabel"in e&&n(9,T=e.hidePresetLabel),"locale"in e&&n(10,P=e.locale),"enableOpacity"in e&&n(11,R=e.enableOpacity),"enablePresets"in e&&n(12,M=e.enablePresets),"enablePicker"in e&&n(13,I=e.enablePicker),"enableInput"in e&&n(14,L=e.enableInput),"enableEyeDropper"in e&&n(35,B=e.enableEyeDropper)},e.$$.update=()=>{16&e.$$.dirty[1]&&n(15,r=B&&(null===kP&&(kP=um()&&"EyeDropper"in window),kP)),16&e.$$.dirty[0]|128&e.$$.dirty[1]&&(!$||y&&YS($,y)||(n(38,y=[...$]),O($,!0))),32&e.$$.dirty[1]&&n(25,i=100*c),64&e.$$.dirty[1]&&n(24,o=100-100*u),256&e.$$.dirty[1]&&n(40,a=!!K&&K.length>=4&&K.length<=5),51216&e.$$.dirty[0]|512&e.$$.dirty[1]&&n(23,s=(L||r)&&$?((e,t,n)=>{let r=e.map((e=>Math.round(255*e).toString(16).toLowerCase().padStart(2,"0")));return(!t&&r.length>3||"ff"===r[3])&&r.pop(),n&&(r=r.map((e=>e.substring(0,1)))),"#"+r.join("")})($,R,a):void 0)},[b,v,w,x,$,S,k,A,E,T,P,R,M,I,L,r,l,d,p,f,g,m,H,s,o,i,N,e=>{n(16,l=e),U=e,F()},e=>{n(17,d=e),F()},e=>{e.stopPropagation(),W=zy(H.offsetWidth,H.offsetHeight),V=(e=>hy(e.offsetX,e.offsetY))(e),G=py(e),j(V,W),document.documentElement.addEventListener("pointermove",Q),document.documentElement.addEventListener("pointerup",q)},e=>{W=zy(H.offsetWidth,H.offsetHeight);const t=i/100*W.width,n=o/100*W.height;j({x:t+e.detail.x,y:n+e.detail.y},W)},e=>{const{value:t}=e.target,r=t.length;if(!t.startsWith("#")||r<4||6===r||8===r||r>9)return;if(!R&&r>7)return;const i=SP(t);i&&(n(39,K=t),D(),O(i),C(i))},e=>{e.stopPropagation()},e=>{(new EyeDropper).open().then((e=>{let{sRGBHex:t}=e;const r=SP(t);r&&(r[3]=1,n(39,K=$),D(),O(r),C(r))})).catch((e=>{}))},C,B,c,u,y,K,a,function(e){G$[e?"unshift":"push"]((()=>{H=e,n(22,H)}))},e=>{let[t,n]=e;return[t,Tm(n)?n(P):n]},e=>N(e.value)]}class DP extends CS{constructor(e){super(),AS(this,e,NP,FP,Gx,{label:0,name:1,options:2,selectedIndex:3,value:4,buttonClass:5,optionLabelClass:6,optionMapper:7,onchange:34,title:8,hidePresetLabel:9,locale:10,enableOpacity:11,enablePresets:12,enablePicker:13,enableInput:14,enableEyeDropper:35},null,[-1,-1])}}function zP(e){let t,n,r;return n=new tR({props:{items:e[0]}}),{c(){t=m$("div"),$S(n.$$.fragment),k$(t,"class","PinturaShorthandControl PinturaShapeStyle")},m(e,i){f$(e,t,i),SS(n,t,null),r=!0},p(e,t){let[r]=t;const i={};1&r&&(i.items=e[0]),n.$set(i)},i(e){r||(dS(n.$$.fragment,e),r=!0)},o(e){hS(n.$$.fragment,e),r=!1},d(e){e&&g$(t),kS(n)}}}function _P(e,t,n){let r,i,{value:o}=t,{onchange:a}=t,{controls:s=[]}=t;return e.$$set=e=>{n(6,t=Ux(Ux({},t),t$(e))),"value"in e&&n(1,o=e.value),"onchange"in e&&n(2,a=e.onchange),"controls"in e&&n(3,s=e.controls)},e.$$.update=()=>{n(4,r=(e=>{const{controls:t,...n}=e;return n})(t)),30&e.$$.dirty&&n(0,i=s.map(((e,t)=>{const[n,i,s]=e;return[n,i,{...r,...s,value:o[t],onchange:e=>{const n=[...o];n[t]=e,a(n)}}]})))},t=t$(t),[i,o,a,s,r]}class UP extends CS{constructor(e){super(),AS(this,e,_P,zP,Gx,{value:1,onchange:2,controls:3})}}function jP(e){let t,n;return t=new QT({props:{label:e[4],options:e[1],title:e[2],selectedIndex:e[5],onchange:e[10]}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){let[r]=n;const i={};16&r&&(i.label=e[4]),2&r&&(i.options=e[1]),4&r&&(i.title=e[2]),32&r&&(i.selectedIndex=e[5]),9&r&&(i.onchange=e[10]),t.$set(i)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function HP(e,t,n){let r,i,o,a,{options:s}=t,{title:l}=t,{onchange:c}=t,{selectedIndex:u=-1}=t,{value:d}=t,{label:h}=t;return e.$$set=e=>{"options"in e&&n(1,s=e.options),"title"in e&&n(2,l=e.title),"onchange"in e&&n(3,c=e.onchange),"selectedIndex"in e&&n(0,u=e.selectedIndex),"value"in e&&n(6,d=e.value),"label"in e&&n(7,h=e.label)},e.$$.update=()=>{67&e.$$.dirty&&n(9,r=((e,t,n)=>{if(e)return t>-1?e[t]:void 0!==n?e.find((e=>e[0]===n)):e[0]})(s,u,d)),514&e.$$.dirty&&n(5,i=s&&s.findIndex((e=>e===r))),512&e.$$.dirty&&n(8,o=r&&r[1]),384&e.$$.dirty&&n(4,a=h||o)},[u,s,l,c,a,i,d,h,o,r,e=>{n(0,u=e.index),c&&c(e)}]}class WP extends CS{constructor(e){super(),AS(this,e,HP,jP,Gx,{options:1,title:2,onchange:3,selectedIndex:0,value:6,label:7})}}function VP(e,t,n){const r=e.slice();return r[9]=t[n][0],r[0]=t[n][1],r[10]=t[n][2],r[2]=t[n][3],r}function GP(e){let t,n,r;const i=[e[10]];var o=e[3][e[9]]||e[9];function a(e){let t={};for(let n=0;n<i.length;n+=1)t=Ux(t,i[n]);return{props:t}}return o&&(t=M$(o,a())),{c(){t&&$S(t.$$.fragment),n=w$()},m(e,i){t&&SS(t,e,i),f$(e,n,i),r=!0},p(e,r){const s=4&r?vS(i,[wS(e[10])]):{};if(o!==(o=e[3][e[9]]||e[9])){if(t){cS();const e=t;hS(e.$$.fragment,1,0,(()=>{kS(e,1)})),uS()}o?(t=M$(o,a()),$S(t.$$.fragment),dS(t.$$.fragment,1),SS(t,n.parentNode,n)):t=null}else o&&t.$set(s)},i(e){r||(t&&dS(t.$$.fragment,e),r=!0)},o(e){t&&hS(t.$$.fragment,e),r=!1},d(e){e&&g$(n),t&&kS(t,e)}}}function QP(e){let t,n=e[9],r=e[9]&&XP(e);return{c(){r&&r.c(),t=w$()},m(e,n){r&&r.m(e,n),f$(e,t,n)},p(e,i){e[9]?n?Gx(n,e[9])?(r.d(1),r=XP(e),r.c(),r.m(t.parentNode,t)):r.p(e,i):(r=XP(e),r.c(),r.m(t.parentNode,t)):n&&(r.d(1),r=null),n=e[9]},i:zx,o(e){hS(r)},d(e){e&&g$(t),r&&r.d(e)}}}function qP(e){let t,n,r=e[10].innerHTML+"";return{c(){t=new R$(!1),n=w$(),t.a=n},m(e,i){t.m(r,e,i),f$(e,n,i)},p(e,n){4&n&&r!==(r=e[10].innerHTML+"")&&t.p(r)},i:zx,o:zx,d(e){e&&g$(n),e&&t.d()}}}function KP(e){let t,n=e[10].textContent+"";return{c(){t=b$(n)},m(e,n){f$(e,t,n)},p(e,r){4&r&&n!==(n=e[10].textContent+"")&&E$(t,n)},i:zx,o:zx,d(e){e&&g$(t)}}}function ZP(e){let t,n;return t=new tR({props:{items:e[2],discardEmptyItems:!0}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.items=e[2]),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function XP(e){let t,n,r,i,o;const a=[ZP,KP,qP],s=[];function l(e,t){return e[2]&&e[2].length?0:e[10].textContent?1:e[10].innerHTML?2:-1}~(n=l(e))&&(r=s[n]=a[n](e));let c=[e[4](e[10])],u={};for(let d=0;d<c.length;d+=1)u=Ux(u,c[d]);return{c(){t=m$(e[9]),r&&r.c(),i=v$(),/-/.test(e[9])?C$(t,u):A$(t,u)},m(e,r){f$(e,t,r),~n&&s[n].m(t,null),d$(t,i),o=!0},p(e,o){let d=n;n=l(e),n===d?~n&&s[n].p(e,o):(r&&(cS(),hS(s[d],1,1,(()=>{s[d]=null})),uS()),~n?(r=s[n],r?r.p(e,o):(r=s[n]=a[n](e),r.c()),dS(r,1),r.m(t,i)):r=null),u=vS(c,[4&o&&e[4](e[10])]),/-/.test(e[9])?C$(t,u):A$(t,u)},i(e){o||(dS(r),o=!0)},o(e){hS(r),o=!1},d(e){e&&g$(t),~n&&s[n].d()}}}function JP(e,t){let n,r,i,o,a,s;const l=[QP,GP],c=[];function u(e,t){return 4&t&&(r=null),null==r&&(r=!e[5](e[9])),r?0:1}return i=u(t,-1),o=c[i]=l[i](t),{key:e,first:null,c(){n=w$(),o.c(),a=w$(),this.first=n},m(e,t){f$(e,n,t),c[i].m(e,t),f$(e,a,t),s=!0},p(e,n){let r=i;i=u(t=e,n),i===r?c[i].p(t,n):(cS(),hS(c[r],1,1,(()=>{c[r]=null})),uS(),o=c[i],o?o.p(t,n):(o=c[i]=l[i](t),o.c()),dS(o,1),o.m(a.parentNode,a))},i(e){s||(dS(o),s=!0)},o(e){hS(o),s=!1},d(e){e&&g$(n),c[i].d(e),e&&g$(a)}}}function YP(e){let t,n,r=[],i=new Map,o=e[2];const a=e=>e[0]+e[1];for(let s=0;s<o.length;s+=1){let t=VP(e,o,s),n=a(t);i.set(n,r[s]=JP(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=w$()},m(e,i){for(let t=0;t<r.length;t+=1)r[t].m(e,i);f$(e,t,i),n=!0},p(e,n){let[s]=n;62&s&&(o=e[2],cS(),r=bS(r,s,a,1,e,o,i,t.parentNode,yS,JP,t,VP),uS())},i(e){if(!n){for(let e=0;e<o.length;e+=1)dS(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)hS(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&g$(t)}}}function eR(e,t,n){let r,i,{items:o}=t,{discardEmptyItems:a=!0}=t,{key:s=""}=t;const l={Button:XC,ImageButton:xE,ImageButtonList:CE,Dropdown:QT,Select:WP,RadioGroup:kT,Input:TT,Panel:XT,ProgressIndicator:fE,ShapeStyle:bP,ToggleSlider:fP,ColorPicker:DP,ShorthandControl:UP},c=e=>!Em(e)||!!l[e],u=e=>{if(!e)return!1;const[t,,n,r=[]]=e;return!!c(t)||r.some(u)||n.textContent||n.innerHTML};return e.$$set=e=>{"items"in e&&n(6,o=e.items),"discardEmptyItems"in e&&n(7,a=e.discardEmptyItems),"key"in e&&n(0,s=e.key)},e.$$.update=()=>{1&e.$$.dirty&&n(1,r=s),192&e.$$.dirty&&n(2,i=(o&&a?o.filter(u):o)||[])},[s,r,i,l,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{textContent:t,innerHTML:n,...r}=e;return r},c,o,a]}class tR extends CS{constructor(e){super(),AS(this,e,eR,YP,Gx,{items:6,discardEmptyItems:7,key:0})}get items(){return this.$$.ctx[6]}set items(e){this.$$set({items:e}),iS()}get discardEmptyItems(){return this.$$.ctx[7]}set discardEmptyItems(e){this.$$set({discardEmptyItems:e}),iS()}get key(){return this.$$.ctx[0]}set key(e){this.$$set({key:e}),iS()}}let nR=null;function rR(e){let t,n;const r=[{onclick:e[1]},e[3]];let i={};for(let o=0;o<r.length;o+=1)i=Ux(i,r[o]);return t=new XC({props:i}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const i=10&n[0]?vS(r,[2&n[0]&&{onclick:e[1]},8&n[0]&&wS(e[3])]):{};t.$set(i)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function iR(e){let t,n;const r=[{onclick:e[0]},{class:"PinturaInputFormButtonConfirm"},e[2]];let i={};for(let o=0;o<r.length;o+=1)i=Ux(i,r[o]);return t=new XC({props:i}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const i=5&n[0]?vS(r,[1&n[0]&&{onclick:e[0]},r[1],4&n[0]&&wS(e[2])]):{};t.$set(i)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function oR(e){let t,n,r,i,o,a,s,l,c=e[3]&&rR(e);const u=e[24].default,d=Zx(u,e,e[23],null);let h=e[2]&&iR(e);return{c(){t=m$("div"),n=m$("div"),c&&c.c(),r=v$(),i=m$("div"),d&&d.c(),o=v$(),h&&h.c(),k$(i,"class","PinturaInputFormFields"),k$(n,"class","PinturaInputFormInner"),k$(t,"class","PinturaInputForm"),k$(t,"data-layout",e[4]),k$(t,"style",e[6])},m(u,p){f$(u,t,p),d$(t,n),c&&c.m(n,null),d$(n,r),d$(n,i),d&&d.m(i,null),d$(n,o),h&&h.m(n,null),e[25](t),a=!0,s||(l=[x$(i,"keydown",e[10]),x$(t,"focusin",e[7]),x$(t,"focusout",e[8]),x$(t,"measure",e[9]),i$(iC.call(null,t))],s=!0)},p(e,i){e[3]?c?(c.p(e,i),8&i[0]&&dS(c,1)):(c=rR(e),c.c(),dS(c,1),c.m(n,r)):c&&(cS(),hS(c,1,1,(()=>{c=null})),uS()),d&&d.p&&(!a||8388608&i[0])&&Yx(d,u,e,e[23],a?Jx(u,e[23],i,null):e$(e[23]),null),e[2]?h?(h.p(e,i),4&i[0]&&dS(h,1)):(h=iR(e),h.c(),dS(h,1),h.m(n,null)):h&&(cS(),hS(h,1,1,(()=>{h=null})),uS()),(!a||16&i[0])&&k$(t,"data-layout",e[4]),(!a||64&i[0])&&k$(t,"style",e[6])},i(e){a||(dS(c),dS(d,e),dS(h),a=!0)},o(e){hS(c),hS(d,e),hS(h),a=!1},d(n){n&&g$(t),c&&c.d(),d&&d.d(n),h&&h.d(),e[25](null),s=!1,Wx(l)}}}function aR(e,t,n){let r,i,o,a,s,l,c,{$$slots:u={},$$scope:d}=t,{onconfirm:h}=t,{oncancel:p}=t,{autoFocus:f=!0}=t,{autoPositionCursor:g=!0}=t,{buttonConfirm:m}=t,{buttonCancel:y}=t,{layout:b="stack"}=t,{parentRect:v}=t,{align:w}=t,{justify:x}=t,{parentMargin:$=16}=t,{panelOffset:S=dy()}=t,k=!1,A="",C=0;const E=()=>{const e=s.querySelector("input, textarea");e.focus(),C>=1||e.select()},T=()=>{k=!0,R||!hv()&&!wm()||n(19,A="top:1em;bottom:auto;"),hv()&&(e=>{let t;e.addEventListener("touchstart",(e=>t=e.touches[0].screenY)),e.addEventListener("touchmove",(e=>{const n=e.touches[0].screenY,r=e.target;/textarea/i.test(r.nodeName)?(n>t?0==r.scrollTop&&e.preventDefault():n<t?r.scrollTop+r.offsetHeight==r.scrollHeight&&e.preventDefault():e.preventDefault(),t=n):e.preventDefault()}))})(s),n(20,C=1)};let P;const R=(e=>{if(null===nR&&(nR=um()&&"visualViewport"in window),!nR)return!1;const t=visualViewport.height,n=()=>{e(visualViewport.height<t?"visible":"hidden")};return visualViewport.addEventListener("resize",n),()=>visualViewport.removeEventListener("resize",n)})((e=>{o?"hidden"!==e||k?(clearTimeout(c),c=void 0,n(19,A="top:".concat(visualViewport.height-l.height-S.y,"px")),"visible"===e?(n(5,s.dataset.stick=!0,s),E(),T()):(k=!1,n(20,C=0))):E():n(19,A="top: 4.5em; bottom: auto")}));return D$((()=>{f&&E()})),_$((()=>{R&&R()})),e.$$set=e=>{"onconfirm"in e&&n(0,h=e.onconfirm),"oncancel"in e&&n(1,p=e.oncancel),"autoFocus"in e&&n(11,f=e.autoFocus),"autoPositionCursor"in e&&n(12,g=e.autoPositionCursor),"buttonConfirm"in e&&n(2,m=e.buttonConfirm),"buttonCancel"in e&&n(3,y=e.buttonCancel),"layout"in e&&n(4,b=e.layout),"parentRect"in e&&n(13,v=e.parentRect),"align"in e&&n(14,w=e.align),"justify"in e&&n(15,x=e.justify),"parentMargin"in e&&n(16,$=e.parentMargin),"panelOffset"in e&&n(17,S=e.panelOffset),"$$scope"in e&&n(23,d=e.$$scope)},e.$$.update=()=>{385024&e.$$.dirty[0]&&n(21,r=v&&l?((e,t,n,r,i)=>{let o,a;return o="center"===r?e.x+.5*e.width-.5*t.width:"right"===r?e.x+e.width-t.width-i:e.x+i,a="center"===n?e.y+.5*e.height-.5*t.height:"bottom"===n?e.y+e.height-t.height-i:e.y+i,"left:".concat(o,"px;top:").concat(a,"px;right:auto;bottom:auto;")})(v,l,w,x,$):void 0),32&e.$$.dirty[0]&&n(22,i=s&&getComputedStyle(s)),4194304&e.$$.dirty[0]&&(o=i&&"1"===i.getPropertyValue("--editor-modal")),3670016&e.$$.dirty[0]&&n(6,a="opacity:".concat(C,";").concat(r||A))},[h,p,m,y,b,s,a,e=>{var t;((e=>/textarea/i.test(e))(e.target)||ME(e.target))&&(P=Date.now(),g&&((t=e.target).selectionStart=t.selectionEnd=t.value.length),clearTimeout(c),c=setTimeout(T,200))},e=>{Date.now()-P>50||(e.stopPropagation(),E())},e=>{let{detail:t}=e;n(18,l={width:t.width,height:t.height})},e=>"Enter"===e.key?h():"Escape"===e.key?p():void 0,f,g,v,w,x,$,S,l,A,C,r,i,d,u,function(e){G$[e?"unshift":"push"]((()=>{s=e,n(5,s)}))}]}class sR extends CS{constructor(e){super(),AS(this,e,aR,oR,Gx,{onconfirm:0,oncancel:1,autoFocus:11,autoPositionCursor:12,buttonConfirm:2,buttonCancel:3,layout:4,parentRect:13,align:14,justify:15,parentMargin:16,panelOffset:17},null,[-1,-1])}}var lR=(e,t)=>{e.fastSeek&&e.fastSeek(t),e.currentTime=t};const cR=["aspectRatio","isRotatedSideways","flip","cropSize"],uR=rk.map((e=>{let[t]=e;return t})).filter((e=>!cR.includes(e)));var dR=(e,t)=>new CustomEvent("ping",{detail:{type:e,data:t},cancelable:!0,bubbles:!0}),hR=(e,t)=>(t?nA(e,t):e).replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\s+/g,"-").toLowerCase(),pR=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qm;const{subscribe:n,set:r}=PS(void 0);return{subscribe:n,destroy:((e,t)=>{const n=matchMedia(e);return n.addListener(t),t(n),{get matches(){return n.matches},destroy:()=>n.removeListener(t)}})(e,(e=>{let{matches:n}=e;return r(t(n))})).destroy}},fR=(e,t,n)=>new Promise(((r,i)=>{(async()=>{vk(e)&&r(await bk(e));const o=await t.read(e),a=e=>Nm(e,n).then((e=>t.apply(e,o))).then(r).catch(i);if(Rm(e)||!Pm()||qb()||hv())return a(e);let s;try{s=await Lm(((e,t)=>createImageBitmap(e).then((e=>t(null,e))).catch(t)),[e])}catch(e){}s&&s.width?await hm()?AA()&&o>1?r(await(async e=>pm(await $m(e)))(s)):r(s):r(t.apply(s,o)):a(e)})()})),gR=(e,t)=>new Promise((async n=>{if(e.width<t.width&&e.height<t.height)return n(e);const r=Math.min(t.width/e.width,t.height/e.height),i=r*e.width,o=r*e.height,a=fm("canvas",{width:i,height:o}),s=a.getContext("2d",{willReadFrequently:!0}),l=ym(e)?await $m(e):e;s.drawImage(l,0,0,i,o),n(pm(a))}));let mR=null;var yR=()=>{if(null===mR){let e=fm("canvas");mR=!!mA(e),mm(e),e=void 0}return mR};const bR=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],vR={precision:1e-4},wR={precision:.01*vR.precision};var xR=e=>e[0]<.25&&e[1]<.25&&e[2]<.25,$R=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((t=>{const{accept:n="image/*"}=e,r=fm("input",{style:"position:absolute;visibility:hidden;width:0;height:0;",type:"file",accept:n}),i=()=>{const[e]=r.files;r.parentNode&&r.remove(),r.removeEventListener("change",i),t(e)};r.addEventListener("change",i),hv()&&document.body.append(r),r.click()}))},SR=e=>{try{return e()}catch(e){console.error(e)}},kR=e=>{let[t,n]=e;return t+.5*(n-t)},AR=e=>Math.round(100*e),CR=e=>hy(e.clientX,e.clientY),ER=(e,t,n)=>{const r=CR(e);return Sy(Sy(r,t),n)};function TR(e,t,n){let r,i,o,a,s,l,c,u,d,h,p,f,g,m,y,b,v,w,x,$,S,{root:k}=t,{locale:A}=t,{stores:C}=t,{allowPan:E=!0}=t,{allowZoom:T=!0}=t,{enablePan:P=!0}=t,{enableZoom:R=!0}=t,{enableZoomControls:M=R}=t,{enableZoomInput:I=!0}=t,{enablePanInput:L=!0}=t,{enablePanLimit:B=!0}=t,{panLimitGutterScalar:O=0}=t,{zoomOptions:F=[.25,.5,1,1.25,1.5,2,3,4,6,8,16]}=t,{zoomAdjustStep:N=.25}=t,{zoomAdjustFactor:D=.1}=t,{zoomAdjustWheelFactor:z=1}=t,{elasticity:_=5}=t,{imageSelectionRectCentered:U}=t,{imageSelectionRectScalar:j}=t,{zoomLevel:H=null}=t,{zoomControls:W}=t,{zoomMultiTouching:V=!1}=t;const{isAnimated:G,isInteracting:Q,rootRect:q,stageRect:K,stageScalar:Z,imageSelectionPan:X,imageSelectionZoom:J,imageSelectionStageFitScalar:Y,imageSelectionRect:ee,imageSelectionStoredState:te,imagePreviewUpscale:ne}=C;Kx(e,G,(e=>n(70,$=e))),Kx(e,Q,(e=>n(69,w=e))),Kx(e,q,(e=>n(66,y=e))),Kx(e,K,(e=>n(65,m=e))),Kx(e,Z,(e=>n(46,x=e))),Kx(e,X,(e=>n(64,p=e))),Kx(e,J,(e=>n(43,h=e))),Kx(e,Y,(e=>n(44,f=e))),Kx(e,ee,(e=>n(67,b=e))),Kx(e,te,(e=>n(71,S=e))),Kx(e,ne,(e=>n(45,g=e)));const re=H$("fixScrollDirection");Kx(e,re,(e=>n(68,v=e)));let ie,oe,ae,se,le=!1;const ce=e=>{const t=k.querySelector(".PinturaMain > .PinturaUtilMain")||k.querySelector('div[tabindex="0"] .PinturaUtilMain');return!!t&&!!t.contains(e.target)&&!IE(e.target)},ue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{pan:t=p,zoom:n=h}=e;r$(te,S={translation:t,zoom:n},S)},de=()=>p&&0===p.x&&0===p.y,he=()=>{r$(J,h=void 0,h),de()||r$(X,p=dy(),p),fe.set(void 0,{hard:!0})},pe=()=>{he(),ue()},fe=jA(void 0,{precision:.01});fe.subscribe((e=>{if(void 0===e)return r$(J,h=void 0,h),void(de()||r$(X,p=dy(),p));const t=h;e<=1?de()||r$(X,p=dy(),p):e<=t&&r$(X,p=Ay(p,.8),p),r$(J,h=e,h)}));const ge=e=>{fe.update((t=>{const n=e(t||f);return ue({zoom:n}),n}))},me=e=>{e?fe.set(e,{hard:!1===$}):(e=void 0,fe.set(void 0,{hard:!0})),r$(J,h=e,h),ue({zoom:e})},ye=(e,t)=>{const n=j*t,r={...U},i=1-qS(O,0,1);lb(r,n<i?n:i);const o={...U};lb(o,n),sb(o,e);const a={...o};return o.x>r.x&&(a.x=r.x),o.y>r.y&&(a.y=r.y),o.x+o.width<r.x+r.width&&(a.x=r.x+r.width-o.width),o.y+o.height<r.y+r.height&&(a.y=r.y+r.height-o.height),Sy(ab(a),ab(r))},be=e=>{let{translation:t,zoom:n=1,elastify:r=!0}=e;if(!ie)return;let i=t;const o=hy(ie.x+i.x,ie.y+i.y);if(!B)return o;const a=ye(o,n);return r?((e,t,n)=>t&&n?hy(e.x+nE(t.x-e.x,n),e.y+nE(t.y-e.y,n)):{...e})(a,o,_):a};let ve,we;const xe=()=>{we=void 0,r$(Q,w=!0,w),n(34,le=L),ve=!1,ae=!1,ie={...p},oe=g?h||f:o?h||1:h||f},$e=e=>{const{scalar:t,translation:i,isMultiTouching:o}=e.detail;if(!ie||!o&&!L)return;o&&Ay(i,.5),(L||o)&&(ve=!0),V||n(13,V=o);const a=r?qS(oe*t,s,l):1,c=be({translation:i,zoom:a,elastify:!0}),u=yy(c);se=yy(p),ae=u<se,r&&J.set(a),X.set(c),we=V&&{translation:e.detail.translation,scalar:t}},Se=e=>{r$(Q,w=!1,w),n(34,le=!1),n(13,V=!1),ae&&se<50&&(ie=void 0,oe=void 0,X.set(dy()))},ke=e=>{r$(Q,w=!1,w),n(34,le=!1),n(13,V=!1),Promise.resolve().then((()=>{if(ve&&ie){const t=we||e.detail,n=r?qS(oe*t.scalar,s,l):1,i=be({elastify:!1,translation:t.translation,zoom:n});X.set(i)}ie=void 0,oe=void 0,L&&e.detail.isDoubleTap&&pe(),ue()}))};let Ae,Ce=Date.now(),Ee=0,Te=!1,Pe=!1;const Re=e=>{if(!ce(e))return;if(e.preventDefault(),e.stopPropagation(),Pe)return;clearTimeout(Ae);const t=oE(e,{fixScrollDirection:v}),n=Date.now(),r=n-Ce;Ce=n;const i=Math.abs(t/r)>.2;Ee=i?Ee+1:0;const o=1+-1*t*z/(i?50:100),a=ER(e,y,m);Me(a,o,{isZoomingFast:i})},Me=(e,t,n)=>{let{isZoomingFast:r}=n;const i=g?h||f:o?h||1:h||f,a=i*t,c=dy(),u=p,d=g?f:o?1:f,m=Math.abs(a-d),y=a<i,v=i>d&&y||i<d&&a>i,w=Ee>=5;if(r||(Te=!1),Ee>0&&!Te&&(Te=v),w&&Te)return pe(),Pe=!0,void setTimeout((()=>{Pe=!1}),100);if(w)return;!r&&v&&m<=.05&&(Ae=setTimeout((()=>{pe()}),250)),r$(J,h=qS(a,s,l),h);const x=Xy(b);lb(x,i),sb(x,u);const $=ab(x),S=Xy(x);lb(S,h-i+1,e);const k=ab(S),A=ky(Sy(k,$),i);((e,t,n)=>{e.x=t,e.y=n})(c,u.x+A.x,u.y+A.y),r$(X,p=y&&r?Ay(fy(p),.85):ye(c,i),p),ue()},Ie=e=>(e?"add":"remove")+"EventListener";let Le,Be,Oe,Fe;const Ne=e=>{e.preventDefault(),Be={...p},Fe=Xy(b),Oe=ER(e,y,m),Le=g?h||f:o?h||1:h||f},De=e=>{e.preventDefault(),r$(J,h=qS(e.scale*Le,s,l),h);const t=Xy(Fe);lb(t,Le),sb(t,Be);const n=ab(t),r=Xy(t);lb(r,h-Le+1,Oe);const i=ab(r),o=ky(Sy(i,n),Le),a={x:Be.x+o.x,y:Be.y+o.y};r$(X,p=ye(a,h),p)},ze=e=>{e.preventDefault()},_e=e=>{k[Ie(e)]("wheel",Re),hv()||(k[Ie(e)]("gesturestart",Ne),k[Ie(e)]("gesturechange",De),k[Ie(e)]("gestureend",ze))},Ue=e=>{const t=Ie(e);k[t]("interactionstart",xe),k[t]("interactionupdate",$e),k[t]("interactionrelease",Se),k[t]("interactionend",ke)};let je;return D$((()=>{je=eE(k,{drag:!0,pinch:!0,inertia:!0,inertiaDurationMultiplier:10,shouldStartInteraction:ce})})),_$((()=>{_e(!1),Ue(!1),je.destroy(),je=void 0})),e.$$set=e=>{"root"in e&&n(14,k=e.root),"locale"in e&&n(15,A=e.locale),"stores"in e&&n(16,C=e.stores),"allowPan"in e&&n(17,E=e.allowPan),"allowZoom"in e&&n(18,T=e.allowZoom),"enablePan"in e&&n(19,P=e.enablePan),"enableZoom"in e&&n(20,R=e.enableZoom),"enableZoomControls"in e&&n(21,M=e.enableZoomControls),"enableZoomInput"in e&&n(22,I=e.enableZoomInput),"enablePanInput"in e&&n(23,L=e.enablePanInput),"enablePanLimit"in e&&n(24,B=e.enablePanLimit),"panLimitGutterScalar"in e&&n(25,O=e.panLimitGutterScalar),"zoomOptions"in e&&n(26,F=e.zoomOptions),"zoomAdjustStep"in e&&n(27,N=e.zoomAdjustStep),"zoomAdjustFactor"in e&&n(28,D=e.zoomAdjustFactor),"zoomAdjustWheelFactor"in e&&n(29,z=e.zoomAdjustWheelFactor),"elasticity"in e&&n(30,_=e.elasticity),"imageSelectionRectCentered"in e&&n(31,U=e.imageSelectionRectCentered),"imageSelectionRectScalar"in e&&n(32,j=e.imageSelectionRectScalar),"zoomLevel"in e&&n(33,H=e.zoomLevel),"zoomControls"in e&&n(12,W=e.zoomControls),"zoomMultiTouching"in e&&n(13,V=e.zoomMultiTouching)},e.$$.update=()=>{var t,m;5505024&e.$$.dirty[0]&&n(36,r=T&&R&&I),655360&e.$$.dirty[0]&&n(35,i=E&&P),393216&e.$$.dirty[0]&&(E||T?(r$(J,h=R?S.zoom:void 0,h),r$(X,p=P?fy(S.translation):de()?p:dy(),p),fe.set(h)):he()),32768&e.$$.dirty[1]&&(o=x>=1),67141632&e.$$.dirty[0]|57344&e.$$.dirty[1]&&n(40,a=[(g||x<1)&&[f,AR(f)+"%",{sublabel:A.labelZoomFit}],...F.map((e=>[e,AR(e)+"%"]))].filter(Boolean).map((e=>(1===e[0]&&(e[2]={sublabel:A.labelZoomActual}),e))).sort(((e,t)=>{const n=e[0]||f,r=t[0]||f;return n<r?-1:r<n?1:0}))),8704&e.$$.dirty[1]&&n(38,s=Math.min(a.reduce(((e,t)=>{let[n]=t;return n<e?n:e}),Number.MAX_SAFE_INTEGER),f)),512&e.$$.dirty[1]&&n(37,l=a.reduce(((e,t)=>{let[n]=t;return n>e?n:e}),Number.MIN_SAFE_INTEGER)),4&e.$$.dirty[1]&&null!==H&&me(H),61440&e.$$.dirty[1]&&n(42,u=h||(g||x<1?f:1)),2560&e.$$.dirty[1]&&n(39,(t=a.map((e=>{let[t]=e;return t})),m=u,c=t.findIndex((e=>e===m)))),2048&e.$$.dirty[1]&&n(41,d=AR(u)+"%"),405045248&e.$$.dirty[0]|6080&e.$$.dirty[1]&&n(12,W=(T||T)&&M?[["Button","zoom-out",{hideLabel:!0,label:A.labelZoomOut,icon:A.iconZoomOut,disabled:h===s,onclick:()=>ge((e=>Math.max(s,e-N))),onhold:()=>ge((e=>Math.max(s,e*(1-D))))}],["Dropdown","zoom-level",{label:d,title:A.labelZoom,labelClass:"PinturaFixedWidthCharacters",options:a,selectedIndex:c,onchange:e=>me(e.value)}],["Button","zoom-in",{hideLabel:!0,label:A.labelZoomIn,icon:A.iconZoomIn,disabled:h===l,onclick:()=>ge((e=>Math.min(l,e+N))),onhold:()=>ge((e=>Math.min(l,e*(1+D))))}]]:[]),16384&e.$$.dirty[0]|32&e.$$.dirty[1]&&k&&_e(r),16384&e.$$.dirty[0]|16&e.$$.dirty[1]&&k&&Ue(i),8404992&e.$$.dirty[0]|24&e.$$.dirty[1]&&k&&k.style.setProperty("--cursor",i&&L?le?"grabbing":"grab":"")},[G,Q,q,K,Z,X,J,Y,ee,te,ne,re,W,V,k,A,C,E,T,P,R,M,I,L,B,O,F,N,D,z,_,U,j,H,le,i,r,l,s,c,a,d,u,h,f,g,x]}class PR extends CS{constructor(e){super(),AS(this,e,TR,null,Gx,{root:14,locale:15,stores:16,allowPan:17,allowZoom:18,enablePan:19,enableZoom:20,enableZoomControls:21,enableZoomInput:22,enablePanInput:23,enablePanLimit:24,panLimitGutterScalar:25,zoomOptions:26,zoomAdjustStep:27,zoomAdjustFactor:28,zoomAdjustWheelFactor:29,elasticity:30,imageSelectionRectCentered:31,imageSelectionRectScalar:32,zoomLevel:33,zoomControls:12,zoomMultiTouching:13},null,[-1,-1,-1,-1])}}const{window:RR}=gS;function MR(e){let t,n,r,i=e[41]&&IR(e),o=e[38]&&UR(e);return{c(){i&&i.c(),t=v$(),o&&o.c(),n=w$()},m(e,a){i&&i.m(e,a),f$(e,t,a),o&&o.m(e,a),f$(e,n,a),r=!0},p(e,r){e[41]?i?(i.p(e,r),1024&r[1]&&dS(i,1)):(i=IR(e),i.c(),dS(i,1),i.m(t.parentNode,t)):i&&(cS(),hS(i,1,1,(()=>{i=null})),uS()),e[38]?o?(o.p(e,r),128&r[1]&&dS(o,1)):(o=UR(e),o.c(),dS(o,1),o.m(n.parentNode,n)):o&&(cS(),hS(o,1,1,(()=>{o=null})),uS())},i(e){r||(dS(i),dS(o),r=!0)},o(e){hS(i),hS(o),r=!1},d(e){i&&i.d(e),e&&g$(t),o&&o.d(e),e&&g$(n)}}}function IR(e){let t,n,r,i,o,a;const s=[BR,LR],l=[];function c(e,t){return e[39]?0:e[35]?1:-1}return~(r=c(e))&&(i=l[r]=s[r](e)),{c(){t=m$("div"),n=m$("p"),i&&i.c(),k$(n,"style",e[72]),k$(t,"class","PinturaStatus"),k$(t,"style",o="opacity: "+e[54])},m(e,i){f$(e,t,i),d$(t,n),~r&&l[r].m(n,null),a=!0},p(e,u){let d=r;r=c(e),r===d?~r&&l[r].p(e,u):(i&&(cS(),hS(l[d],1,1,(()=>{l[d]=null})),uS()),~r?(i=l[r],i?i.p(e,u):(i=l[r]=s[r](e),i.c()),dS(i,1),i.m(n,null)):i=null),(!a||1024&u[2])&&k$(n,"style",e[72]),(!a||8388608&u[1]&&o!==(o="opacity: "+e[54]))&&k$(t,"style",o)},i(e){a||(dS(i),a=!0)},o(e){hS(i),a=!1},d(e){e&&g$(t),~r&&l[r].d()}}}function LR(e){let t,n,r,i;t=new dE({props:{text:e[35].text||"",onmeasure:e[221]}});let o=e[35].aside&&OR(e);return{c(){$S(t.$$.fragment),n=v$(),o&&o.c(),r=w$()},m(e,a){SS(t,e,a),f$(e,n,a),o&&o.m(e,a),f$(e,r,a),i=!0},p(e,n){const i={};16&n[1]&&(i.text=e[35].text||""),t.$set(i),e[35].aside?o?(o.p(e,n),16&n[1]&&dS(o,1)):(o=OR(e),o.c(),dS(o,1),o.m(r.parentNode,r)):o&&(cS(),hS(o,1,1,(()=>{o=null})),uS())},i(e){i||(dS(t.$$.fragment,e),dS(o),i=!0)},o(e){hS(t.$$.fragment,e),hS(o),i=!1},d(e){kS(t,e),e&&g$(n),o&&o.d(e),e&&g$(r)}}}function BR(e){let t,n,r,i;return t=new dE({props:{text:e[39],onmeasure:e[221]}}),r=new yE({props:{class:"PinturaStatusIcon",offset:e[82],opacity:e[83],$$slots:{default:[_R]},$$scope:{ctx:e}}}),{c(){$S(t.$$.fragment),n=v$(),$S(r.$$.fragment)},m(e,o){SS(t,e,o),f$(e,n,o),SS(r,e,o),i=!0},p(e,n){const i={};256&n[1]&&(i.text=e[39]),t.$set(i);const o={};1048576&n[2]&&(o.offset=e[82]),2097152&n[2]&&(o.opacity=e[83]),8&n[0]|32768&n[19]&&(o.$$scope={dirty:n,ctx:e}),r.$set(o)},i(e){i||(dS(t.$$.fragment,e),dS(r.$$.fragment,e),i=!0)},o(e){hS(t.$$.fragment,e),hS(r.$$.fragment,e),i=!1},d(e){kS(t,e),e&&g$(n),kS(r,e)}}}function OR(e){let t,n;return t=new yE({props:{class:"PinturaStatusButton",offset:e[82],opacity:e[83],$$slots:{default:[DR]},$$scope:{ctx:e}}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};1048576&n[2]&&(r.offset=e[82]),2097152&n[2]&&(r.opacity=e[83]),16&n[1]|32768&n[19]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function FR(e){let t,n;return t=new fE({props:{progress:e[35].progressIndicator.progress}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};16&n[1]&&(r.progress=e[35].progressIndicator.progress),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function NR(e){let t,n;const r=[e[35].closeButton,{hideLabel:!0}];let i={};for(let o=0;o<r.length;o+=1)i=Ux(i,r[o]);return t=new XC({props:i}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const i=16&n[1]?vS(r,[wS(e[35].closeButton),r[1]]):{};t.$set(i)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function DR(e){let t,n,r,i=e[35].progressIndicator.visible&&FR(e),o=e[35].closeButton&&e[35].text&&NR(e);return{c(){i&&i.c(),t=v$(),o&&o.c(),n=w$()},m(e,a){i&&i.m(e,a),f$(e,t,a),o&&o.m(e,a),f$(e,n,a),r=!0},p(e,r){e[35].progressIndicator.visible?i?(i.p(e,r),16&r[1]&&dS(i,1)):(i=FR(e),i.c(),dS(i,1),i.m(t.parentNode,t)):i&&(cS(),hS(i,1,1,(()=>{i=null})),uS()),e[35].closeButton&&e[35].text?o?(o.p(e,r),16&r[1]&&dS(o,1)):(o=NR(e),o.c(),dS(o,1),o.m(n.parentNode,n)):o&&(cS(),hS(o,1,1,(()=>{o=null})),uS())},i(e){r||(dS(i),dS(o),r=!0)},o(e){hS(i),hS(o),r=!1},d(e){i&&i.d(e),e&&g$(t),o&&o.d(e),e&&g$(n)}}}function zR(e){let t,n=e[3].iconSupportError+"";return{c(){t=y$("g")},m(e,r){f$(e,t,r),t.innerHTML=n},p(e,r){8&r[0]&&n!==(n=e[3].iconSupportError+"")&&(t.innerHTML=n)},d(e){e&&g$(t)}}}function _R(e){let t,n;return t=new HC({props:{$$slots:{default:[zR]},$$scope:{ctx:e}}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};8&n[0]|32768&n[19]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function UR(e){let t,n,r,i,o,a,s,l,c,u,d,h,p,f,g=e[10]&&jR(e),m=e[46]&&e[45]&&HR(e);const y=[ZR,KR],b=[];function v(e,t){return e[46]?0:1}function w(t){e[439](t)}function x(t){e[440](t)}function $(t){e[441](t)}r=v(e),i=b[r]=y[r](e),a=new fC({props:{isAnimated:e[53],isTransparent:e[20],pixelRatio:e[57],textPixelRatio:e[6],backgroundColor:e[56],maskRect:e[58],maskOpacity:e[73]?e[73].maskOpacity:1,maskMarkupOpacity:e[7],maskFrameOpacity:e[5],clipAnnotationsToImage:e[85],images:e[55],interfaceImages:e[86],loadImageData:e[28],enableGrid:e[11],gridSize:e[87],gridColors:[e[88],e[89]],gridOpacity:e[90],selectionColor:e[91],csp:e[92]||{},willRequest:e[81]||e[93],willRender:e[436],didRender:e[437]}});let S={root:e[2],locale:e[3],stores:e[202],allowPan:e[95],enablePan:e[17],enablePanLimit:e[21],panLimitGutterScalar:e[22],enablePanInput:e[96],allowZoom:e[97],enableZoom:e[18],enableZoomInput:void 0!==e[19]?e[19]:e[98],enableZoomControls:e[99],zoomOptions:e[13]||e[23],zoomAdjustStep:e[14]||e[24],zoomAdjustFactor:e[15]||e[25],zoomAdjustWheelFactor:e[16]||e[26],imageSelectionRectCentered:e[100],imageSelectionRectScalar:e[101],elasticity:nM*e[8]};return void 0!==e[0]&&(S.zoomLevel=e[0]),void 0!==e[33]&&(S.zoomControls=e[33]),void 0!==e[34]&&(S.zoomMultiTouching=e[34]),u=new PR({props:S}),G$.push((()=>xS(u,"zoomLevel",w))),G$.push((()=>xS(u,"zoomControls",x))),G$.push((()=>xS(u,"zoomMultiTouching",$))),{c(){g&&g.c(),t=v$(),m&&m.c(),n=v$(),i.c(),o=v$(),$S(a.$$.fragment),s=v$(),l=m$("div"),c=v$(),$S(u.$$.fragment),k$(l,"class","PinturaRootPortal")},m(i,d){g&&g.m(i,d),f$(i,t,d),m&&m.m(i,d),f$(i,n,d),b[r].m(i,d),f$(i,o,d),SS(a,i,d),f$(i,s,d),f$(i,l,d),e[438](l),f$(i,c,d),SS(u,i,d),f=!0},p(e,s){e[10]?g?(g.p(e,s),1024&s[0]&&dS(g,1)):(g=jR(e),g.c(),dS(g,1),g.m(t.parentNode,t)):g&&(cS(),hS(g,1,1,(()=>{g=null})),uS()),e[46]&&e[45]?m?(m.p(e,s),49152&s[1]&&dS(m,1)):(m=HR(e),m.c(),dS(m,1),m.m(n.parentNode,n)):m&&(cS(),hS(m,1,1,(()=>{m=null})),uS());let l=r;r=v(e),r===l?b[r].p(e,s):(cS(),hS(b[l],1,1,(()=>{b[l]=null})),uS(),i=b[r],i?i.p(e,s):(i=b[r]=y[r](e),i.c()),dS(i,1),i.m(o.parentNode,o));const c={};4194304&s[1]&&(c.isAnimated=e[53]),1048576&s[0]&&(c.isTransparent=e[20]),67108864&s[1]&&(c.pixelRatio=e[57]),64&s[0]&&(c.textPixelRatio=e[6]),33554432&s[1]&&(c.backgroundColor=e[56]),134217728&s[1]&&(c.maskRect=e[58]),2048&s[2]&&(c.maskOpacity=e[73]?e[73].maskOpacity:1),128&s[0]&&(c.maskMarkupOpacity=e[7]),32&s[0]&&(c.maskFrameOpacity=e[5]),8388608&s[2]&&(c.clipAnnotationsToImage=e[85]),16777216&s[1]&&(c.images=e[55]),16777216&s[2]&&(c.interfaceImages=e[86]),268435456&s[0]&&(c.loadImageData=e[28]),2048&s[0]&&(c.enableGrid=e[11]),33554432&s[2]&&(c.gridSize=e[87]),201326592&s[2]&&(c.gridColors=[e[88],e[89]]),268435456&s[2]&&(c.gridOpacity=e[90]),536870912&s[2]&&(c.selectionColor=e[91]),1073741824&s[2]&&(c.csp=e[92]||{}),524288&s[2]|1&s[3]&&(c.willRequest=e[81]||e[93]),512&s[0]|270991424&s[1]|2&s[3]&&(c.willRender=e[436]),62&s[2]&&(c.didRender=e[437]),a.$set(c);const f={};4&s[0]&&(f.root=e[2]),8&s[0]&&(f.locale=e[3]),4&s[3]&&(f.allowPan=e[95]),131072&s[0]&&(f.enablePan=e[17]),2097152&s[0]&&(f.enablePanLimit=e[21]),4194304&s[0]&&(f.panLimitGutterScalar=e[22]),8&s[3]&&(f.enablePanInput=e[96]),16&s[3]&&(f.allowZoom=e[97]),262144&s[0]&&(f.enableZoom=e[18]),524288&s[0]|32&s[3]&&(f.enableZoomInput=void 0!==e[19]?e[19]:e[98]),64&s[3]&&(f.enableZoomControls=e[99]),8396800&s[0]&&(f.zoomOptions=e[13]||e[23]),16793600&s[0]&&(f.zoomAdjustStep=e[14]||e[24]),33587200&s[0]&&(f.zoomAdjustFactor=e[15]||e[25]),67174400&s[0]&&(f.zoomAdjustWheelFactor=e[16]||e[26]),128&s[3]&&(f.imageSelectionRectCentered=e[100]),256&s[3]&&(f.imageSelectionRectScalar=e[101]),256&s[0]&&(f.elasticity=nM*e[8]),!d&&1&s[0]&&(d=!0,f.zoomLevel=e[0],eS((()=>d=!1))),!h&&4&s[1]&&(h=!0,f.zoomControls=e[33],eS((()=>h=!1))),!p&&8&s[1]&&(p=!0,f.zoomMultiTouching=e[34],eS((()=>p=!1))),u.$set(f)},i(e){f||(dS(g),dS(m),dS(i),dS(a.$$.fragment,e),dS(u.$$.fragment,e),f=!0)},o(e){hS(g),hS(m),hS(i),hS(a.$$.fragment,e),hS(u.$$.fragment,e),f=!1},d(i){g&&g.d(i),i&&g$(t),m&&m.d(i),i&&g$(n),b[r].d(i),i&&g$(o),kS(a,i),i&&g$(s),i&&g$(l),e[438](null),i&&g$(c),kS(u,i)}}}function jR(e){let t,n,r,i,o;return n=new tR({props:{items:e[69]}}),{c(){t=m$("div"),$S(n.$$.fragment),k$(t,"class","PinturaNav PinturaNavTools")},m(a,s){f$(a,t,s),SS(n,t,null),r=!0,i||(o=[x$(t,"measure",e[425]),i$(iC.call(null,t))],i=!0)},p(e,t){const r={};128&t[2]&&(r.items=e[69]),n.$set(r)},i(e){r||(dS(n.$$.fragment,e),r=!0)},o(e){hS(n.$$.fragment,e),r=!1},d(e){e&&g$(t),kS(n),i=!1,Wx(o)}}}function HR(e){let t,n,r;return n=new lE({props:{elasticity:e[8]*rM,scrollDirection:e[76]?"y":"x",$$slots:{default:[qR]},$$scope:{ctx:e}}}),{c(){t=m$("div"),$S(n.$$.fragment),k$(t,"class","PinturaNav PinturaNavMain")},m(e,i){f$(e,t,i),SS(n,t,null),r=!0},p(e,t){const r={};256&t[0]&&(r.elasticity=e[8]*rM),16384&t[2]&&(r.scrollDirection=e[76]?"y":"x"),12288&t[1]|135168&t[2]|32768&t[19]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(dS(n.$$.fragment,e),r=!0)},o(e){hS(n.$$.fragment,e),r=!1},d(e){e&&g$(t),kS(n)}}}function WR(e){let t,n;const r=[e[79],{tabs:e[44]}];let i={$$slots:{default:[QR,e=>{let{tab:t}=e;return{603:t}},e=>{let{tab:t}=e;return[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,t?16384:0]}]},$$scope:{ctx:e}};for(let o=0;o<r.length;o+=1)i=Ux(i,r[o]);return t=new SC({props:i}),t.$on("select",e[426]),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const i=8192&n[1]|131072&n[2]?vS(r,[131072&n[2]&&wS(e[79]),8192&n[1]&&{tabs:e[44]}]):{};49152&n[19]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function VR(e){let t,n;return t=new tR({props:{items:e[44]}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};8192&n[1]&&(r.items=e[44]),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function GR(e){let t,n=e[603].icon+"";return{c(){t=y$("g")},m(e,r){f$(e,t,r),t.innerHTML=n},p(e,r){16384&r[19]&&n!==(n=e[603].icon+"")&&(t.innerHTML=n)},d(e){e&&g$(t)}}}function QR(e){let t,n,r,i,o,a=e[603].label+"";return t=new HC({props:{$$slots:{default:[GR]},$$scope:{ctx:e}}}),{c(){$S(t.$$.fragment),n=v$(),r=m$("span"),i=b$(a)},m(e,a){SS(t,e,a),f$(e,n,a),f$(e,r,a),d$(r,i),o=!0},p(e,n){const r={};49152&n[19]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r),(!o||16384&n[19])&&a!==(a=e[603].label+"")&&E$(i,a)},i(e){o||(dS(t.$$.fragment,e),o=!0)},o(e){hS(t.$$.fragment,e),o=!1},d(e){kS(t,e),e&&g$(n),e&&g$(r)}}}function qR(e){let t,n,r,i;const o=[VR,WR],a=[];function s(e,t){return e[74]?0:1}return t=s(e),n=a[t]=o[t](e),{c(){n.c(),r=w$()},m(e,n){a[t].m(e,n),f$(e,r,n),i=!0},p(e,i){let l=t;t=s(e),t===l?a[t].p(e,i):(cS(),hS(a[l],1,1,(()=>{a[l]=null})),uS(),n=a[t],n?n.p(e,i):(n=a[t]=o[t](e),n.c()),dS(n,1),n.m(r.parentNode,r))},i(e){i||(dS(n),i=!0)},o(e){hS(n),i=!1},d(e){a[t].d(e),e&&g$(r)}}}function KR(e){let t,n,r;function i(t){e[432](t)}let o={locale:e[3],class:"PinturaMain",view:e[207](e[43]),props:e[206](e[43],e[27]),stores:e[202]};return void 0!==e[1][e[43]]&&(o.component=e[1][e[43]]),t=new _C({props:o}),G$.push((()=>xS(t,"component",i))),t.$on("measure",e[233]),t.$on("show",e[433]),t.$on("hide",e[434]),t.$on("fade",e[435]),{c(){$S(t.$$.fragment)},m(e,n){SS(t,e,n),r=!0},p(e,r){const i={};8&r[0]&&(i.locale=e[3]),4096&r[1]&&(i.view=e[207](e[43])),134217728&r[0]|4096&r[1]&&(i.props=e[206](e[43],e[27])),!n&&2&r[0]|4096&r[1]&&(n=!0,i.component=e[1][e[43]],eS((()=>n=!1))),t.$set(i)},i(e){r||(dS(t.$$.fragment,e),r=!0)},o(e){hS(t.$$.fragment,e),r=!1},d(e){kS(t,e)}}}function ZR(e){let t,n;const r=[{class:"PinturaMain"},{visible:e[62]},e[79],{panels:e[78]}];let i={$$slots:{default:[XR,e=>{let{panel:t,panelIsActive:n}=e;return{601:t,602:n}},e=>{let{panel:t,panelIsActive:n}=e;return[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(t?4096:0)|(n?8192:0)]}]},$$scope:{ctx:e}};for(let o=0;o<r.length;o+=1)i=Ux(i,r[o]);return t=new OC({props:i}),t.$on("measure",e[431]),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const i=196609&n[2]?vS(r,[r[0],1&n[2]&&{visible:e[62]},131072&n[2]&&wS(e[79]),65536&n[2]&&{panels:e[78]}]):{};134217738&n[0]|45056&n[19]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function XR(e){let t,n,r;function i(t){e[427](t,e[601])}let o={locale:e[3],view:e[207](e[601]),props:e[206](e[601],e[27]),isActive:e[602],stores:e[202]};return void 0!==e[1][e[601]]&&(o.component=e[1][e[601]]),t=new _C({props:o}),G$.push((()=>xS(t,"component",i))),t.$on("measure",e[233]),t.$on("show",(function(){return e[428](e[601])})),t.$on("hide",(function(){return e[429](e[601])})),t.$on("fade",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e[430](e[601],...n)})),{c(){$S(t.$$.fragment)},m(e,n){SS(t,e,n),r=!0},p(r,i){e=r;const o={};8&i[0]&&(o.locale=e[3]),4096&i[19]&&(o.view=e[207](e[601])),134217728&i[0]|4096&i[19]&&(o.props=e[206](e[601],e[27])),8192&i[19]&&(o.isActive=e[602]),!n&&2&i[0]|4096&i[19]&&(n=!0,o.component=e[1][e[601]],eS((()=>n=!1))),t.$set(o)},i(e){r||(dS(t.$$.fragment,e),r=!0)},o(e){hS(t.$$.fragment,e),r=!1},d(e){kS(t,e)}}}function JR(e){let t,n;return{c(){t=m$("span"),k$(t,"class","PinturaEditorOverlay"),k$(t,"style",n="opacity:"+e[102])},m(e,n){f$(e,t,n)},p(e,r){512&r[3]&&n!==(n="opacity:"+e[102])&&k$(t,"style",n)},d(e){e&&g$(t)}}}function YR(e){let t,n;const r=[{layout:"row"},{parentRect:e[50]},e[60]];let i={$$slots:{default:[eM]},$$scope:{ctx:e}};for(let o=0;o<r.length;o+=1)i=Ux(i,r[o]);return t=new sR({props:i}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const i=537395200&n[1]?vS(r,[r[0],524288&n[1]&&{parentRect:e[50]},536870912&n[1]&&wS(e[60])]):{};1610612736&n[1]|32768&n[19]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function eM(e){let t,n,r;return{c(){t=m$("input"),t.value=n=e[60].text,k$(t,"placeholder",r=e[60].placeholder),k$(t,"type","text"),k$(t,"spellcheck","false"),k$(t,"autocorrect","off"),k$(t,"autocapitalize","off")},m(n,r){f$(n,t,r),e[442](t)},p(e,i){536870912&i[1]&&n!==(n=e[60].text)&&t.value!==n&&(t.value=n),536870912&i[1]&&r!==(r=e[60].placeholder)&&k$(t,"placeholder",r)},d(n){n&&g$(t),e[442](null)}}}function tM(e){let t,n,r,i,o,a;Y$(e[424]);let s=e[40]&&MR(e),l=e[102]>0&&JR(e),c=e[60]&&YR(e);return{c(){t=m$("div"),s&&s.c(),n=v$(),l&&l.c(),r=v$(),c&&c.c(),k$(t,"id",e[4]),k$(t,"class",e[77]),k$(t,"data-env",e[75]),k$(t,"dir",e[12])},m(u,d){f$(u,t,d),s&&s.m(t,null),d$(t,n),l&&l.m(t,null),d$(t,r),c&&c.m(t,null),e[443](t),i=!0,o||(a=[x$(RR,"keydown",e[224]),x$(RR,"keyup",e[225]),x$(RR,"blur",e[226]),x$(RR,"paste",e[230]),x$(RR,"resize",e[424]),x$(t,"ping",(function(){Vx(e[68])&&e[68].apply(this,arguments)})),x$(t,"contextmenu",e[227]),x$(t,"touchstart",e[222],{passive:!1}),x$(t,"touchmove",(function(){Vx(e[71])&&e[71].apply(this,arguments)})),x$(t,"pointermove",(function(){Vx(e[70])&&e[70].apply(this,arguments)})),x$(t,"transitionend",e[212]),x$(t,"dropfiles",e[228]),x$(t,"measure",e[444]),x$(t,"click",(function(){Vx(e[42]?e[229]:om)&&(e[42]?e[229]:om).apply(this,arguments)})),i$(iC.call(null,t,{observeViewRect:!0,isMeasureRoot:!0})),i$(oC.call(null,t)),i$(sC.call(null,t))],o=!0)},p(o,a){(e=o)[40]?s?(s.p(e,a),512&a[1]&&dS(s,1)):(s=MR(e),s.c(),dS(s,1),s.m(t,n)):s&&(cS(),hS(s,1,1,(()=>{s=null})),uS()),e[102]>0?l?l.p(e,a):(l=JR(e),l.c(),l.m(t,r)):l&&(l.d(1),l=null),e[60]?c?(c.p(e,a),536870912&a[1]&&dS(c,1)):(c=YR(e),c.c(),dS(c,1),c.m(t,null)):c&&(cS(),hS(c,1,1,(()=>{c=null})),uS()),(!i||16&a[0])&&k$(t,"id",e[4]),(!i||32768&a[2])&&k$(t,"class",e[77]),(!i||8192&a[2])&&k$(t,"data-env",e[75]),(!i||4096&a[0])&&k$(t,"dir",e[12])},i(e){i||(dS(s),dS(c),i=!0)},o(e){hS(s),hS(c),i=!1},d(n){n&&g$(t),s&&s.d(),l&&l.d(),c&&c.d(),e[443](null),o=!1,Wx(a)}}}const nM=1,rM=10;function iM(e,t,n){let r,i,o,a,s,l,c,u,d,h,p,f,g,m,y,b,v,w,x,$,S,k,A,C,E,T,P,R,M,I,L,B,O,F,N,D,z,_,U,j,H,W,V,G,Q,q,K,Z,X,J,Y,ee,te,ne,re,ie,oe,ae,se,le,ce,ue,de,he,pe,fe,ge,me,ye,be,ve,we,xe,$e,Se,ke,Ae,Ce,Ee,Te,Pe,Re,Me,Ie,Le,Be,Oe,Fe,Ne,De,ze,_e,Ue,je,He,We,Ve,Ge,Qe,qe,Ke,Ze,Xe,Je,Ye,et,tt,nt,rt,it,ot,at,st,lt,ct,ut,dt,ht,pt,ft,gt,mt,yt,bt,vt,wt,xt,$t,St,kt,At,Ct,Et,Tt,Pt,Rt,Mt,It,Lt,Bt,Ot,Ft,Nt,Dt,zt,_t,Ut,jt,Ht,Wt,Vt,Gt,Qt,qt,Kt,Zt,Xt,Jt,Yt,en,tn,nn,rn,on,an,sn,ln,cn,un,dn,hn,pn,fn,gn,mn,yn,bn,vn,wn,xn,$n,Sn,kn,An,Cn,En,Tn,Pn,Rn,Mn,In,Ln,Bn,On,Fn,Nn,Dn,zn,_n,Un,jn,Hn,Wn,Vn,Gn,Qn,qn,Kn,Zn,Xn,Jn,Yn,er,tr,nr=zx,rr=zx;Kx(e,HA,(e=>n(412,mn=e))),e.$$.on_destroy.push((()=>nr())),e.$$.on_destroy.push((()=>rr()));const ir=Wv(),or=U$();let{class:ar}=t,{layout:sr}=t,{stores:lr}=t,{locale:cr}=t,{id:ur}=t,{util:dr}=t,{utils:hr}=t,{animations:pr="auto"}=t,{disabled:fr=!1}=t,{status:gr}=t,{previewUpscale:mr=!1}=t,{previewPad:yr=!1}=t,{previewMaskOpacity:br=.95}=t,{previewImageDataMaxSize:vr}=t,{previewImageTextPixelRatio:wr}=t,{markupMaskOpacity:xr=1}=t,{zoomMaskOpacity:$r=.85}=t,{elasticityMultiplier:Sr=10}=t,{willRevert:kr=(()=>Promise.resolve(!0))}=t,{willProcessImage:Ar=(()=>Promise.resolve(!0))}=t,{willRenderCanvas:Cr=Qm}=t,{willRenderToolbar:Er=Qm}=t,{willRenderUtilTabs:Tr=Qm}=t,{willSetHistoryInitialState:Pr=Qm}=t,{enableButtonExport:Rr=!0}=t,{enableButtonRevert:Mr=!0}=t,{enableNavigateHistory:Ir=!0}=t,{enableToolbar:Lr=!0}=t,{enableUtils:Br=!0}=t,{enableButtonClose:Or=!1}=t,{enableDropImage:Fr=!1}=t,{enablePasteImage:Nr=!1}=t,{enableBrowseImage:Dr=!1}=t,{enableTransparencyGrid:zr=!1}=t,{layoutDirectionPreference:_r="auto"}=t,{layoutHorizontalUtilsPreference:Ur="left"}=t,{layoutVerticalUtilsPreference:jr="bottom"}=t,{layoutVerticalToolbarPreference:Hr="top"}=t,{layoutVerticalControlGroupsPreference:Wr="bottom"}=t,{layoutVerticalControlTabsPreference:Vr="bottom"}=t,{textDirection:Gr}=t,{markupEditorZoomLevel:Qr=null}=t,{markupEditorZoomLevels:qr}=t,{markupEditorZoomAdjustStep:Kr}=t,{markupEditorZoomAdjustFactor:Zr}=t,{markupEditorZoomAdjustWheelFactor:Xr}=t,{markupEditorInteractionMode:Jr=!1}=t,{muteAudio:Yr=!0}=t,{willSetMediaInitialTimeOffset:ei=((e,t)=>e*kR(t[0]))}=t,{enablePan:ti=!0}=t,{enableZoom:ni=!0}=t,{enableZoomControls:ri=!0}=t,{enableZoomInput:ii}=t,{enablePanInput:oi}=t,{enableCanvasAlpha:ai=!1}=t,{enablePanLimit:si}=t,{panLimitGutterScalar:li}=t,{pan:ci=null}=t,{zoomPresetOptions:ui=[.25,.5,1,1.25,1.5,2,3,4,6,8,16]}=t,{zoomAdjustStep:di=.25}=t,{zoomAdjustFactor:hi=.1}=t,{zoomAdjustWheelFactor:pi=1}=t,{zoomLevel:fi=null}=t,{fixScrollDirection:gi=!1}=t;const mi=PS(gi);let yi,bi;j$("fixScrollDirection",mi);let{imagePreviewSrc:vi}=t,{imageOrienter:wi={read:()=>1,apply:e=>e}}=t,{pluginComponents:xi}=t,{pluginOptions:$i={}}=t;const Si=ir.sub,ki={};let{root:Ai}=t;const Ci=()=>{Ke.setAttribute("data-redraw","true"),qi.set({})},Ei=PS(!0);Kx(e,Ei,(e=>n(477,gt=e)));const Ti=PS(void 0);Kx(e,Ti,(e=>n(422,Ln=e)));const Pi=PS(0);Kx(e,Pi,(e=>n(419,Rn=e)));const Ri=PS(!1),Mi=e=>{Ri.set("play"===e.type),ir.pub(e.type)};let Ii,Li,Bi,Oi,Fi=!1;const Ni=()=>{if(!o||!zi())return;Oi=d,r$(Ti,Ln=void 0,Ln);const e=Ke;Fi=!1;const t=1/24,n=Vi();(Math.abs(c*n-Rn*n)<=t||n-n*Rn<=t)&&r$(Pi,Rn=l,Rn),Qi(Rn*Vi()),e.play().catch((()=>{}));let r=Gi();const i=()=>{if(zi())return;Bi=requestAnimationFrame(i);let e=Gi();e-r<=0&&(e=r+.01),r=e,r$(Pi,Rn=e/Vi(),Rn),Oi>=0&&Rn>=c&&(r$(Pi,Rn=c,Rn),Di()),d>-1&&(Fi=!0),Fi&&-1===d&&h>0&&(r$(Pi,Rn=s[h][0],Rn),Qi(Rn*Vi())),r$(so,Cn=Rn*Vi(),Cn),Ci()};i()},Di=()=>{o&&!zi()&&(r$(Ti,Ln=void 0,Ln),Oi=void 0,Ke.pause(),cancelAnimationFrame(Bi),Ci())},zi=()=>Ke&&Ke.paused,_i=()=>{if(o)return zi()?Ni():Di()},Ui=()=>{o&&(Ke.muted=!0)},ji=()=>{o&&(Ke.muted=!1)},Hi=()=>{o&&r$(Wi,In=!In,In)},Wi=PS(Yr);Kx(e,Wi,(e=>n(421,In=e)));const Vi=()=>{if(o)return Ke.duration},Gi=()=>{if(o)return Ke.currentTime},Qi=e=>{o&&(lR(Ke,e),r$(Pi,Rn=e/Mn,Rn))},qi=PS({});Kx(e,qi,(e=>n(52,bt=e))),j$("redrawTrigger",qi);const Ki=PS(Sr);Kx(e,Ki,(e=>n(494,Tn=e))),j$("elasticityMultiplier",Ki);let Zi=[];const Xi=jA();Kx(e,Xi,(e=>n(102,tr=e)));const Ji=kA()||1024,Yi=zy(Ji,Ji),eo=hk(),to=e=>Promise.resolve(En&&En(e,{resourceType:"image"})).then((t=>{if(!1===t)return;const{headers:n,credentials:r}=t||{};return fetch(e,{headers:n,credentials:r}).then((e=>{if(200!==e.status)throw"".concat(e.status," (").concat(e.statusText,")");return e.blob()})).then((e=>fR(e,wi,eo))).then((e=>gR(e,g)))}));let{imageSourceToImageData:no=(e=>Em(e)?to(e):zb(e)?new Promise((t=>t(pm(e)))):av(e)||_b(e)?fR(e,wi,eo).then((e=>gR(e,g))):void 0)}=t;const ro=(()=>{let e,t;const n=uR.reduce(((e,n)=>(e[n]=function(e,t,n){let r=[];return{set:t,update:n,publish:e=>{r.forEach((t=>t(e)))},subscribe:t=>(r.push(t),e(t),()=>{r=r.filter((e=>e!==t))})}}((e=>{if(!t)return e();t.stores[n].subscribe(e)()}),(e=>{t&&t.stores[n].set(e)}),(e=>{t&&t.stores[n].update(e)})),e)),{});return{update:r=>{if(t=r,e&&(e.forEach((e=>e())),e=void 0),!r)return n.file.publish(void 0),void n.loadState.publish(void 0);e=uR.map((e=>r.stores[e].subscribe((t=>{n[e].publish(t)}))))},stores:n,destroy:()=>{e&&e.forEach((e=>e()))}}})(),{file:io,size:oo,duration:ao,currentTime:so,trim:lo,volume:co,minDuration:uo,maxDuration:ho,loadState:po,processState:fo,cropAspectRatio:go,cropLimitToImage:mo,crop:yo,cropMinSize:bo,cropMaxSize:vo,cropRange:wo,cropOrigin:xo,cropRectAspectRatio:$o,rotation:So,rotationRange:ko,targetSize:Ao,flipX:Co,flipY:Eo,backgroundColor:To,backgroundImage:Po,colorMatrix:Ro,convolutionMatrix:Mo,gamma:Io,vignette:Lo,noise:Bo,decoration:Oo,annotation:Fo,manipulation:No,redaction:Do,frame:zo,selection:_o,state:Uo}=ro.stores;Kx(e,io,(e=>n(396,Dt=e))),Kx(e,oo,(e=>n(369,Je=e))),Kx(e,ao,(e=>n(420,Mn=e))),Kx(e,so,(e=>n(493,Cn=e))),Kx(e,lo,(e=>n(417,An=e))),Kx(e,co,(e=>n(418,Pn=e))),Kx(e,ho,(e=>n(423,Bn=e))),Kx(e,po,(e=>n(388,Tt=e))),Kx(e,fo,(e=>n(387,Et=e))),Kx(e,go,(e=>n(490,bn=e))),Kx(e,mo,(e=>n(85,Dn=e))),Kx(e,yo,(e=>n(407,nn=e))),Kx(e,So,(e=>n(372,tt=e))),Kx(e,Co,(e=>n(371,et=e))),Kx(e,Eo,(e=>n(370,Ye=e))),Kx(e,To,(e=>n(378,ht=e))),Kx(e,Oo,(e=>n(48,Xe=e))),Kx(e,Fo,(e=>n(49,nt=e))),Kx(e,No,(e=>n(375,ct=e))),Kx(e,Do,(e=>n(376,ut=e))),Kx(e,zo,(e=>n(47,Ze=e))),Kx(e,_o,(e=>n(59,$n=e))),Kx(e,Uo,(e=>n(479,Ut=e))),j$("components",{DynamicComponentTree:tR}),j$("previewcontrols",{play:Ni,pause:Di,togglePlayPause:_i,mute:Ui,unmute:ji,toggleMute:Hi,setCurrentTime:Qi,getCurrentTime:Gi,getDuration:Vi,frameOffset:Pi,framePeekOffset:Ti,isPlaying:Ri,isMuted:Wi});const jo=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise(((r,i)=>{if(vk(e))return void mk(e).then((e=>{const t=Tv(Cn)?Cn:ei(e.duration,An||[[0,1]]);yk(e,t).then(r)}));let o,a=!1;t.cancel=()=>a=!0;const s=Date.now();no(e).then((e=>{const t=Date.now()-s;clearTimeout(o),o=setTimeout((()=>{a||r(e)}),Math.max(0,n-t))})).catch(i)}))},{images:Ho,shapePreprocessor:Wo,imageScrambler:Vo,imageRedactionRendering:Go,willRequest:Qo,willRequestResource:qo,csp:Ko}=lr;let Zo;Kx(e,Ho,(e=>n(416,kn=e))),Kx(e,Wo,(e=>n(415,Sn=e))),Kx(e,Vo,(e=>n(379,pt=e))),Kx(e,Go,(e=>n(377,dt=e))),Kx(e,Qo,(e=>n(81,En=e))),Kx(e,qo,(e=>n(93,Gn=e))),Kx(e,Ko,(e=>n(92,Vn=e)));const Xo=RS(Po,((e,t)=>{if(!e)return t(void 0);Zo&&(Zo.cancel(),Zo=void 0),Zo={cancel:om},jo(e,Zo).then(t).catch((e=>{}))})),Jo=Uo.subscribe((e=>ir.pub("update",e))),Yo=PS();j$("ui",PS({})),j$("selection",_o);const ea=PS(!0);Kx(e,ea,(e=>n(95,qn=e)));const ta=PS(!0);Kx(e,ta,(e=>n(97,Zn=e)));const na=PS(!0);Kx(e,na,(e=>n(414,xn=e)));const ra=PS(!0);Kx(e,ra,(e=>n(491,vn=e)));const ia=PS(!0);Kx(e,ia,(e=>n(98,Xn=e)));const oa=PS();Kx(e,oa,(e=>n(99,Jn=e)));const aa=PS();Kx(e,aa,(e=>n(492,wn=e)));const sa=RS([aa,ra],(()=>void 0!==wn?wn:vn));Kx(e,sa,(e=>n(96,Kn=e)));const la=PS([0,0,0]);Kx(e,la,(e=>n(56,Gt=e)));const ca=PS([1,1,1]);Kx(e,ca,(e=>n(475,lt=e)));const ua=jA([1,1,1]);Kx(e,ua,(e=>n(474,st=e)));const da=PS();Kx(e,da,(e=>n(91,Wn=e)));const ha=PS(),pa=PS();Kx(e,pa,(e=>n(51,mt=e)));const fa=PS();Kx(e,fa,(e=>n(373,it=e)));const ga=PS(Jy());Kx(e,ga,(e=>n(80,jt=e)));const ma=PS(0);Kx(e,ma,(e=>n(413,yn=e)));const ya=PS(Jy());Kx(e,ya,(e=>n(84,Nn=e)));const ba=PS();Kx(e,ba,(e=>n(472,qe=e)));const va=pR("(pointer: fine)",(e=>e?"pointer-fine":"pointer-coarse"));Kx(e,va,(e=>n(394,Ft=e)));const wa=pR("(hover: hover)",(e=>e?"pointer-hover":"pointer-no-hover"));Kx(e,wa,(e=>n(393,Ot=e)));const xa=PS(!1),$a=PS(!1);Kx(e,$a,(e=>n(374,at=e)));const Sa=TS(void 0,(e=>{const t=jA(0),n=[$a.subscribe((e=>{t.set(e?1:0,{hard:!wt})})),t.subscribe(e)];return()=>n.forEach((e=>e()))}));Kx(e,Sa,(e=>n(473,ot=e)));const ka=PS();Kx(e,ka,(e=>n(478,It=e)));const Aa=PS();let Ca;Kx(e,Aa,(e=>n(53,wt=e))),j$("isAnimated",Aa);const Ea=PS(mr);Kx(e,Ea,(e=>n(397,zt=e)));const Ta=PS(!1);Kx(e,Ta,(e=>n(484,an=e))),j$("imageIsStatic",Ta);const Pa=PS();Kx(e,Pa,(e=>n(485,sn=e)));const Ra=PS();Kx(e,Ra,(e=>n(482,rn=e)));const Ma=TS(void 0,(e=>{const t=PS(void 0),n=[yo.subscribe((()=>{if(!nn)return;if(an)return t.set(Xy(nn));const e=rE(nn,rn,5*Sr);t.set(e)})),t.subscribe(e)];return()=>n.forEach((e=>e()))})),Ia=PS();Kx(e,Ia,(e=>n(481,tn=e)));const La=PS();Kx(e,La,(e=>n(483,on=e)));const Ba=PS(void 0);Kx(e,Ba,(e=>n(488,pn=e)));const Oa=PS(dy());Kx(e,Oa,(e=>n(489,fn=e)));const Fa=(e,t)=>{if(!t||!e)return{top:0,right:0,bottom:0,left:0};const n=px(t,e,m),r=hx(n,e);return{top:Math.abs(r.top),right:Math.abs(r.right),bottom:Math.abs(r.bottom),left:Math.abs(r.left)}},Na=PS({}),Da=RS([ba,ga,ya,Na],((e,t)=>{let[n,r,i,o]=e;if(!n)return t(void 0);let a=0;1!==I.length||p||"bottom"===Hr||(a=i.y+i.height),t(ob(n.x+r.x,n.y+r.y+a,n.width,n.height))}));let za={left:0,right:0,top:0,bottom:0};const _a=PS(!1),Ua=RS([_a,zo,Da,$a],((e,t)=>{let[n,r,i,o]=e;if(!i)return t({left:0,right:0,top:0,bottom:0});if(!n)return;const a=Math.min(i.width,i.height),s=Fa({width:a,height:a},r);ly(za.top,4)===ly(s.top,4)&&ly(za.bottom,4)===ly(s.bottom,4)&&ly(za.right,4)===ly(s.right,4)&&ly(za.left,4)===ly(s.left,4)||(za=s,t(s))}));Kx(e,Ua,(e=>n(405,Jt=e)));const ja=RS([_a,Ua],((e,t)=>{let[n,r]=e;if(!n)return t(!1);t(Object.values(r).some((e=>e>0)))}));Kx(e,ja,(e=>n(406,Yt=e)));const Ha=RS([_a,ba,ja,Ua],((e,t)=>{let[n,r,i,o]=e;if(r)return n&&i?void t(ob(r.x+o.left,r.y+o.top,r.width-o.left-o.right,r.height-o.top-o.bottom)):t({...r})})),Wa=RS([Da,ja,Ua],((e,t)=>{let[n,r,i]=e;return n?r?void t(ob(n.x+i.left,n.y+i.top,n.width-i.left-i.right,n.height-i.top-i.bottom)):t(n):t(void 0)}));Kx(e,Wa,(e=>n(50,rt=e)));const Va=RS([Ta,oo,So],((e,t)=>{let[n,r,i]=e;if(!n||!r)return t(void 0);const o=Yy(r);t(mb(o,i))})),Ga=RS([Va],((e,t)=>{let[n]=e;if(!n)return t(void 0);const r=nb(n);t(Ab(r))}));Kx(e,Ga,(e=>n(409,un=e)));const Qa=RS([Wa,yo,Ga,Ea],((e,t)=>{let[n,r,i,o]=e;if(!n||!r||sn||rn)return;const{width:a,height:s}=i||r,l=Math.min(n.width/a,n.height/s);t(o?l:Math.min(1,l))}));Kx(e,Qa,(e=>n(408,cn=e))),j$("imageStaticVisualCorners",RS([Ta,oo,So,Wa,ba,Qa],((e,t)=>{let[n,r,i,o,a,s]=e;if(!(n&&o&&a&&r))return t(void 0);const l=Yy(r),c=Ab(lb(l,s)),u=yb(o,c);c.x=u.x,c.y=u.y,t(mb(c,i))})));const qa=PS(void 0);Kx(e,qa,(e=>n(411,gn=e)));const Ka=RS([yo,Wa],(e=>{let[t,n]=e;if(n&&t)return Math.min(n.width/t.width,n.height/t.height)})),Za=RS([yo,Ia],(e=>{let[t,n]=e;return t&&n?Math.min(t.width/n.width,t.height/n.height):1}));Kx(e,Za,(e=>n(101,er=e)));const Xa=RS([qa,Za],(e=>{let[t,n]=e;return t&&n?n*t:1}));Kx(e,Xa,(e=>n(487,dn=e)));const Ja=PS(dy());Kx(e,Ja,(e=>n(410,hn=e)));const Ya=PS({scalar:dn,translation:hn}),es=()=>{Ya.set({scalar:void 0,translation:dy()})},ts=TS(void 0,(e=>{const t=jA(void 0,{precision:1e-4}),n=1===EE()?e=>Sb(e,Math.round):Qm,r=()=>{if(!tn)return;const e=at||!It;if(an){const n=Xy(tn);return sb(n,fn),sb(n,rt),t.set(n,{hard:e})}const r=rE(tn,pn,nM*Sr);r.width<0&&(r.width=0,r.x=tn.x),r.height<0&&(r.height=0,r.y=tn.y),sb(r,rt),sb(r,hn),lb(r,dn),!e&&n(r),t.set(r,{hard:e})},i=[Wa.subscribe(r),Ia.subscribe(r),Xa.subscribe(r),Ja.subscribe(r),zo.subscribe(r),t.subscribe(e)];return()=>i.forEach((e=>e()))}));Kx(e,ts,(e=>n(58,Xt=e)));const ns=PS(1);Kx(e,ns,(e=>n(480,en=e)));const rs=()=>{if(!nn||!rt)return;let e=db(Xy(nn),cn||1);const t=yb(rt,db(Xy(un),cn));sb(e,t);const n=qe.width/e.width,r=qe.height/e.height,i=Math.min(1,n,r);ns.set(i),lb(e,i),((e,t)=>{const[n,r,i,o]=xb(e);n<t.y&&(e.y=Math.max(t.y,e.y)),r>t.width&&(e.x=t.width-e.width),i>t.height&&(e.y=t.height-e.height),o<t.x&&(e.x=Math.max(t.x,e.x))})(e,{...qe,x:0,y:0}),Ia.set(e)},is=RS([Wa,Qa,yo,oo],((e,t)=>{let[n,r,i,o]=e;n&&(i||o)&&t(os(n,r||1,i||o))}));Kx(e,is,(e=>n(100,Yn=e)));const os=(e,t,n)=>n.width<=e.width&&n.height<=e.height?yb(e,db(Xy(n),t)):wb(e,pb(n));let as,ss;const ls=e=>{if(p&&as&&hb(as,e)&&ss===cn)return;if(an)return rs();as=e,ss=cn;const t=os(e,cn,nn||Je);Ia.set(t)};let cs=!1;const us=Qa.subscribe((e=>{!cs&&void 0!==e&&nn&&(ls(rt),cs=!0)})),ds=Wa.subscribe((e=>{e&&void 0!==cn&&nn&&ls(e)})),hs=Ta.subscribe((e=>{!e&&rt&&ls(rt)}));let ps;const fs=La.subscribe((e=>{if(!e)return ps=void 0,void r$(Pa,sn=void 0,sn);ps=ln;const t=Xy(nn);Pa.set(t)})),gs=Ia.subscribe((e=>{if(!e||!on)return;const t=(n=Xy(e),r=on,n.x-=r.x,n.y-=r.y,n.width-=r.width,n.height-=r.height,n);var n,r;((e,t)=>{e.x/=t,e.y/=t,e.width/=t,e.height/=t})(t,ps);const i=((e,t)=>(e.x+=t.x,e.y+=t.y,e.width+=t.width,e.height+=t.height,e))(Xy(sn),t);yo.set(i)})),ms=yo.subscribe((e=>{if(!e||!tn)return;if(an)return void(on||rs());if(at||on||rn)return;const t=pb(tn),n=pb(e);if(ly(t,6)===ly(n,6))return;const{width:r,height:i}=nn,o=Math.min(rt.width/r,rt.height/i),a=zy(e.width*o,e.height*o),s=.5*(tn.width-a.width),l=.5*(tn.height-a.height),c=ob(Math.max(0,Math.min(rt.width-a.width,tn.x+s)),Math.max(0,Math.min(rt.height-a.height,tn.y+l)),a.width,a.height);Ia.set(c)})),ys=RS([Qa,yo,Ia,Ta],((e,t)=>{let[n,r,i,o]=e;if(!n||!r||!i)return;if(o)return t(en);const a=i.width/r.width,s=i.height/r.height;t(Math.max(a,s)/n)})),bs=RS([Qa,ys],((e,t)=>{let[n,r]=e;r&&t(n*r)}));Kx(e,bs,(e=>n(486,ln=e)));let vs={left:0,right:0,top:0,bottom:0};const ws=RS([zo,Ia],((e,t)=>{let[n,r]=e;if(!r)return t(vs);const i=Fa(r,n);ly(vs.top,4)===ly(i.top,4)&&ly(vs.bottom,4)===ly(i.bottom,4)&&ly(vs.right,4)===ly(i.right,4)&&ly(vs.left,4)===ly(i.left,4)||(vs=i,t(i))})),xs=RS([ws],((e,t)=>{let[n]=e;t(Object.values(n).some((e=>e>0)))})),$s=jA(.075,{stiffness:.03,damping:.4,precision:.001}),Ss=RS([ua,la,$s,ts,Xa,zo,xs,ws,ja],((e,t)=>{let[n,r,i,o,a,s,l,c,u]=e;if(!o||p)return t([]);let{x:d,y:h,width:f,height:g}=o;d+=.5,h+=.5,f-=.5,g-=.5;const m=[];if(s){if(l){let{left:e,right:t,top:n,bottom:i}=c;e*=a,t*=a,n*=a,i*=a;const o=xR(r)?[1,1,1,.125]:[0,0,0,.075];m.push({x:d-e-.5,y:h-n-.5,width:f+e+t+1,height:g+n+i+1,strokeWidth:1,strokeColor:o,opacity:u?1:.5})}const e=xR(n);s&&s.frameColor&&xR(s.frameColor)||e||(m.push({x:d-1,y:h-1,width:f+2,height:g+2,strokeWidth:2,strokeColor:[0,0,0,.1],opacity:i}),m.push({x:d+1,y:h+1,width:f-2,height:g-2,strokeWidth:2,strokeColor:[0,0,0,.1],opacity:i}))}t([...m,{x:d,y:h,width:f,height:g,strokeWidth:1,strokeColor:n,opacity:i}])})),ks=PS([]);Kx(e,ks,(e=>n(399,Ht=e)));const As=RS([Ss,ks],((e,t)=>{let[n,r]=e;t([...n,...r])}));Kx(e,As,(e=>n(94,Qn=e)));const Cs=jA(0,{precision:.001});Kx(e,Cs,(e=>n(401,Vt=e)));const Es=jA();Kx(e,Es,(e=>n(404,Kt=e)));const Ts=jA();Kx(e,Ts,(e=>n(403,qt=e)));const Ps=jA();Kx(e,Ps,(e=>n(402,Qt=e)));const Rs=jA();Kx(e,Rs,(e=>n(400,Wt=e)));const Ms=PS(!1);Kx(e,Ms,(e=>n(386,Ct=e)));const Is=PS();let Ls;Kx(e,Is,(e=>n(389,Pt=e)));const Bs=RS([Ms,Is],((e,t)=>{let[r,i]=e;if(!r||!i)return void t(void 0);if(Ls&&(Ls.cancel(),n(292,Ls=void 0)),yx(i))return t(xm(i));const o=nl.length?0:wt?250:0;n(292,Ls={cancel:om}),jo(i,Ls,o).then(t).catch((e=>{r$(po,Tt.error=e,Tt)})).finally((()=>{n(292,Ls=void 0)}))}));nr(),nr=Qx(Bs,(e=>n(368,Ke=e)));let{imagePreviewCurrent:Os}=t;const Fs=PS({});Kx(e,Fs,(e=>n(391,Lt=e)));const Ns=PS([]);Kx(e,Ns,(e=>n(86,zn=e)));const Ds=RS([Wa,fa,oo,Ma,Ia,bs,So,Co,Eo,Xa,Ja,xa],((e,t)=>{let[n,r,i,o,a,s,l,c,u,d,h,p]=e;if(!n||!a)return;const f=Jk(n,r,i,o,a,d,h,s,l,c,u);!p&&T(f),t(f)}));Kx(e,Ds,(e=>n(392,Bt=e)));const zs=RS([Ro,Mo,Io,Lo,Bo],((e,t)=>{let[n,r,i,o,a]=e;const s=n&&Object.keys(n).map((e=>n[e])).filter(Boolean);t({gamma:i||void 0,vignette:o||void 0,noise:a||void 0,convolutionMatrix:r||void 0,colorMatrix:s&&s.length&&Nx(s)})}));let _s,Us;const js=(()=>{if(!hv())return!1;const e=navigator.userAgent.match(/OS (\d+)_(\d+)_?(\d+)?/i)||[],[,t,n]=e.map((e=>parseInt(e,10)||0));return t>13||13===t&&n>=4})(),Hs=PS({});Kx(e,Hs,(e=>n(380,yt=e))),j$("env",Hs);const Ws=EE(),Vs=TS(Ws,(e=>{const t=()=>e(EE()),n=matchMedia("(resolution: ".concat(Ws,"dppx)"));return n.addListener(t),()=>n.removeListener(t)}));Kx(e,Vs,(e=>n(57,Zt=e)));const Gs=((e,t,n)=>{const{sub:r,pub:i}=Wv(),{willUndo:o=(()=>!0)}=n||{},a=[],s=PS(0),l=[],c=()=>l.forEach((e=>e({index:qx(s),length:a.length}))),u={get index(){return qx(s)},set index(e){e=Number.isInteger(e)?e:0,e=qS(e,0,a.length-1),s.set(e),t(a[u.index]),c()},get state(){return a[a.length-1]},length:()=>a.length,undo(){if(!1===o())return;const e=u.index--;return i("undo",e),e},redo(){const e=u.index++;return i("redo",u.index),e},revert(){a.length=1,u.index=0,i("revert")},write(n){n&&t({...e(),...n});const r=e(),o=a[a.length-1];JSON.stringify(r)!==JSON.stringify(o)&&(a.length=u.index+1,a.push(r),s.set(a.length-1),c(),i("writehistory"))},set(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.length=0,u.index=0;const t=Array.isArray(e)?e:[e];a.push(...t),u.index=a.length-1},get:()=>[...a],subscribe:e=>(l.push(e),e({index:u.index,length:a.length}),()=>l.splice(l.indexOf(e),1)),on:r};return u})((()=>Ut),(e=>{r$(Uo,Ut=e,Ut),ga.set(jt)}),{willUndo:()=>!Js()||(Xs(),!1)});rr(),rr=Qx(Gs,(e=>n(398,_t=e)));const Qs=()=>{const e={x:0,y:0,...Je},t=Sb(wb(e,Ut.cropAspectRatio),Math.round),n=Pr({...Ut,rotation:0,crop:t},Ut),r=[n];JSON.stringify(n)!==JSON.stringify(Ut)&&r.push({...Ut}),Gs.set(r)},qs=po.subscribe((e=>{e&&e.complete&&Qs()})),Ks=()=>kr().then((e=>e&&Gs.revert())),Zs=[Fo,Oo,Do,No],Xs=()=>{Zs.forEach((e=>{e.update((e=>e.length&&Ew(e[e.length-1])?e.slice(0,-1):e))}))},Js=()=>M.filter((e=>e.length)).some((e=>Ew(e[e.length-1]))),Ys=PS(!1);Kx(e,Ys,(e=>n(381,vt=e)));const el=()=>{r$(Ys,vt=!0,vt),Ar().then((e=>{if(!e)return void r$(Ys,vt=!1,vt);let t;t=Pl.subscribe((e=>{1===e&&(t&&t(),or("processImage"))}))}))},tl=fo.subscribe((e=>{if(!e)return void r$(Ys,vt=!1,vt);r$(Ys,vt=!0,vt);const{complete:t,abort:n}=e;(t||n)&&r$(Ys,vt=!1,vt)})),nl=(()=>{const e=[],t=[],n=[],r=()=>{t.forEach((e=>e(n)))},i=t=>{t.unsub=t.subscribe((i=>((t,i)=>{const o=e.indexOf(t);o<0||(n[o]=i,r())})(t,i))),r()};return{get length(){return e.length},clear:()=>{e.forEach((e=>e.unsub())),e.length=0,n.length=0},unshift:t=>{e.unshift(t),i(t)},get:t=>e[t],push:t=>{e.push(t),i(t)},remove:t=>{t.unsub();const r=e.indexOf(t);e.splice(r,1),n.splice(r,1)},forEach:t=>e.forEach(t),filter:t=>e.filter(t),subscribe:e=>(t.push(e),e(n),()=>{t.splice(t.indexOf(e),1)})}})();Kx(e,nl,(e=>n(55,Rt=e)));const rl=RS([nl],((e,t)=>{let[n]=e;if(!n.length)return t();const{origin:r,translation:i,rotation:o,scale:a}=n[0];t({origin:r,translation:i,rotation:o,scale:a})})),il=PS();Kx(e,il,(e=>n(395,Nt=e)));let ol,al=[];const sl=PS(),ll=PS(),cl=RS([qa,ll,Qa,Ka],(e=>{let[t,n,r,i]=e;return t||(n||r<1?i:1)})),ul={...lr,imageFile:io,imageSize:oo,mediaDuration:ao,mediaMinDuration:uo,mediaMaxDuration:ho,mediaTrim:lo,imageBackgroundColor:To,imageBackgroundImage:Po,imageCropAspectRatio:go,imageCropMinSize:bo,imageCropMaxSize:vo,imageCropLimitToImage:mo,imageCropRect:yo,imageCropRectOrigin:xo,imageCropRectSnapshot:Pa,imageCropRectAspectRatio:$o,imageCropRange:wo,imageRotation:So,imageRotationRange:ko,imageFlipX:Co,imageFlipY:Eo,imageOutputSize:Ao,imageColorMatrix:Ro,imageConvolutionMatrix:Mo,imageGamma:Io,imageVignette:Lo,imageNoise:Bo,imageManipulation:No,imageDecoration:Oo,imageAnnotation:Fo,imageRedaction:Do,imageFrame:zo,imagePreview:Bs,imagePreviewSource:Is,imageTransforms:Ds,imagePreviewModifiers:Fs,history:Gs,animation:ka,pixelRatio:Vs,elasticityMultiplier:Sr,scrollElasticity:rM,rangeInputElasticity:5,redrawTrigger:qi,pointerAccuracy:va,pointerHoverable:wa,env:Hs,rootRect:fa,stageRect:Wa,stageRectBase:Da,stageRecenter:Na,stageScalar:Qa,stagePadding:Ua,stagePadded:ja,presentationScalar:bs,imagePreviewUpscale:ll,utilRect:ba,utilRectPadded:Ha,allowPlayPause:Ei,allowPan:ea,allowZoom:ta,allowZoomControls:na,enableZoomInput:ia,enablePanInput:ra,enablePanInputStatus:sa,imageSelectionMultiTouching:sl,rootBackgroundColor:la,rootForegroundColor:ca,rootLineColor:ua,rootColorSecondary:ha,imageOutlineOpacity:$s,utilTools:il,imageSelectionPan:Ja,imageSelectionZoom:qa,imageSelectionZoomCurrent:cl,imageSelectionStageFitScalar:Ka,imageSelectionStoredState:Ya,imageOverlayMarkup:ks,interfaceImages:Ns,isInteracting:$a,isTransformingImage:xa,isInteractingFraction:Sa,imageCropRectIntent:Ra,imageCropRectPresentation:Ma,imageSelectionRect:Ia,imageSelectionRectIntent:Ba,imageSelectionRectPresentation:ts,imageSelectionRectSnapshot:La,imageScalar:ys,imageTransformsInterpolated:rl,imageEffects:zs};delete ul.image;const dl="util-"+Mm();let hl=[];const pl=e=>L.find((t=>{let[n]=t;return e===n}));let fl=[];const gl=e=>{n(62,fl=fl.concat(e))},ml=e=>{n(62,fl=fl.filter((t=>t!==e)))},yl=(e,t)=>{n(298,N[e]=t,N)};let bl=hv();const vl=(e,t,n)=>{let r=ce.getPropertyValue(e);r=n?n(r):/^[0-9]+$/.test(r)?parseFloat(r):void 0,t.set(r,{hard:!wt})},wl=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=(e=>{const t=ce.getPropertyValue(e);return SP(t)})(e);r&&0!==r[3]&&(n||(r.length=3),t.set(r,{hard:!wt}))},xl=PS();Kx(e,xl,(e=>n(87,_n=e)));const $l=PS();Kx(e,$l,(e=>n(88,Un=e)));const Sl=PS();Kx(e,Sl,(e=>n(89,jn=e)));const kl=jA(0,{damping:.9});Kx(e,kl,(e=>n(90,Hn=e)));const Al=()=>{wl("color",ca),wl(ai?"--color-background":"background-color",la),wl("outline-color",ua),wl("--color-primary",da),wl("--color-secondary",ha),wl("--grid-color-even",$l,!0),wl("--grid-color-odd",Sl,!0),vl("--grid-size",xl),vl("--editor-inset-top",ma,(e=>parseInt(e,10)))},Cl=RS([Ds,zs,To,Xo],(e=>{let[t,n,r,i]=e;return t&&{...t,...n,backgroundColor:r,backgroundImage:i}}));Kx(e,Cl,(e=>n(390,Mt=e)));const El=e=>{nl.forEach(((t,n)=>{const r=0===n?1:0;t.set({...e,opacity:r,resize:1},It)}))};let Tl;const Pl=_A(void 0,{duration:500});let Rl;Kx(e,Pl,(e=>n(54,kt=e)));const Ml=PS(!1);let Il;Kx(e,Ml,(e=>n(385,At=e)));const Ll=jA(void 0,{stiffness:.1,damping:.7,precision:.25});Kx(e,Ll,(e=>n(82,On=e)));const Bl=jA(0,{stiffness:.1,precision:.05});Kx(e,Bl,(e=>n(83,Fn=e)));const Ol=jA(0,{stiffness:.02,damping:.5,precision:.25});Kx(e,Ol,(e=>n(383,$t=e)));const Fl=jA(void 0,{stiffness:.02,damping:.5,precision:.25});Kx(e,Fl,(e=>n(384,St=e)));const Nl=jA(void 0,{stiffness:.02,damping:.5,precision:.25});let Dl;Kx(e,Nl,(e=>n(382,xt=e)));const zl=()=>{or("abortLoadImage")},_l=()=>{or("abortProcessImage"),r$(Ys,vt=!1,vt)},Ul=e=>{e.target&&"true"===e.target.dataset.touchScroll||e.preventDefault()},jl=js?e=>{const t=e.touches?e.touches[0]:e;t.pageX>20&&t.pageX<window.innerWidth-20||Ul(e)}:om,Hl=PS([]);Kx(e,Hl,(e=>n(476,ft=e))),j$("keysPressed",Hl);const Wl=e=>{!e||Nv(e)&&!(e=>/^image/.test(e.type)&&!/svg/.test(e.type))(e)||!Nv(e)&&!/^http/.test(e)||or("loadImage",e)},Vl=e=>{e&&Wl(e)};let Gl,Ql,ql=[];const Kl=PS();j$("rootPortal",Kl),j$("rootRect",fa);const Zl=()=>({foregroundColor:[...lt],lineColor:[...st],utilVisibility:{...N},isInteracting:at,isInteractingFraction:ot,rootRect:Xy(it),stageRect:Xy(rt),manipulationShapesDirty:pc,annotationShapesDirty:cc,decorationShapesDirty:dc,frameShapesDirty:hc}),Xl=(e,t,n)=>sx(e,zy(Math.round(t.width/n),Math.round(t.height/n))),Jl=(e,t,n)=>{var r;return e._translate=hy((r=t).x,r.y),e._scale=n,e},Yl=e=>{const t=[];return e.forEach((e=>t.push(ec(e)))),t.filter(Boolean)},ec=e=>xw(e)?(e.points=[hy(e.x1,e.y1),hy(e.x2,e.y2)],e):(!(e=>mw(e)&&!e.text.length)(e)||e.backgroundColor&&0!==e.backgroundColor[3]||(yw(e)&&(e.width=5,e.height=e.lineHeight),e.strokeWidth=1,e.strokeColor=[1,1,1,.5],e.backgroundColor=[0,0,0,.1]),e);let tc,nc=[],rc=[],ic=[],oc=[],ac=[],sc={};const lc=(e,t,n,r,i,o,a)=>{const{manipulationShapesDirty:s,annotationShapesDirty:l,decorationShapesDirty:c,frameShapesDirty:u,selectionRect:d,scale:h}=e,p=tc!==h,f=p||!hb(sc,d);f&&(tc=h,sc=d),s&&(ic=t.filter(kw).map(cw).map((e=>sx(e,Je)))),(l||n!==nt)&&(nc=n.filter(kw).map(cw).sort(((e,t)=>e.alwaysOnTop?1:t.alwaysOnTop?-1:0)).map((e=>sx(e,Je)))),(p||uc||l||n!==nt)&&(rc=Yl(nc.map((e=>m(e,{flipX:et,flipY:Ye,rotation:tt,scale:h,context:Yy(Je)}))).flat())),(c||r!==Xe||f)&&(oc=Yl(r.filter(kw).map(cw).sort(((e,t)=>e.alwaysOnTop?1:t.alwaysOnTop?-1:0)).map((e=>Xl(e,d,h))).map((e=>m(e,{context:d}))).flat().map((e=>Jl(e,d,h))))),(u||o!==Ze||f)&&(ac=o?Yl([o].map(cw).map((e=>Xl(e,d,h))).map(m).flat().map((e=>Jl(e,d,h)))):[]);let g=Yl(i.filter(kw));return"undefined"!=typeof window&&(e=>{if(e&&e._7mkhbd8)return;const[t]=[[85,110,108,105,99,101,110,115,101,100,32,80,105,110,116,117,114,97,32,105,110,115,116,97,110,99,101]].map((e=>e.map((e=>String.fromCharCode(e))).join("")));g=[...g,{x:d.x+.5*d.width-82,y:d.y+d.height-16-12,width:164,height:16,text:t,fontWeight:900,fontSize:12,color:[1,1,1,.25]}]})(window),{manipulationShapesDirty:s,manipulationShapes:ic,annotationShapesDirty:l,annotationShapes:rc,decorationShapesDirty:c,decorationShapes:oc,frameShapesDirty:u,frameShapes:ac,interfaceShapes:g,selectionShapes:a.map(cw).map((e=>sx(e,Je)))}};let cc=!0,uc=!0,dc=!0,hc=!0,pc=!0;return _$((()=>{Di(),Ke&&Em(Ke.src)&&/^blob:/.test(Ke.src)&&URL.revokeObjectURL(Ke.src),Jo(),ds(),us(),hs(),fs(),gs(),ms(),qs(),tl(),va.destroy(),wa.destroy(),ro.destroy(),nl.clear(),nc.length=0,rc.length=0,ic.length=0,oc.length=0,ac.length=0;try{n(235,Os=void 0),n(293,Tl=void 0)}catch(e){}})),e.$$set=e=>{"class"in e&&n(236,ar=e.class),"layout"in e&&n(237,sr=e.layout),"stores"in e&&n(238,lr=e.stores),"locale"in e&&n(3,cr=e.locale),"id"in e&&n(4,ur=e.id),"util"in e&&n(239,dr=e.util),"utils"in e&&n(240,hr=e.utils),"animations"in e&&n(241,pr=e.animations),"disabled"in e&&n(242,fr=e.disabled),"status"in e&&n(234,gr=e.status),"previewUpscale"in e&&n(243,mr=e.previewUpscale),"previewPad"in e&&n(244,yr=e.previewPad),"previewMaskOpacity"in e&&n(5,br=e.previewMaskOpacity),"previewImageDataMaxSize"in e&&n(245,vr=e.previewImageDataMaxSize),"previewImageTextPixelRatio"in e&&n(6,wr=e.previewImageTextPixelRatio),"markupMaskOpacity"in e&&n(7,xr=e.markupMaskOpacity),"zoomMaskOpacity"in e&&n(246,$r=e.zoomMaskOpacity),"elasticityMultiplier"in e&&n(8,Sr=e.elasticityMultiplier),"willRevert"in e&&n(247,kr=e.willRevert),"willProcessImage"in e&&n(248,Ar=e.willProcessImage),"willRenderCanvas"in e&&n(9,Cr=e.willRenderCanvas),"willRenderToolbar"in e&&n(249,Er=e.willRenderToolbar),"willRenderUtilTabs"in e&&n(250,Tr=e.willRenderUtilTabs),"willSetHistoryInitialState"in e&&n(251,Pr=e.willSetHistoryInitialState),"enableButtonExport"in e&&n(252,Rr=e.enableButtonExport),"enableButtonRevert"in e&&n(253,Mr=e.enableButtonRevert),"enableNavigateHistory"in e&&n(254,Ir=e.enableNavigateHistory),"enableToolbar"in e&&n(10,Lr=e.enableToolbar),"enableUtils"in e&&n(255,Br=e.enableUtils),"enableButtonClose"in e&&n(256,Or=e.enableButtonClose),"enableDropImage"in e&&n(257,Fr=e.enableDropImage),"enablePasteImage"in e&&n(258,Nr=e.enablePasteImage),"enableBrowseImage"in e&&n(259,Dr=e.enableBrowseImage),"enableTransparencyGrid"in e&&n(11,zr=e.enableTransparencyGrid),"layoutDirectionPreference"in e&&n(260,_r=e.layoutDirectionPreference),"layoutHorizontalUtilsPreference"in e&&n(261,Ur=e.layoutHorizontalUtilsPreference),"layoutVerticalUtilsPreference"in e&&n(262,jr=e.layoutVerticalUtilsPreference),"layoutVerticalToolbarPreference"in e&&n(263,Hr=e.layoutVerticalToolbarPreference),"layoutVerticalControlGroupsPreference"in e&&n(264,Wr=e.layoutVerticalControlGroupsPreference),"layoutVerticalControlTabsPreference"in e&&n(265,Vr=e.layoutVerticalControlTabsPreference),"textDirection"in e&&n(12,Gr=e.textDirection),"markupEditorZoomLevel"in e&&n(266,Qr=e.markupEditorZoomLevel),"markupEditorZoomLevels"in e&&n(13,qr=e.markupEditorZoomLevels),"markupEditorZoomAdjustStep"in e&&n(14,Kr=e.markupEditorZoomAdjustStep),"markupEditorZoomAdjustFactor"in e&&n(15,Zr=e.markupEditorZoomAdjustFactor),"markupEditorZoomAdjustWheelFactor"in e&&n(16,Xr=e.markupEditorZoomAdjustWheelFactor),"markupEditorInteractionMode"in e&&n(267,Jr=e.markupEditorInteractionMode),"muteAudio"in e&&n(268,Yr=e.muteAudio),"willSetMediaInitialTimeOffset"in e&&n(269,ei=e.willSetMediaInitialTimeOffset),"enablePan"in e&&n(17,ti=e.enablePan),"enableZoom"in e&&n(18,ni=e.enableZoom),"enableZoomControls"in e&&n(270,ri=e.enableZoomControls),"enableZoomInput"in e&&n(19,ii=e.enableZoomInput),"enablePanInput"in e&&n(271,oi=e.enablePanInput),"enableCanvasAlpha"in e&&n(20,ai=e.enableCanvasAlpha),"enablePanLimit"in e&&n(21,si=e.enablePanLimit),"panLimitGutterScalar"in e&&n(22,li=e.panLimitGutterScalar),"pan"in e&&n(272,ci=e.pan),"zoomPresetOptions"in e&&n(23,ui=e.zoomPresetOptions),"zoomAdjustStep"in e&&n(24,di=e.zoomAdjustStep),"zoomAdjustFactor"in e&&n(25,hi=e.zoomAdjustFactor),"zoomAdjustWheelFactor"in e&&n(26,pi=e.zoomAdjustWheelFactor),"zoomLevel"in e&&n(0,fi=e.zoomLevel),"fixScrollDirection"in e&&n(273,gi=e.fixScrollDirection),"imagePreviewSrc"in e&&n(276,vi=e.imagePreviewSrc),"imageOrienter"in e&&n(277,wi=e.imageOrienter),"pluginComponents"in e&&n(278,xi=e.pluginComponents),"pluginOptions"in e&&n(27,$i=e.pluginOptions),"root"in e&&n(2,Ai=e.root),"imageSourceToImageData"in e&&n(28,no=e.imageSourceToImageData),"imagePreviewCurrent"in e&&n(235,Os=e.imagePreviewCurrent)},e.$$.update=()=>{if(33554432&e.$$.dirty[8]&&mi.set(gi),8&e.$$.dirty[0]&&n(350,r=!!cr),1&e.$$.dirty[0]|262144&e.$$.dirty[8]&&n(0,fi=null===fi?Qr:fi),2&e.$$.dirty[0]|1073741824&e.$$.dirty[8]){let e=!1;xi.forEach((t=>{let[r]=t;ki[r]||(n(1,ki[r]={},ki),e=!0)})),e&&n(290,Zi=[...xi])}var t,T,Ge,qe;if(8388608&e.$$.dirty[7]|2048&e.$$.dirty[9]|512&e.$$.dirty[11]&&n(348,I=r&&Zi.length?hr||Zi.map((e=>{let[t]=e;return t})):[]),134217728&e.$$.dirty[0]|2048&e.$$.dirty[9]|128&e.$$.dirty[11]|16777216&e.$$.dirty[12]&&n(349,L=((e,t,n,r)=>{const i=t.filter((t=>{let[n]=t;return e.includes(n)})).filter((e=>{let[t,{isSupported:i}]=e;return i({...r,...n[t]})})).map((e=>{let[t,n]=e;return[t,n.Component]}));return YS(i,hl,((e,t)=>e[0]===t[0]&&e[1]===t[1]))?hl:(hl=i,i)})(I,Zi,$i,{src:Dt})),256&e.$$.dirty[11]&&n(302,B=L.length),8&e.$$.dirty[0]|8388608&e.$$.dirty[9]|128&e.$$.dirty[11]&&n(347,O=B&&I.map((e=>{const t=pl(e);if(t)return{id:e,view:t[1],tabIcon:cr[e+"Icon"],tabLabel:cr[e+"Label"]}})).filter(Boolean)||[]),64&e.$$.dirty[11]&&n(367,i=!!O.find((e=>"trim"===e.id))),201326592&e.$$.dirty[11]|131072&e.$$.dirty[13]&&n(301,o=!!(Mn&&Ke&&i)),4194304&e.$$.dirty[7]|8388608&e.$$.dirty[9]&&n(43,F=B&&dr&&"string"==typeof dr&&pl(dr)?dr:B>0?L[0][0]:void 0),4096&e.$$.dirty[1]|4194304&e.$$.dirty[9]&&o&&F&&Di(),4194304&e.$$.dirty[9]|134217728&e.$$.dirty[11]&&(o?(Ke.addEventListener("play",Mi),Ke.addEventListener("pause",Mi)):Ke&&"video"===Ke.nodeName&&(Ke.removeEventListener("play",Mi),Ke.removeEventListener("pause",Mi))),4194304&e.$$.dirty[9]&&o&&Pi.set(Gi()/Vi()),589824&e.$$.dirty[13]&&(e=>{if(!zi())return;const t=Date.now();if(Li&&t-Li<16)return;Li=t;const n=Mn*e;if(n.toFixed(1)===Ii)return;Ii=n.toFixed(1);const r=Ke,i=()=>{r.removeEventListener("seeked",i),Ci()};r.addEventListener("seeked",i),lR(r,n)})(Ln||Rn),65536&e.$$.dirty[13]&&n(365,a=Rn&&ly(Rn,6)),1196032&e.$$.dirty[13]&&n(363,s=An||[[0,Math.min(Mn,Bn)/Mn]]),4194304&e.$$.dirty[11]&&(l=s[0][0]),4194304&e.$$.dirty[11]&&(c=s[s.length-1][1]),4194304&e.$$.dirty[11]&&n(366,u=s.map((e=>{let[t,n]=e;return[ly(t,6),ly(n,6)]}))),50331648&e.$$.dirty[11]&&n(364,d=u.findIndex((e=>{let[t,n]=e;return a>=t&&a<=n}))),58720256&e.$$.dirty[11]&&(h=-1===d&&u.findIndex(((e,t,n)=>{const r=n[t-1];return r?a<=e[0]&&a>=r[1]:a<=e[0]}))),1048576&e.$$.dirty[8]&&Wi.set(Yr),134217728&e.$$.dirty[11]|262144&e.$$.dirty[13]&&(Ke&&In?Ui():ji()),4194304&e.$$.dirty[9]|65536&e.$$.dirty[13]&&o&&so.set(Vi()*Rn),134217728&e.$$.dirty[11]|32768&e.$$.dirty[13]&&Ke&&(e=>{o&&(Ke.volume=Math.min(1,e))})(Pn),256&e.$$.dirty[0]&&r$(Ki,Tn=Sr,Tn),1048576&e.$$.dirty[7]&&n(359,p="overlay"===sr),128&e.$$.dirty[8]|262144&e.$$.dirty[11]&&n(45,f=Br&&!p),134217730&e.$$.dirty[0]&&$i&&Object.entries($i).forEach((e=>{let[t,r]=e;Object.entries(r).forEach((e=>{let[r,i]=e;ki[t]&&n(1,ki[t][r]=i,ki)}))})),512&e.$$.dirty[13]&&n(360,v=!mn),16777216&e.$$.dirty[7]|1572864&e.$$.dirty[11]&&r$(Aa,wt="always"===pr?y:"never"!==pr&&y&&v,wt),4194304&e.$$.dirty[1]|33554432&e.$$.dirty[7]&&Xi.set(fr?1:0,{hard:!wt}),268435456&e.$$.dirty[7]&&(g=vr?(t=vr,T=Yi,zy(Math.min(t.width,T.width),Math.min(t.height,T.height))):Yi),8192&e.$$.dirty[13]&&ro.update(kn[0]),4096&e.$$.dirty[13]&&(m=Sn?(e,t)=>Sn(e,{flipX:void 0,flipY:void 0,rotation:void 0,...t,isPreview:!0}):Qm),268435456&e.$$.dirty[1]&&Array.isArray($n)&&or("selectionchange",[...$n]),4194304&e.$$.dirty[8]|2048&e.$$.dirty[13]&&oa.set(xn&&ri),8912896&e.$$.dirty[8]&&aa.set("pan"===Jr||oi),1048576&e.$$.dirty[1]&&mt&&fa.set(ob(mt.x,mt.y,mt.width,mt.height)),262144&e.$$.dirty[11]|65538&e.$$.dirty[12]&&it&&p&&Tt&&Tt.complete&&(()=>{const e=bn,t=pb(it);e&&e===t||(go.set(pb(it)),Qs())})(),128&e.$$.dirty[11]&&n(46,U=I.length>1),32768&e.$$.dirty[1]&&(U||ga.set(Jy())),1024&e.$$.dirty[0]|1024&e.$$.dirty[13]&&(Lr||ya.set(ob(0,yn,0,0))),1048576&e.$$.dirty[11]|4&e.$$.dirty[12]&&n(362,b=!at&&y),1048576&e.$$.dirty[1]&&n(303,Ue=mt&&mt.width>0&&mt.height>0),8&e.$$.dirty[0]|25165824&e.$$.dirty[9]&&n(40,je=Ue&&cr&&!!B),512&e.$$.dirty[1]&&setTimeout((()=>n(291,Ca=je)),1),16777216&e.$$.dirty[7]|4096&e.$$.dirty[9]|2621440&e.$$.dirty[11]&&r$(ka,It="always"===pr?b:"never"!==pr&&b&&Ca&&v,It),67108864&e.$$.dirty[7]|262144&e.$$.dirty[11]&&Ea.set(mr||p),134217728&e.$$.dirty[7]&&_a.set(yr),16777216&e.$$.dirty[8]&&ci&&Ja.set(ci),4&e.$$.dirty[0]|288&e.$$.dirty[13]&&Ai&&(Ai.dispatchEvent(dR("markupzoom",gn)),Ai.dispatchEvent(dR("zoom",Tv(gn)?gn:cn))),4&e.$$.dirty[0]|128&e.$$.dirty[13]&&Ai&&(Ai.dispatchEvent(dR("markuppan",hn)),Ai.dispatchEvent(dR("pan",hn))),16&e.$$.dirty[13]&&nn&&es(),64&e.$$.dirty[13]&&un&&rs(),4198400&e.$$.dirty[1]&&F&&$s.set(.075,{hard:!wt}),536870912&e.$$.dirty[7]&&n(357,w=$r),12&e.$$.dirty[13]&&n(358,x=Yt?-Math.max(...Object.values(Jt)):0),138936320&e.$$.dirty[1]|196608&e.$$.dirty[11]&&Xt){let e=Xt.x-rt.x,t=rt.x+rt.width-(Xt.x+Xt.width),n=Xt.y-rt.y,r=rt.y+rt.height-(Xt.y+Xt.height),i=Math.min(e,n,t,r);Cs.set(i>x?0:Math.min(w,Math.abs(i/64)),{hard:!wt})}if(67108864&e.$$.dirty[1]&&n(356,$=.55/Zt),4718592&e.$$.dirty[1]|32768&e.$$.dirty[11]&&rt&&Es.set({x:0,y:rt.y,width:rt.x<64?0:rt.x,height:rt.height+$},{hard:!wt}),4718592&e.$$.dirty[1]|32768&e.$$.dirty[11]|2&e.$$.dirty[12]&&rt&&Ts.set({x:0,y:0,width:it.width,height:rt.y+$},{hard:!wt}),4718592&e.$$.dirty[1]|32768&e.$$.dirty[11]|2&e.$$.dirty[12]&&rt){let e=rt.x+rt.width,t=it.width-(rt.x+rt.width);t<64&&(e+=t,t=0),Ps.set({x:e,y:rt.y,width:t,height:rt.height+$},{hard:!wt})}if(4718592&e.$$.dirty[1]|2&e.$$.dirty[12]&&rt&&Rs.set({x:0,y:rt.y+rt.height,width:it.width,height:it.height-(rt.y+rt.height)},{hard:!wt}),33554432&e.$$.dirty[1]|536870912&e.$$.dirty[12]|2&e.$$.dirty[13]&&n(352,S=Kt&&{id:"stage-overlay",backgroundColor:Gt,opacity:Vt,...Kt}),33554432&e.$$.dirty[1]|536870912&e.$$.dirty[12]|1&e.$$.dirty[13]&&n(355,k=qt&&{id:"stage-overlay",backgroundColor:Gt,opacity:Vt,...qt}),33554432&e.$$.dirty[1]|1610612736&e.$$.dirty[12]&&n(354,A=Qt&&{id:"stage-overlay",backgroundColor:Gt,opacity:Vt,...Qt}),33554432&e.$$.dirty[1]|805306368&e.$$.dirty[12]&&n(353,C=Wt&&{id:"stage-overlay",backgroundColor:Gt,opacity:Vt,...Wt}),30720&e.$$.dirty[11]&&n(351,E=[k,A,C,S].filter(Boolean)),1024&e.$$.dirty[11]|134217728&e.$$.dirty[12]&&E&&Ht&&ks.update((e=>[...e.filter((e=>"stage-overlay"!==e.id)),...E])),268435456&e.$$.dirty[8]|16777216&e.$$.dirty[12]&&Is.set(vi||Dt||void 0),4&e.$$.dirty[0]|262144&e.$$.dirty[7]|134217728&e.$$.dirty[11]&&(n(235,Os=Ke),Ke&&Ai.dispatchEvent(dR("loadpreview",Os))),131072&e.$$.dirty[12]&&Pt&&(Ja.set(dy()),qa.set(void 0),es(),Ns.set([])),67108864&e.$$.dirty[12]&&n(307,P=_t.index>0),67108864&e.$$.dirty[12]&&n(306,R=_t.index<_t.length-1),393216&e.$$.dirty[1]|24&e.$$.dirty[12]&&(M=[nt,Xe,ut,ct]),8&e.$$.dirty[1]&&sl.set(ol),33554432&e.$$.dirty[12]&&ll.set(zt),4096&e.$$.dirty[1]&&Yo.set(F),524288&e.$$.dirty[9]|64&e.$$.dirty[11]&&n(298,N=O.reduce(((e,t)=>(e[t.id]=N&&N[t.id]||0,e)),{})),4096&e.$$.dirty[1]&&n(79,D={name:dl,selected:F}),64&e.$$.dirty[11]&&n(329,z=O.map((e=>({id:e.id,icon:e.tabIcon,label:e.tabLabel})))),64&e.$$.dirty[11]&&n(78,_=O.map((e=>e.id))),524288&e.$$.dirty[7]&&n(77,j=gC(["PinturaRoot","PinturaRootComponent",ar])),2&e.$$.dirty[12]&&n(343,H=it&&(it.width>1e3?"wide":it.width<600?"narrow":void 0)),2&e.$$.dirty[12]&&n(330,W=it&&(it.width<=320||it.height<=460)),2&e.$$.dirty[12]&&n(342,V=it&&(it.height>1e3?"tall":it.height<600?"short":void 0)),4&e.$$.dirty[0]&&n(309,G=Ai&&Ai.parentNode&&Ai.parentNode.classList.contains("PinturaModal")),1&e.$$.dirty[1]|1073741824&e.$$.dirty[9]|2&e.$$.dirty[12]&&n(335,Q=G&&it&&_s>it.width),2&e.$$.dirty[1]|1073741824&e.$$.dirty[9]|2&e.$$.dirty[12]&&n(334,q=G&&it&&Us>it.height),50331648&e.$$.dirty[10]&&n(336,K=Q&&q),1048576&e.$$.dirty[0]&&n(333,Z=ai),4&e.$$.dirty[11]&&n(304,X="narrow"===H),4096&e.$$.dirty[8]|2&e.$$.dirty[12]&&n(344,(Ge=it,qe=_r,J=it?"auto"===qe?Ge.width>Ge.height?"landscape":"portrait":"horizontal"===qe?Ge.width<500?"portrait":"landscape":"vertical"===qe?Ge.height<400?"landscape":"portrait":void 0:"landscape")),8&e.$$.dirty[11]&&n(76,Y="landscape"===J),33554432&e.$$.dirty[9]|2&e.$$.dirty[11]&&n(332,ee=X||"short"===V),1&e.$$.dirty[1]|2&e.$$.dirty[12]&&n(331,te=bl&&it&&_s===it.width&&!js),4&e.$$.dirty[1]|8388608&e.$$.dirty[12]&&n(305,ne=[...Nt||[],...al].filter(Boolean)),8192&e.$$.dirty[8]&&n(341,re="has-navigation-preference-"+Ur),16384&e.$$.dirty[8]&&n(340,ie="has-navigation-preference-"+jr),32768&e.$$.dirty[8]&&n(337,oe="has-toolbar-preference-"+Hr),65536&e.$$.dirty[8]&&n(339,ae="has-controlgroups-preference-"+Wr),131072&e.$$.dirty[8]&&n(338,se="has-controltabs-preference-"+Vr),2&e.$$.dirty[12]&&n(346,le=void 0!==it&&it.width>0&&it.height>0),4&e.$$.dirty[0]|32&e.$$.dirty[11]&&n(345,ce=le&&Ai&&getComputedStyle(Ai)),16&e.$$.dirty[11]&&ce&&Al(),1024&e.$$.dirty[0]|4243456&e.$$.dirty[1]|34603008&e.$$.dirty[7]|1073741824&e.$$.dirty[9]|2146435072&e.$$.dirty[10]|15&e.$$.dirty[11]|6291712&e.$$.dirty[12]&&Hs.set({...yt,layoutMode:sr,orientation:J,horizontalSpace:H,verticalSpace:V,navigationHorizontalPreference:re,navigationVerticalPreference:ie,controlGroupsVerticalPreference:ae,controlTabsVerticalpreference:se,toolbarVerticalPreference:oe,isModal:G,isDisabled:fr,isCentered:K,isCenteredHorizontally:Q,isCenteredVertically:q,isAnimated:wt,isTransparent:Z,pointerAccuracy:Ft,pointerHoverable:Ot,isCompact:ee,hasSwipeNavigation:te,hasLimitedSpace:W,hasToolbar:Lr,hasNavigation:U&&f,isIOS:bl,browserVersion:AA()?"chrome-"+(navigator.userAgent.match(/Chrome\/([0-9]+)/)||[])[1]:void 0}),256&e.$$.dirty[12]&&n(75,ue=Object.entries(yt).map((e=>{let[t,n]=e;return/^is|has/.test(t)?n?hR(t):void 0:n})).filter(Boolean).join(" ")),4096&e.$$.dirty[1]&&F&&il.set([]),4096&e.$$.dirty[1]|4&e.$$.dirty[8]|524288&e.$$.dirty[10]|256&e.$$.dirty[12]&&n(44,de=Tr(z.map((e=>({...e,selected:F===e.id}))),{...yt},(()=>qi.set({})))),8192&e.$$.dirty[1]&&n(74,he=!!de.find((e=>Array.isArray(e)))),1572864&e.$$.dirty[12]&&n(73,pe=Bt&&Object.entries(Lt).filter((e=>{let[,t]=e;return null!=t})).reduce(((e,t)=>{let[,n]=t;return{...e,...n}}),{})),65536&e.$$.dirty[12]&&n(326,ye=Tt&&"any-to-file"===Tt.task),65536&e.$$.dirty[10]&&ye&&nl&&nl.clear(),262144&e.$$.dirty[12]&&n(328,fe=!!Mt&&!!Mt.translation),16384&e.$$.dirty[9]|262144&e.$$.dirty[10]|134217728&e.$$.dirty[11]&&fe&&Ke&&Ke!==Tl&&(n(293,Tl=Ke),(()=>{const e=nl.length?void 0:{resize:1.05},t=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{resize:r=1,opacity:i=0}=n,o={opacity:[jA(i,{...vR,stiffness:.1}),Qm],resize:[jA(r,{...vR,stiffness:.1}),Qm],translation:[jA(void 0,vR),Qm],rotation:[jA(void 0,wR),Qm],origin:[jA(void 0,vR),Qm],scale:[jA(void 0,wR),Qm],gamma:[jA(void 0,wR),e=>e||1],vignette:[jA(void 0,wR),e=>e||0],colorMatrix:[jA([...bR],vR),e=>e||[...bR]],convolutionMatrix:[PS(void 0),e=>e&&e.clarity||void 0],backgroundColor:[jA(void 0,vR),(e,t,n)=>{if(Array.isArray(e)){if(Array.isArray(t)){const r=[...e];0===t[3]?(r[3]=0,n(r)):0===r[3]&&((e=[...t])[3]=0)}return e}}],backgroundImage:[PS(void 0),Qm]},a=Object.entries(o).map((e=>{let[t,n]=e;return[t,n[0]]})),s=a.map((e=>{let[,t]=e;return t})),l=Object.entries(o).reduce(((e,t)=>{let[n,r]=t;const[i,o]=r;return e[n]=(e,t)=>i.set(o(e,c[n],(e=>{i.set(e,{hard:!0})})),t),e}),{});let c;const u=RS(s,(n=>(c=n.reduce(((e,t,n)=>(e[a[n][0]]=t,e)),{}),c.data=e,c.size=t,c.scale*=n[1],c)));return u.get=()=>c,u.set=(e,t)=>{const n={hard:!t};Object.entries(e).forEach((e=>{let[t,r]=e;l[t]&&l[t](r,n)}))},u}(Ke,Je,e);nl.unshift(t),El(Mt)})()),262144&e.$$.dirty[10]|262144&e.$$.dirty[12]&&fe&&El(Mt),16777216&e.$$.dirty[1]&&Rt&&Rt.length>1){let e=[];nl.forEach(((t,n)=>{0!==n&&t.get().opacity<=0&&e.push(t)})),e.forEach((e=>nl.remove(e)))}if(8&e.$$.dirty[0]|131072&e.$$.dirty[10]&&n(39,me=cr&&ge.length&&cr.labelSupportError(ge)),65536&e.$$.dirty[12]&&n(318,be=Tt&&!!Tt.error),65536&e.$$.dirty[12]&&n(42,ve=!Tt||!Tt.complete&&void 0===Tt.task),65536&e.$$.dirty[12]&&n(319,we=Tt&&(Tt.taskLengthComputable?Tt.taskProgress:1/0)),65536&e.$$.dirty[10]&&ye&&r$(Ms,Ct=!1,Ct),4194304&e.$$.dirty[1]|32768&e.$$.dirty[9]|65536&e.$$.dirty[12]&&Tt&&Tt.complete){const e=wt?250:0;clearTimeout(Rl),n(294,Rl=setTimeout((()=>{r$(Ms,Ct=!0,Ct)}),e))}if(2048&e.$$.dirty[1]|256&e.$$.dirty[10]|81920&e.$$.dirty[12]&&n(323,xe=Tt&&!be&&!ve&&!Ct),8192&e.$$.dirty[9]|134217728&e.$$.dirty[11]|131072&e.$$.dirty[12]&&n(322,$e=!(!Pt||Ke&&!Ls)),4194304&e.$$.dirty[1]|16384&e.$$.dirty[12]&&(Ct?setTimeout((()=>kl.set(1,{hard:!wt})),wt?500:0):kl.set(0,{hard:!wt})),33280&e.$$.dirty[12]&&n(317,Se=!!(vt||Et&&void 0!==Et.progress&&!Et.complete)),128&e.$$.dirty[10]&&Se&&Di(),2048&e.$$.dirty[1]|65536&e.$$.dirty[12]&&n(320,ke=Tt&&!(Tt.error||ve)),8&e.$$.dirty[0]|65536&e.$$.dirty[12]&&n(321,Ae=cr&&(Tt?!Tt.complete||Tt.error?nA(cr.statusLabelLoadImage(Tt),Tt.error&&Tt.error.metadata,"{","}"):cr.statusLabelLoadImage({progress:1/0,task:"blob-to-bitmap"}):cr.statusLabelLoadImage(Tt))),8&e.$$.dirty[0]|32768&e.$$.dirty[12]&&n(316,Ce=Et&&cr&&cr.statusLabelProcessImage(Et)),32768&e.$$.dirty[12]&&n(314,Ee=Et&&(Et.taskLengthComputable?Et.taskProgress:1/0)),32768&e.$$.dirty[12]&&n(315,Te=Et&&!Et.error),32768&e.$$.dirty[12]&&n(313,Pe=!(!Et||!Et.error)),8&e.$$.dirty[0]|2048&e.$$.dirty[1]|131072&e.$$.dirty[7]|16376&e.$$.dirty[10])if(gr){let e,t,r,i,o;Em(gr)&&(e=gr),Tv(gr)?t=gr:Array.isArray(gr)&&([e,t,o]=gr,!1===t&&(i=!0),Tv(t)&&(r=!0)),n(35,Il=(e||t)&&{text:e,aside:i||r,progressIndicator:{visible:r,progress:t},closeButton:i&&{label:cr.statusLabelButtonClose,icon:cr.statusIconButtonClose,onclick:o||(()=>n(234,gr=void 0))}})}else n(35,Il=cr&&ve||be||xe||$e?{text:Ae,aside:be||ke,progressIndicator:{visible:ke,progress:we},closeButton:be&&{label:cr.statusLabelButtonClose,icon:cr.statusIconButtonClose,onclick:zl}}:cr&&Se&&Ce?{text:Ce,aside:Pe||Te,progressIndicator:{visible:Te,progress:Ee},closeButton:Pe&&{label:cr.statusLabelButtonClose,icon:cr.statusIconButtonClose,onclick:_l}}:void 0);if(131072&e.$$.dirty[7]&&n(325,Re=void 0!==gr),4194304&e.$$.dirty[1]|1073741824&e.$$.dirty[9]|32768&e.$$.dirty[12]&&G&&Et&&Et.complete&&(Ml.set(!0),setTimeout((()=>Ml.set(!1)),wt?100:0)),4&e.$$.dirty[0]|4096&e.$$.dirty[1]|16384&e.$$.dirty[12]&&Ct&&Ai&&Ai.dispatchEvent(dR("selectutil",F)),2304&e.$$.dirty[1]|45440&e.$$.dirty[10]|8192&e.$$.dirty[12]&&n(324,Me=At||me||ve||be||xe||$e||Se||Re),16384&e.$$.dirty[10]&&r$(Pl,kt=Me?1:0,kt),4194304&e.$$.dirty[1]|16384&e.$$.dirty[10]&&Pl.set(Me?1:0,{duration:wt?500:1}),8388608&e.$$.dirty[1]&&n(41,Ie=kt>0),16&e.$$.dirty[1]&&n(312,Le=!(!Il||!Il.aside)),4195344&e.$$.dirty[1]|65536&e.$$.dirty[9]|4&e.$$.dirty[10]|4096&e.$$.dirty[12]&&Ie&&Il){clearTimeout(Dl);const e={hard:!1===wt};if(Le){const t=!!Il.error||!wt;Bl.set(1,e),Ll.set(St,{hard:t}),n(295,Dl=setTimeout((()=>{Ol.set(16,e)}),1))}else Bl.set(0,e),n(295,Dl=setTimeout((()=>{Ol.set(0,e)}),1))}if(1024&e.$$.dirty[1]&&(Ie||(Nl.set(void 0,{hard:!0}),Ll.set(void 0,{hard:!0}),Ol.set(0,{hard:!0}))),2048&e.$$.dirty[12]&&n(311,Be=.5*$t),2&e.$$.dirty[10]|1024&e.$$.dirty[12]&&n(72,Oe="transform: translateX(".concat(xt-Be,"px)")),256&e.$$.dirty[1]|402653184&e.$$.dirty[11]&&n(38,Qe=Ke&&Je&&!me),128&e.$$.dirty[1]|1073741824&e.$$.dirty[9]|1&e.$$.dirty[10]&&n(308,Ne=Fe&&(Qe||G)?Ul:om),536870912&e.$$.dirty[9]&&n(71,De=Ne),536870912&e.$$.dirty[9]&&n(70,ze=Ne),8&e.$$.dirty[0]|2097152&e.$$.dirty[1]|370&e.$$.dirty[8]|503316480&e.$$.dirty[9]|256&e.$$.dirty[12]&&n(69,_e=cr&&bt&&SR((()=>Er([["div","alpha",{class:"PinturaNavGroup"},[["div","alpha-set",{class:"PinturaNavSet"},[Or&&["Button","close",{label:cr.labelClose,icon:cr.iconButtonClose,onclick:()=>or("close"),hideLabel:!0}],Mr&&["Button","revert",{label:cr.labelButtonRevert,icon:cr.iconButtonRevert,disabled:!P,onclick:Ks,hideLabel:!0}]]]]],["div","beta",{class:"PinturaNavGroup PinturaNavGroupFloat"},[Ir&&["div","history",{class:"PinturaNavSet"},[["Button","undo",{label:cr.labelButtonUndo,icon:cr.iconButtonUndo,disabled:!P,onclick:Gs.undo,hideLabel:!0}],["Button","redo",{label:cr.labelButtonRedo,icon:cr.iconButtonRedo,disabled:!R,onclick:Gs.redo,hideLabel:!0}]]],ne.length&&["div","plugin-tools",{class:"PinturaNavSet"},ne.filter(Boolean).map((e=>{let[t,n,r]=e;return[t,n,{...r}]}))]]],["div","gamma",{class:"PinturaNavGroup"},[Rr&&["Button","export",{label:cr.labelButtonExport,icon:X&&cr.iconButtonExport,class:"PinturaButtonExport",onclick:el,hideLabel:X}]]]],{...yt},(()=>qi.set({})))))),16&e.$$.dirty[12]&&n(300,He=ut&&!!ut.length),2097152&e.$$.dirty[9]|268435456&e.$$.dirty[11]|16&e.$$.dirty[12]&&n(299,We=He&&Dx(Je,ut)),3145728&e.$$.dirty[9]|134217728&e.$$.dirty[11]|192&e.$$.dirty[12]&&He&&((e,t,r,i)=>{if(!t)return;const o={dataSizeScalar:r};i&&i[3]>0&&(o.backgroundColor=[...i]),t(e,o).then((e=>{Gl&&mm(Gl),n(296,Gl=e)}))})(Ke,pt,We,ht),131072&e.$$.dirty[9]|268435456&e.$$.dirty[11]|48&e.$$.dirty[12]&&ut&&Gl&&Je){const{width:e,height:t}=Je,r=qb()?"pixelated":"auto"===dt?"auto":"pixelated";n(297,ql=ut.map((n=>{const i=ob(n.x,n.y,n.width,n.height),o=mb(Xy(i),n.rotation).map((n=>hy(n.x/e,n.y/t)));return{...n,id:"redaction",flipX:!1,flipY:!1,cornerRadius:0,strokeWidth:0,strokeColor:void 0,backgroundColor:[0,0,0,0],backgroundImage:Gl,backgroundImageRendering:r,backgroundCorners:o}})))}262144&e.$$.dirty[9]|8&e.$$.dirty[12]&&n(37,Ve=[...ql,...ct||[]]),32&e.$$.dirty[1]&&Ql&&Kl.set(Ql),4&e.$$.dirty[0]|128&e.$$.dirty[1]&&Qe&&Ai&&Ai.dispatchEvent(dR("ready")),262144&e.$$.dirty[1]&&n(63,cc=!0),1879048192&e.$$.dirty[11]|1&e.$$.dirty[12]&&n(64,uc=!0),131072&e.$$.dirty[1]&&n(65,dc=!0),65536&e.$$.dirty[1]&&n(66,hc=!0),64&e.$$.dirty[1]&&n(67,pc=!0)},n(361,y=!cC()),T=1===EE()?e=>{e&&(xy(e.origin,Math.round),xy(e.translation,Math.round))}:Qm,n(327,ge=[!yR()&&"WebGL"].filter(Boolean)),n(310,Fe=hv()||wm()&&Om()),n(68,Ge=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n=>{"ping"===n.type&&(t&&n.stopPropagation(),e(n.detail.type,n.detail.data))}}(ir.pub)),[fi,ki,Ai,cr,ur,br,wr,xr,Sr,Cr,Lr,zr,Gr,qr,Kr,Zr,Xr,ti,ni,ii,ai,si,li,ui,di,hi,pi,$i,no,Bs,Gs,_s,Us,al,ol,Il,Ql,Ve,Qe,me,je,Ie,ve,F,de,f,U,Ze,Xe,nt,rt,mt,bt,wt,kt,Rt,Gt,Zt,Xt,$n,yi,bi,fl,cc,uc,dc,hc,pc,Ge,_e,ze,De,Oe,pe,he,ue,Y,j,_,D,jt,En,On,Fn,Nn,Dn,zn,_n,Un,jn,Hn,Wn,Vn,Gn,Qn,qn,Kn,Zn,Xn,Jn,Yn,er,tr,Ei,Ti,Pi,Wi,qi,Ki,Xi,io,oo,ao,so,lo,co,ho,po,fo,go,mo,yo,So,Co,Eo,To,Oo,Fo,No,Do,zo,_o,Uo,Ho,Wo,Vo,Go,Qo,qo,Ko,ea,ta,na,ra,ia,oa,aa,sa,la,ca,ua,da,pa,fa,ga,ma,ya,ba,va,wa,$a,Sa,ka,Aa,Ea,Ta,Pa,Ra,Ia,La,Ba,Oa,Ua,ja,Wa,Ga,Qa,qa,Za,Xa,Ja,ts,ns,is,bs,ks,As,Cs,Es,Ts,Ps,Rs,Ms,Is,Fs,Ns,Ds,Hs,Vs,Ys,nl,il,ul,gl,ml,yl,(e,t)=>t[e],e=>O.find((t=>t.id===e)).view,xl,$l,Sl,kl,e=>{let{target:t,propertyName:n}=e;t===Ai&&/background|outline/.test(n)&&ce&&Al()},Cl,Pl,Ml,Ll,Bl,Ol,Fl,Nl,e=>{const t=!(!Il||!Il.closeButton)||!wt;Fl.set(e.detail.width,{hard:t}),Nl.set(Math.round(.5*-e.detail.width),{hard:t})},jl,Hl,e=>{const{keyCode:t,metaKey:n,ctrlKey:r,shiftKey:i}=e;if(9===t&&fr)return void e.preventDefault();if(e.target&&32===t&&Ai.contains(e.target)&&!IE(e.target)&&(gt&&o&&_i(),e.preventDefault()),90===t&&(n||r))return void(i&&n?Gs.redo():Gs.undo());if(89===t&&r)return void Gs.redo();if(229===t)return;const a=new Set([...ft,t]);Hl.set(Array.from(a))},e=>{let{key:t,keyCode:n}=e;if("Meta"===t)return Hl.set([]);Hl.set(ft.filter((e=>e!==n)))},()=>{Hl.set([])},e=>{IE(e.target)||e.preventDefault()},e=>{Fr&&Wl(e.detail.resources[0])},()=>{Dr&&$R().then(Vl)},e=>{if(!Nr)return;const t=qS((window.innerWidth-Math.abs(it.x))/it.width,0,1),n=qS((window.innerHeight-Math.abs(it.y))/it.height,0,1);t<.75&&n<.75||Wl((e.clipboardData||window.clipboardData).files[0])},Zl,lc,e=>{qe&&hb(e.detail,qe)||r$(ba,qe=e.detail,qe)},gr,Os,ar,sr,lr,dr,hr,pr,fr,mr,yr,vr,$r,kr,Ar,Er,Tr,Pr,Rr,Mr,Ir,Br,Or,Fr,Nr,Dr,_r,Ur,jr,Hr,Wr,Vr,Qr,Jr,Yr,ei,ri,oi,ci,gi,()=>n(60,yi=void 0),(e,t,r)=>{const{text:i="",placeholder:o="",autoClose:a=!0,align:s="top",justify:l="center",buttonConfirm:c,buttonCancel:u}=r;n(60,yi={align:s,justify:l,text:i,placeholder:o,buttonConfirm:c,buttonCancel:u,onconfirm:()=>{e(bi.value),a&&n(60,yi=void 0)},oncancel:()=>{t(void 0),n(60,yi=void 0)}})},vi,wi,xi,Si,Ni,Di,zi,_i,Ui,ji,Hi,Vi,Gi,Qi,Zi,Ca,Ls,Tl,Rl,Dl,Gl,ql,N,We,He,o,B,Ue,X,ne,R,P,Ne,G,Fe,Be,Le,Pe,Ee,Te,Ce,Se,be,we,ke,Ae,$e,xe,Me,Re,ye,ge,fe,z,W,te,ee,Z,q,Q,K,oe,se,ae,ie,re,V,H,J,ce,le,O,I,L,r,E,S,C,A,k,$,w,x,p,v,y,b,s,d,a,u,i,Ke,Je,Ye,et,tt,it,at,ct,ut,dt,ht,pt,yt,vt,xt,$t,St,At,Ct,Et,Tt,Pt,Mt,Lt,Bt,Ot,Ft,Nt,Dt,zt,_t,Ht,Wt,Vt,Qt,qt,Kt,Jt,Yt,nn,cn,un,hn,gn,mn,yn,xn,Sn,kn,An,Pn,Rn,Mn,In,Ln,Bn,function(){n(31,_s=RR.innerWidth),n(32,Us=RR.innerHeight)},e=>r$(ya,Nn=e.detail,Nn),e=>{let{detail:t}=e;return n(43,F=t)},function(t,r){e.$$.not_equal(ki[r],t)&&(ki[r]=t,n(1,ki),n(278,xi),n(27,$i))},e=>gl(e),e=>ml(e),(e,t)=>{let{detail:n}=t;return yl(e,n)},e=>r$(ga,jt=e.detail,jt),function(t){e.$$.not_equal(ki[F],t)&&(ki[F]=t,n(1,ki),n(278,xi),n(27,$i))},()=>gl(F),()=>ml(F),e=>{let{detail:t}=e;return yl(F,t)},e=>{const t={...e,...Zl()},{annotationShapes:n,decorationShapes:r,interfaceShapes:i,frameShapes:o,selectionShapes:a}=Cr({annotationShapes:nt,decorationShapes:Xe,interfaceShapes:Qn,frameShapes:Ze,selectionShapes:$n},t);return lc(t,Ve,n,r,i,o,a)},()=>{n(63,cc=!1),n(64,uc=!1),n(65,dc=!1),n(66,hc=!1),n(67,pc=!1)},function(e){G$[e?"unshift":"push"]((()=>{Ql=e,n(36,Ql)}))},function(e){fi=e,n(0,fi),n(266,Qr)},function(e){al=e,n(33,al)},function(e){ol=e,n(34,ol)},function(e){G$[e?"unshift":"push"]((()=>{bi=e,n(61,bi)}))},function(e){G$[e?"unshift":"push"]((()=>{Ai=e,n(2,Ai)}))},e=>r$(pa,mt=e.detail,mt)]}class oM extends CS{constructor(e){super(),AS(this,e,iM,tM,Gx,{class:236,layout:237,stores:238,locale:3,id:4,util:239,utils:240,animations:241,disabled:242,status:234,previewUpscale:243,previewPad:244,previewMaskOpacity:5,previewImageDataMaxSize:245,previewImageTextPixelRatio:6,markupMaskOpacity:7,zoomMaskOpacity:246,elasticityMultiplier:8,willRevert:247,willProcessImage:248,willRenderCanvas:9,willRenderToolbar:249,willRenderUtilTabs:250,willSetHistoryInitialState:251,enableButtonExport:252,enableButtonRevert:253,enableNavigateHistory:254,enableToolbar:10,enableUtils:255,enableButtonClose:256,enableDropImage:257,enablePasteImage:258,enableBrowseImage:259,enableTransparencyGrid:11,layoutDirectionPreference:260,layoutHorizontalUtilsPreference:261,layoutVerticalUtilsPreference:262,layoutVerticalToolbarPreference:263,layoutVerticalControlGroupsPreference:264,layoutVerticalControlTabsPreference:265,textDirection:12,markupEditorZoomLevel:266,markupEditorZoomLevels:13,markupEditorZoomAdjustStep:14,markupEditorZoomAdjustFactor:15,markupEditorZoomAdjustWheelFactor:16,markupEditorInteractionMode:267,muteAudio:268,willSetMediaInitialTimeOffset:269,enablePan:17,enableZoom:18,enableZoomControls:270,enableZoomInput:19,enablePanInput:271,enableCanvasAlpha:20,enablePanLimit:21,panLimitGutterScalar:22,pan:272,zoomPresetOptions:23,zoomAdjustStep:24,zoomAdjustFactor:25,zoomAdjustWheelFactor:26,zoomLevel:0,fixScrollDirection:273,hideTextInput:274,showTextInput:275,imagePreviewSrc:276,imageOrienter:277,pluginComponents:278,pluginOptions:27,sub:279,pluginInterface:1,root:2,play:280,pause:281,isPaused:282,togglePlayPause:283,mute:284,unmute:285,toggleMute:286,getDuration:287,getCurrentTime:288,setCurrentTime:289,imageSourceToImageData:28,imagePreview:29,imagePreviewCurrent:235,history:30},null,[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1])}get class(){return this.$$.ctx[236]}set class(e){this.$$set({class:e}),iS()}get layout(){return this.$$.ctx[237]}set layout(e){this.$$set({layout:e}),iS()}get stores(){return this.$$.ctx[238]}set stores(e){this.$$set({stores:e}),iS()}get locale(){return this.$$.ctx[3]}set locale(e){this.$$set({locale:e}),iS()}get id(){return this.$$.ctx[4]}set id(e){this.$$set({id:e}),iS()}get util(){return this.$$.ctx[239]}set util(e){this.$$set({util:e}),iS()}get utils(){return this.$$.ctx[240]}set utils(e){this.$$set({utils:e}),iS()}get animations(){return this.$$.ctx[241]}set animations(e){this.$$set({animations:e}),iS()}get disabled(){return this.$$.ctx[242]}set disabled(e){this.$$set({disabled:e}),iS()}get status(){return this.$$.ctx[234]}set status(e){this.$$set({status:e}),iS()}get previewUpscale(){return this.$$.ctx[243]}set previewUpscale(e){this.$$set({previewUpscale:e}),iS()}get previewPad(){return this.$$.ctx[244]}set previewPad(e){this.$$set({previewPad:e}),iS()}get previewMaskOpacity(){return this.$$.ctx[5]}set previewMaskOpacity(e){this.$$set({previewMaskOpacity:e}),iS()}get previewImageDataMaxSize(){return this.$$.ctx[245]}set previewImageDataMaxSize(e){this.$$set({previewImageDataMaxSize:e}),iS()}get previewImageTextPixelRatio(){return this.$$.ctx[6]}set previewImageTextPixelRatio(e){this.$$set({previewImageTextPixelRatio:e}),iS()}get markupMaskOpacity(){return this.$$.ctx[7]}set markupMaskOpacity(e){this.$$set({markupMaskOpacity:e}),iS()}get zoomMaskOpacity(){return this.$$.ctx[246]}set zoomMaskOpacity(e){this.$$set({zoomMaskOpacity:e}),iS()}get elasticityMultiplier(){return this.$$.ctx[8]}set elasticityMultiplier(e){this.$$set({elasticityMultiplier:e}),iS()}get willRevert(){return this.$$.ctx[247]}set willRevert(e){this.$$set({willRevert:e}),iS()}get willProcessImage(){return this.$$.ctx[248]}set willProcessImage(e){this.$$set({willProcessImage:e}),iS()}get willRenderCanvas(){return this.$$.ctx[9]}set willRenderCanvas(e){this.$$set({willRenderCanvas:e}),iS()}get willRenderToolbar(){return this.$$.ctx[249]}set willRenderToolbar(e){this.$$set({willRenderToolbar:e}),iS()}get willRenderUtilTabs(){return this.$$.ctx[250]}set willRenderUtilTabs(e){this.$$set({willRenderUtilTabs:e}),iS()}get willSetHistoryInitialState(){return this.$$.ctx[251]}set willSetHistoryInitialState(e){this.$$set({willSetHistoryInitialState:e}),iS()}get enableButtonExport(){return this.$$.ctx[252]}set enableButtonExport(e){this.$$set({enableButtonExport:e}),iS()}get enableButtonRevert(){return this.$$.ctx[253]}set enableButtonRevert(e){this.$$set({enableButtonRevert:e}),iS()}get enableNavigateHistory(){return this.$$.ctx[254]}set enableNavigateHistory(e){this.$$set({enableNavigateHistory:e}),iS()}get enableToolbar(){return this.$$.ctx[10]}set enableToolbar(e){this.$$set({enableToolbar:e}),iS()}get enableUtils(){return this.$$.ctx[255]}set enableUtils(e){this.$$set({enableUtils:e}),iS()}get enableButtonClose(){return this.$$.ctx[256]}set enableButtonClose(e){this.$$set({enableButtonClose:e}),iS()}get enableDropImage(){return this.$$.ctx[257]}set enableDropImage(e){this.$$set({enableDropImage:e}),iS()}get enablePasteImage(){return this.$$.ctx[258]}set enablePasteImage(e){this.$$set({enablePasteImage:e}),iS()}get enableBrowseImage(){return this.$$.ctx[259]}set enableBrowseImage(e){this.$$set({enableBrowseImage:e}),iS()}get enableTransparencyGrid(){return this.$$.ctx[11]}set enableTransparencyGrid(e){this.$$set({enableTransparencyGrid:e}),iS()}get layoutDirectionPreference(){return this.$$.ctx[260]}set layoutDirectionPreference(e){this.$$set({layoutDirectionPreference:e}),iS()}get layoutHorizontalUtilsPreference(){return this.$$.ctx[261]}set layoutHorizontalUtilsPreference(e){this.$$set({layoutHorizontalUtilsPreference:e}),iS()}get layoutVerticalUtilsPreference(){return this.$$.ctx[262]}set layoutVerticalUtilsPreference(e){this.$$set({layoutVerticalUtilsPreference:e}),iS()}get layoutVerticalToolbarPreference(){return this.$$.ctx[263]}set layoutVerticalToolbarPreference(e){this.$$set({layoutVerticalToolbarPreference:e}),iS()}get layoutVerticalControlGroupsPreference(){return this.$$.ctx[264]}set layoutVerticalControlGroupsPreference(e){this.$$set({layoutVerticalControlGroupsPreference:e}),iS()}get layoutVerticalControlTabsPreference(){return this.$$.ctx[265]}set layoutVerticalControlTabsPreference(e){this.$$set({layoutVerticalControlTabsPreference:e}),iS()}get textDirection(){return this.$$.ctx[12]}set textDirection(e){this.$$set({textDirection:e}),iS()}get markupEditorZoomLevel(){return this.$$.ctx[266]}set markupEditorZoomLevel(e){this.$$set({markupEditorZoomLevel:e}),iS()}get markupEditorZoomLevels(){return this.$$.ctx[13]}set markupEditorZoomLevels(e){this.$$set({markupEditorZoomLevels:e}),iS()}get markupEditorZoomAdjustStep(){return this.$$.ctx[14]}set markupEditorZoomAdjustStep(e){this.$$set({markupEditorZoomAdjustStep:e}),iS()}get markupEditorZoomAdjustFactor(){return this.$$.ctx[15]}set markupEditorZoomAdjustFactor(e){this.$$set({markupEditorZoomAdjustFactor:e}),iS()}get markupEditorZoomAdjustWheelFactor(){return this.$$.ctx[16]}set markupEditorZoomAdjustWheelFactor(e){this.$$set({markupEditorZoomAdjustWheelFactor:e}),iS()}get markupEditorInteractionMode(){return this.$$.ctx[267]}set markupEditorInteractionMode(e){this.$$set({markupEditorInteractionMode:e}),iS()}get muteAudio(){return this.$$.ctx[268]}set muteAudio(e){this.$$set({muteAudio:e}),iS()}get willSetMediaInitialTimeOffset(){return this.$$.ctx[269]}set willSetMediaInitialTimeOffset(e){this.$$set({willSetMediaInitialTimeOffset:e}),iS()}get enablePan(){return this.$$.ctx[17]}set enablePan(e){this.$$set({enablePan:e}),iS()}get enableZoom(){return this.$$.ctx[18]}set enableZoom(e){this.$$set({enableZoom:e}),iS()}get enableZoomControls(){return this.$$.ctx[270]}set enableZoomControls(e){this.$$set({enableZoomControls:e}),iS()}get enableZoomInput(){return this.$$.ctx[19]}set enableZoomInput(e){this.$$set({enableZoomInput:e}),iS()}get enablePanInput(){return this.$$.ctx[271]}set enablePanInput(e){this.$$set({enablePanInput:e}),iS()}get enableCanvasAlpha(){return this.$$.ctx[20]}set enableCanvasAlpha(e){this.$$set({enableCanvasAlpha:e}),iS()}get enablePanLimit(){return this.$$.ctx[21]}set enablePanLimit(e){this.$$set({enablePanLimit:e}),iS()}get panLimitGutterScalar(){return this.$$.ctx[22]}set panLimitGutterScalar(e){this.$$set({panLimitGutterScalar:e}),iS()}get pan(){return this.$$.ctx[272]}set pan(e){this.$$set({pan:e}),iS()}get zoomPresetOptions(){return this.$$.ctx[23]}set zoomPresetOptions(e){this.$$set({zoomPresetOptions:e}),iS()}get zoomAdjustStep(){return this.$$.ctx[24]}set zoomAdjustStep(e){this.$$set({zoomAdjustStep:e}),iS()}get zoomAdjustFactor(){return this.$$.ctx[25]}set zoomAdjustFactor(e){this.$$set({zoomAdjustFactor:e}),iS()}get zoomAdjustWheelFactor(){return this.$$.ctx[26]}set zoomAdjustWheelFactor(e){this.$$set({zoomAdjustWheelFactor:e}),iS()}get zoomLevel(){return this.$$.ctx[0]}set zoomLevel(e){this.$$set({zoomLevel:e}),iS()}get fixScrollDirection(){return this.$$.ctx[273]}set fixScrollDirection(e){this.$$set({fixScrollDirection:e}),iS()}get hideTextInput(){return this.$$.ctx[274]}get showTextInput(){return this.$$.ctx[275]}get imagePreviewSrc(){return this.$$.ctx[276]}set imagePreviewSrc(e){this.$$set({imagePreviewSrc:e}),iS()}get imageOrienter(){return this.$$.ctx[277]}set imageOrienter(e){this.$$set({imageOrienter:e}),iS()}get pluginComponents(){return this.$$.ctx[278]}set pluginComponents(e){this.$$set({pluginComponents:e}),iS()}get pluginOptions(){return this.$$.ctx[27]}set pluginOptions(e){this.$$set({pluginOptions:e}),iS()}get sub(){return this.$$.ctx[279]}get pluginInterface(){return this.$$.ctx[1]}get root(){return this.$$.ctx[2]}set root(e){this.$$set({root:e}),iS()}get play(){return this.$$.ctx[280]}get pause(){return this.$$.ctx[281]}get isPaused(){return this.$$.ctx[282]}get togglePlayPause(){return this.$$.ctx[283]}get mute(){return this.$$.ctx[284]}get unmute(){return this.$$.ctx[285]}get toggleMute(){return this.$$.ctx[286]}get getDuration(){return this.$$.ctx[287]}get getCurrentTime(){return this.$$.ctx[288]}get setCurrentTime(){return this.$$.ctx[289]}get imageSourceToImageData(){return this.$$.ctx[28]}set imageSourceToImageData(e){this.$$set({imageSourceToImageData:e}),iS()}get imagePreview(){return this.$$.ctx[29]}get imagePreviewCurrent(){return this.$$.ctx[235]}set imagePreviewCurrent(e){this.$$set({imagePreviewCurrent:e}),iS()}get history(){return this.$$.ctx[30]}}"undefined"!=typeof window&&(e=>{if(e&&e._7mkhbd8)return;const[t,n,r]=[[99,111,110,115,111,108,101],[108,111,103],[84,104,105,115,32,118,101,114,115,105,111,110,32,111,102,32,80,105,110,116,117,114,97,32,105,115,32,102,111,114,32,116,101,115,116,105,110,103,32,112,117,114,112,111,115,101,115,32,111,110,108,121,46,32,86,105,115,105,116,32,104,116,116,112,115,58,47,47,112,113,105,110,97,46,110,108,47,112,105,110,116,117,114,97,32,116,111,32,112,117,114,99,104,97,115,101,32,97,32,108,105,99,101,110,115,101,46,32,86,105,115,105,116,32,104,116,116,112,115,58,47,47,112,113,105,110,97,46,110,108,47,112,105,110,116,117,114,97,47,99,104,97,116,32,105,102,32,121,111,117,32,104,97,118,101,32,97,110,121,32,113,117,101,115,116,105,111,110,115,46]].map((e=>e.map((e=>String.fromCharCode(e))).join("")));e&&e[t]&&e[t][n](r)})(window);const aM=["klass","stores","isVisible","isActive","isActiveFraction","locale"],sM=["history","klass","stores","navButtons","pluginComponents","pluginInterface","pluginOptions","sub","imagePreviewSrc","imagePreview","imagePreviewCurrent"],lM=["locale"];let cM;const uM=new Set([]),dM={},hM=new Map,pM=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.filter((e=>!!e.util)).forEach((e=>{const[t,n,r=(()=>!0)]=e.util;hM.has(t)||(hM.set(t,{Component:n,isSupported:r}),FC(n).filter((e=>!aM.includes(e))).forEach((e=>{uM.add(e),dM[e]?dM[e].push(t):dM[e]=[t]})))}))};var fM=[...ok,"init","update","undo","redo","revert","writehistory","destroy","show","hide","close","ready","zoom","pan","loadpreview","selectshape","blurshape","updateshape","addshape","removeshape","selectstyle","markuptap","markupzoom","markuppan","selectutil","selectcontrol","selectiondown","selectionup","selectionchange"];const gM=e=>Em(e[0]),mM=e=>!gM(e),yM=e=>e[1],bM=e=>e[3]||[];const vM=(e,t)=>{if(mM(t)){if(t.find((t=>yM(t)===e)))return t;const n=t.find((t=>vM(e,bM(t))));return n&&n[3]}return vM(e,bM(t))},wM={chrome:()=>[1.398,-.316,.065,-.273,.201,-.051,1.278,-.08,-.273,.201,-.051,.119,1.151,-.29,.215,0,0,0,1,0],fade:()=>[1.073,-.015,.092,-.115,-.017,.107,.859,.184,-.115,-.017,.015,.077,1.104,-.115,-.017,0,0,0,1,0],pastel:()=>[.75,.25,.25,0,0,.25,.75,.25,0,0,.25,.25,.75,0,0,0,0,0,1,0],cold:()=>[1.1,0,0,0,-.1,0,1.1,0,0,-.1,0,0,1.2,0,-.1,0,0,0,1,0],warm:()=>[1.06,0,0,0,0,0,1.01,0,0,0,0,0,.93,0,0,0,0,0,1,0],monoDefault:()=>[.212,.715,.114,0,0,.212,.715,.114,0,0,.212,.715,.114,0,0,0,0,0,1,0],monoWash:()=>[.163,.518,.084,-.01,.208,.163,.529,.082,-.02,.21,.171,.529,.084,0,.214,0,0,0,1,0],monoNoir:()=>[.15,1.3,-.25,.1,-.2,.15,1.3,-.25,.1,-.2,.15,1.3,-.25,.1,-.2,0,0,0,1,0],monoStark:()=>[.338,.991,.117,.093,-.196,.302,1.049,.096,.078,-.196,.286,1.016,.146,.101,-.196,0,0,0,1,0],sepiaDefault:()=>[.393,.768,.188,0,0,.349,.685,.167,0,0,.272,.533,.13,0,0,0,0,0,1,0],sepiaRust:()=>[.269,.764,.172,.05,.1,.239,.527,.152,0,.176,.186,.4,.119,0,.159,0,0,0,1,0],sepiaBlues:()=>[.289,.62,.185,0,.077,.257,.566,.163,0,.115,.2,.43,.128,0,.188,0,0,0,1,0],sepiaColor:()=>[.547,.764,.134,0,-.147,.281,.925,.12,0,-.135,.225,.558,.33,0,-.113,0,0,0,1,0]};var xM={filterFunctions:wM,filterOptions:[["Default",[[void 0,e=>e.labelDefault]]],["Classic",[["chrome",e=>e.filterLabelChrome],["fade",e=>e.filterLabelFade],["cold",e=>e.filterLabelCold],["warm",e=>e.filterLabelWarm],["pastel",e=>e.filterLabelPastel]]],["Monochrome",[["monoDefault",e=>e.filterLabelMonoDefault],["monoNoir",e=>e.filterLabelMonoNoir],["monoStark",e=>e.filterLabelMonoStark],["monoWash",e=>e.filterLabelMonoWash]]],["Sepia",[["sepiaDefault",e=>e.filterLabelSepiaDefault],["sepiaRust",e=>e.filterLabelSepiaRust],["sepiaBlues",e=>e.filterLabelSepiaBlues],["sepiaColor",e=>e.filterLabelSepiaColor]]]]};const $M={base:0,min:-.25,max:.25,getLabel:e=>AR(e/.25),getStore:e=>{let{imageColorMatrix:t}=e;return t},getValue:e=>{if(e.brightness)return e.brightness[4]},setValue:(e,t)=>e.update((e=>({...e,brightness:[1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0]})))},SM={base:1,min:.5,max:1.5,getLabel:e=>AR(2*(e-.5)-1),getStore:e=>{let{imageColorMatrix:t}=e;return t},getValue:e=>{if(e.contrast)return e.contrast[0]},setValue:(e,t)=>e.update((e=>({...e,contrast:[t,0,0,0,.5*(1-t),0,t,0,0,.5*(1-t),0,0,t,0,.5*(1-t),0,0,0,1,0]})))},kM={base:1,min:0,max:2,getLabel:e=>AR(e-1),getStore:e=>{let{imageColorMatrix:t}=e;return t},getValue:e=>{if(e.saturation)return(e.saturation[0]-.213)/.787},setValue:(e,t)=>e.update((e=>({...e,saturation:[.213+.787*t,.715-.715*t,.072-.072*t,0,0,.213-.213*t,.715+.285*t,.072-.072*t,0,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,0,1,0]})))},AM={base:1,min:.5,max:1.5,getLabel:e=>AR(2*(e-.5)-1),getStore:e=>{let{imageColorMatrix:t}=e;return t},getValue:e=>{if(e.exposure)return e.exposure[0]},setValue:(e,t)=>e.update((e=>({...e,exposure:[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0]})))},CM={base:1,min:.15,max:4,getLabel:e=>AR(e<1?(e-.15)/.85-1:(e-1)/3),getStore:e=>{let{imageGamma:t}=e;return t}};var EM={finetuneControlConfiguration:{gamma:CM,brightness:$M,contrast:SM,saturation:kM,exposure:AM,temperature:{base:0,min:-1,max:1,getStore:e=>{let{imageColorMatrix:t}=e;return t},getValue:e=>{if(!e.temperature)return;const t=e.temperature[0];return t>=1?(t-1)/.1:(1-t)/-.15},setValue:(e,t)=>e.update((e=>({...e,temperature:t>0?[1+.1*t,0,0,0,0,0,1,0,0,0,0,0,1+.1*-t,0,0,0,0,0,1,0]:[1+.15*t,0,0,0,0,0,1+.05*t,0,0,0,0,0,1+.15*-t,0,0,0,0,0,1,0]})))},clarity:{base:0,min:-1,max:1,getStore:e=>{let{imageConvolutionMatrix:t}=e;return t},getValue:e=>{if(e.clarity)return 0===e.clarity[0]?e.clarity[1]/-1:e.clarity[1]/-2},setValue:(e,t)=>{e.update((e=>({...e,clarity:t>=0?[0,-1*t,0,-1*t,1+4*t,-1*t,0,-1*t,0]:[-1*t,-2*t,-1*t,-2*t,1+-3*t,-2*t,-1*t,-2*t,-1*t]})))}},vignette:{base:0,min:-1,max:1,getStore:e=>{let{imageVignette:t}=e;return t}}},finetuneOptions:[["brightness",e=>e.finetuneLabelBrightness],["contrast",e=>e.finetuneLabelContrast],["saturation",e=>e.finetuneLabelSaturation],["exposure",e=>e.finetuneLabelExposure],["temperature",e=>e.finetuneLabelTemperature],["gamma",e=>e.finetuneLabelGamma],!cC()&&["clarity",e=>e.finetuneLabelClarity],["vignette",e=>e.finetuneLabelVignette]].filter(Boolean)};var TM={frameStyles:{solidSharp:{shape:{frameColor:[1,1,1],frameStyle:"solid",frameSize:"2.5%"},thumb:'<rect stroke-width="5" x="0" y="0" width="100%" height="100%"/>'},solidRound:{shape:{frameColor:[1,1,1],frameStyle:"solid",frameSize:"2.5%",frameRound:!0},thumb:'<rect stroke-width="5" x="0" y="0" width="100%" height="100%" rx="12%"/>'},lineSingle:{shape:{frameColor:[1,1,1],frameStyle:"line",frameInset:"2.5%",frameSize:".3125%",frameRadius:0},thumb:'<div style="top:.5em;left:.5em;right:.5em;bottom:.5em;box-shadow:inset 0 0 0 1px currentColor"></div>'},lineMultiple:{shape:{frameColor:[1,1,1],frameStyle:"line",frameAmount:2,frameInset:"2.5%",frameSize:".3125%",frameOffset:"1.25%",frameRadius:0},thumb:'<div style="top:.75em;left:.75em;right:.75em;bottom:.75em; outline: 3px double"></div>'},edgeSeparate:{shape:{frameColor:[1,1,1],frameStyle:"edge",frameInset:"2.5%",frameOffset:"5%",frameSize:".3125%"},thumb:'<div style="top:.75em;left:.5em;bottom:.75em;border-left:1px solid"></div><div style="top:.75em;right:.5em;bottom:.75em;border-right:1px solid"></div><div style="top:.5em;left:.75em;right:.75em;border-top:1px solid"></div><div style="bottom:.5em;left:.75em;right:.75em;border-bottom:1px solid"></div>'},edgeCross:{shape:{frameColor:[1,1,1],frameStyle:"edge",frameInset:"2.5%",frameSize:".3125%"},thumb:'<div style="top:-.5em;left:.5em;right:.5em;bottom:-.5em; box-shadow: inset 0 0 0 1px currentColor"></div><div style="top:.5em;left:-.5em;right:-.5em;bottom:.5em;box-shadow:inset 0 0 0 1px currentColor"></div>'},edgeOverlap:{shape:{frameColor:[1,1,1],frameStyle:"edge",frameOffset:"1.5%",frameSize:".3125%"},thumb:'<div style="top:.3125em;left:.5em;bottom:.3125em;border-left:1px solid"></div><div style="top:.3125em;right:.5em;bottom:.3125em;border-right:1px solid"></div><div style="top:.5em;left:.3125em;right:.3125em;border-top:1px solid"></div><div style="bottom:.5em;left:.3125em;right:.3125em;border-bottom:1px solid"></div>'},hook:{shape:{frameColor:[1,1,1],frameStyle:"hook",frameInset:"2.5%",frameSize:".3125%",frameLength:"5%"},thumb:'<div style="top:.5em;left:.5em;width:.75em;height:.75em; border-left: 1px solid;border-top: 1px solid;"></div><div style="top:.5em;right:.5em;width:.75em;height:.75em; border-right: 1px solid;border-top: 1px solid;"></div><div style="bottom:.5em;left:.5em;width:.75em;height:.75em; border-left: 1px solid;border-bottom: 1px solid;"></div><div style="bottom:.5em;right:.5em;width:.75em;height:.75em; border-right: 1px solid;border-bottom: 1px solid;"></div>'},polaroid:{shape:{frameColor:[1,1,1],frameStyle:"polaroid"},thumb:'<rect stroke-width="20%" x="-5%" y="-5%" width="110%" height="96%"/>'}},frameOptions:[[void 0,e=>e.labelNone],["solidSharp",e=>e.frameLabelMatSharp],["solidRound",e=>e.frameLabelMatRound],["lineSingle",e=>e.frameLabelLineSingle],["lineMultiple",e=>e.frameLabelLineMultiple],["edgeCross",e=>e.frameLabelEdgeCross],["edgeSeparate",e=>e.frameLabelEdgeSeparate],["edgeOverlap",e=>e.frameLabelEdgeOverlap],["hook",e=>e.frameLabelCornerHooks],["polaroid",e=>e.frameLabelPolaroid]]},PM=e=>e.charAt(0).toUpperCase()+e.slice(1);let RM=null;var MM=()=>{if(null===RM)if(um())try{RM=!1===document.fonts.check("16px TestNonExistingFont")}catch(yh){RM=!1}else RM=!1;return RM};const IM=(e,t)=>n=>n[t?"".concat(t).concat(PM(e)):e],LM=e=>[e,""+e],BM=(e,t)=>n=>[e[n],IM(n,t)],OM=e=>Array.isArray(e)&&e.every(Tv)?e.map(LM):e,FM=[1,.2549,.2118],NM=[1,1,1,0],DM={eraser:()=>({eraseRadius:8,cursorStyle:"ellipse",cursorSize:"eraseRadius"}),path:()=>({points:[],disableAddPoints:!1}),line:()=>({x1:0,y1:0,x2:0,y2:0,disableErase:!1}),rectangle:()=>({x:0,y:0,width:0,height:0}),ellipse:()=>({x:0,y:0,rx:0,ry:0}),text:()=>({x:0,y:0,text:"Text"})},zM=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(!DM[e])return;const{position:r="relative",inputMode:i="drag",isSelection:o=!1}=n||{};return[{...DM[e](),...t},{position:r,inputMode:i,isSelection:o}]},_M=e=>{const t={sharpie:zM("path",{bitmap:!0,strokeJoin:"round",strokeCap:"round",strokeWidth:"0.5%",strokeColor:[...FM],cursorStyle:"ellipse",cursorSize:"strokeWidth",disableErase:!1,disableResize:!0,disableMove:!0}),eraser:zM("eraser"),path:zM("path",{pathClose:void 0,strokeWidth:"0.5%",strokeColor:[...FM],backgroundColor:[0,0,0,0]},{inputMode:"step"}),line:zM("line",{strokeColor:[...FM],strokeWidth:"0.5%"}),arrow:zM("line",{lineStart:"none",lineEnd:"arrow-solid",strokeColor:[...FM],strokeWidth:"0.5%"}),rectangle:zM("rectangle",{strokeColor:[...NM],backgroundColor:[...FM]}),ellipse:zM("ellipse",{strokeColor:[...NM],backgroundColor:[...FM]}),text:zM("text",{color:[...FM],fontSize:"2%"})};return e&&Object.entries(e).forEach((e=>{let[n,r]=e;Array.isArray(r)?t[n]=r:km(r)&&t[n]&&(t[n]=[{...t[n][0],...r},t[n][1]])})),t},UM=(e,t,n)=>[e,t||IM(e,"shapeLabelTool"),{icon:IM(e,"shapeIconTool"),...n}],jM=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:["move","view","sharpie","eraser","path","line","arrow","rectangle","ellipse","text","preset"]).map((e=>Em(e)?UM(e):Array.isArray(e)?km(e[1])?UM(e[0],void 0,e[1]):UM(e[0],e[1],e[2]):void 0)).filter(Boolean)},HM=e=>Object.keys(e).map(BM(e,"labelSize")),WM=(e,t)=>{const{defaultKey:n,defaultValue:r,defaultOptions:i}=t||{},o=[];return n&&(o[0]=[r,e=>e[n],{...i}]),[...o,...e]},VM=e=>e.split(",").map((e=>e.trim())).some((e=>document.fonts.check("16px "+e))),GM=function(){return["ToggleSlider",{...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}]},QM=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return["ColorPicker",{options:WM(e),...t}]},qM=e=>function(t){return QM(t,{title:t=>t[e],...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}})},KM=qM("shapeTitleBackgroundColor"),ZM=qM("shapeTitleTextColor"),XM=(e,t)=>{const{title:n,optionHideLabel:r=!1,layout:i,optionIcon:o=!1}=t||{},a=OM(e),s=e.map((e=>{let[t]=e;return Em(t)?parseFloat(t):t})),l=Math.max(...s),c=Math.min(...s),u=l-c;return["radio"===i?"RadioGroup":"Dropdown",{title:!1===n?void 0:n||(e=>e.shapeTitleStrokeWidth),options:e=>{const n=t?a.map((e=>{const[t,n,i={}]=e,a=Em(t)?parseFloat(t):t,s=(a-c)/u;let l;return"line"===o?l='<path stroke="currentColor" stroke-linecap="square" stroke-width="'.concat(.1+.875*s,'em" d="M3,12 H20"/>'):"dot"===o?l='<circle fill="currentColor" cx="12" cy="12" r="'.concat(2+8*s,'"/>'):Em(o)?l=o:Tm(o)&&(l=o(a,s)),[t,n,{icon:l,hideLabel:r,...i}]})):a;return Rv(e,"backgroundColor")?WM(n,{defaultKey:"shapeLabelStrokeNone"}):WM(n)},onchange:(e,t)=>{if(!e)return;const n=t.strokeColor||[];if(n[3])return;const r=[...n];r[3]=1,t.strokeColor=r}}]},JM=(e,t)=>{const{title:n,layout:r}=t||{};return["radio"===r?"RadioGroup":"Dropdown",{title:n,options:WM(e)}]},YM=(e,t,n)=>["Dropdown",{title:e=>e[t],options:WM(e,{defaultKey:"labelNone",defaultOptions:{icon:'<g stroke="currentColor" stroke-linecap="round" stroke-width=".125em"><path d="M5,12 H14"/></g>'}}),optionIconStyle:n}],eI=e=>["ShorthandControl",e],tI=(e,t,n,r)=>{r||e.find((e=>{let[t]=e;return t===n}))||(r={defaultKey:"labelAuto",defaultValue:n});const i=OM(e);return["Dropdown",{title:t,options:WM(i,r),...r}]},nI={colorOptions:()=>(e=>Object.keys(e).map(BM(e,"shapeTitleColor")))({transparent:[1,1,1,0],white:[1,1,1],silver:[.8667,.8667,.8667],gray:[.6667,.6667,.6667],black:[0,0,0],navy:[0,.1216,.2471],blue:[0,.4549,.851],aqua:[.498,.8588,1],teal:[.2235,.8,.8],olive:[.2392,.6,.4392],green:[.1804,.8,.251],yellow:[1,.8627,0],orange:[1,.5216,.1059],red:[1,.2549,.2118],maroon:[.5216,.0784,.2941],fuchsia:[.9412,.0706,.7451],purple:[.6941,.051,.7882]}),lineEndStyleOptions:()=>(e=>e.map((e=>[hR(e),t=>t["shapeTitleLineDecoration"+PM(e)],{icon:t=>t["shapeIconLineDecoration"+PM(e)]}])))(["bar","arrow","arrowSolid","circle","circleSolid","square","squareSolid"]),fontFamilyOptions:()=>(e=>[...e])([["Helvetica, Arial, Verdana, 'Droid Sans', sans-serif","Sans Serif"],["'Arial Black', 'Avenir-Black', 'Arial Bold'","Black"],["'Arial Narrow', 'Futura-CondensedMedium'","Narrow"],["'Trebuchet MS'","Humanist"],["Georgia, 'Avenir-Black', 'Times New Roman', 'Droid Serif', serif","Serif"],["Palatino","Old-Style"],["'Times New Roman', 'TimesNewRomanPSMT'","Transitional"],["Menlo, Monaco, 'Lucida Console', monospace","Monospaced"],["'Courier New', monospace","Slab Serif"]]),fontStyleOptions:()=>(e=>e.map((e=>[e,t=>t["shapeLabelFontStyle"+e.filter((e=>"normal"!==e)).map(PM).join("")]])))([["normal","bold"],["italic","normal"],["italic","bold"]]),textAlignOptions:()=>["left","center","right"].map((e=>[e,t=>t["shapeTitleTextAlign"+PM(e)],{hideLabel:!0,icon:t=>t["shapeIconTextAlign"+PM(e)]}])),strokeWidthOptions:()=>HM({extraSmall:"0.25%",small:"0.5%",mediumSmall:"1%",medium:"1.75%",mediumLarge:"2.5%",large:"3.5%",extraLarge:"5%"}),brushSizeOptions:()=>HM(Object.entries({extraSmall:"0.25%",small:"0.5%",mediumSmall:"1%",medium:"1.75%",mediumLarge:"2.5%",large:"3.5%",extraLarge:"5%"}).reduce(((e,t)=>{let[n,r]=t;return e[n]=2*parseFloat(r)+"%",e}),{})),fontSizeOptions:()=>(e=>Object.keys(e).map(BM(e,"labelSize")))({extraSmall:"2%",small:"4%",mediumSmall:"8%",medium:"10%",mediumLarge:"15%",large:"20%",extraLarge:"25%"}),lineHeightOptions:()=>(e=>Object.keys(e).map(BM(e,"labelSize")))({extraSmall:"40%",small:"60%",mediumSmall:"100%",medium:"120%",mediumLarge:"140%",large:"180%",extraLarge:"220%"})},rI=new Intl.NumberFormat("default",{minimumFractionDigits:1,maximumFractionDigits:1}),iI=(e,t)=>Em(t)?e+"%":e,oI=(e,t,n,r)=>Em(r)?Math.round(e/n*100)+"%":""+rI.format(e),aI={getValue:e=>parseFloat(e),setValue:iI,label:oI,step:.05,labelClass:"PinturaPercentageLabel"},sI={factory:eI,options:{title:"Text shadow",controls:[["ToggleSlider","x",{...aI,min:-100,max:100,labelPrefix:"X"}],["ToggleSlider","y",{...aI,min:-100,max:100,labelPrefix:"Y"}],["ToggleSlider","blur",{...aI,min:0,max:25,labelPrefix:e=>e.shapeTitleTextShadowBlur}],["ColorPicker","color",{enablePresets:!1}]]}},lI={defaultColor:{factory:function(e){return QM(e,{title:e=>e.labelColor,...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}})},items:"colorOptions"},defaultNumber:{factory:GM},defaultPercentage:{factory:GM,options:{getValue:e=>parseFloat(e),setValue:e=>e+"%",step:.05,label:(e,t,n)=>Math.round(e/n*100)+"%",labelClass:"PinturaPercentageLabel"}},backgroundColor:{items:"colorOptions",factory:KM},strokeColor:{items:"colorOptions",factory:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return QM(e,{title:e=>e.shapeTitleStrokeColor,options:WM(e),buttonClass:"PinturaColorPickerButtonStroke",onchange:(e,n)=>{const r=n.strokeWidth;(Tv(r)||Em(r)?parseFloat(r):0)>0||(n.strokeWidth=t&&t.defaultStrokeWidth||"0.5%")},...t})}},strokeWidth:{items:"strokeWidthOptions",factory:XM},brushSize:{items:"brushSizeOptions",factory:e=>XM(e,{title:e=>e.shapeTitleBrushSize,layout:"radio",optionHideLabel:!0,optionIcon:(e,t)=>'<circle fill="currentColor" stroke-width=".05em" stroke="currentColor" fill-opacity=".25" cx="12" cy="12" r="'.concat(2+8*t,'"/>')})},drawMode:{factory:e=>{const{hideLabel:t=!0}=e||{};return JM(["new","add","subtract"].map((e=>[e,IM(e,"shapeLabelSelectionMode"),{icon:IM(e,"shapeIconSelectionMode"),hideLabel:t}])),{title:e=>e.shapeTitleSelectionMode,layout:"radio"})}},lineStart:{items:"lineEndStyleOptions",factory:e=>YM(e,"shapeTitleLineStart","transform: scaleX(-1)")},lineEnd:{items:"lineEndStyleOptions",factory:e=>YM(e,"shapeTitleLineEnd")},color:{items:"colorOptions",factory:ZM},fontFamily:{items:"fontFamilyOptions",factory:function(e){return["Dropdown",{title:e=>e.shapeTitleFontFamily,onload:e=>{let{options:t=[]}=e;MM()&&t.map((e=>{let[t]=e;return t})).filter(Boolean).filter((e=>!VM(e))).forEach((e=>{const t="PinturaFontTest-"+e.replace(/[^a-zA-Z0-9]+/g,"").toLowerCase();document.getElementById(t)||document.body.append(fm("span",{textContent:" ",id:t,class:"PinturaFontTest",style:"font-family:".concat(e,";font-size:0;color:transparent;")}))}))},ondestroy:()=>{MM()&&document.querySelectorAll(".PinturaFontTest").forEach((e=>e.remove()))},optionLabelStyle:e=>"font-family: "+e,options:WM(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{defaultKey:"labelDefault"}),optionFilter:e=>{if(!MM())return!0;const[t]=e;return!t||VM(t)}}]}},fontStyle_fontWeight:{items:"fontStyleOptions",factory:e=>["Dropdown",{title:e=>e.shapeTitleFontStyle,optionLabelStyle:e=>e&&"font-style:".concat(e[0],";font-weight:").concat(e[1]),options:WM(e,{defaultKey:"shapeLabelFontStyleNormal"})}]},fontSize:{items:"fontSizeOptions",factory:(e,t)=>tI(e,(e=>e.shapeTitleFontSize),"4%",t)},lineHeight:{items:"lineHeightOptions",factory:(e,t)=>tI(e,(e=>e.shapeTitleLineHeight),"120%",t)},textAlign:{items:"textAlignOptions",factory:e=>["RadioGroup",{title:e=>e.shapeTitleTextAlign,options:WM(e)}]},textShadowX_textShadowY_textShadowBlur_textShadowColor:sI,textOutlineWidth_textOutlineColor:{factory:eI,options:{title:"Text outline",controls:[["ToggleSlider","width",{getValue:e=>parseFloat(e),setValue:iI,label:oI,min:0,max:15,step:.05,labelClass:"PinturaPercentageLabel",labelPrefix:e=>e.shapeTitleTextOutlineWidth}],["ColorPicker","color",{enablePresets:!1}]]}},cornerRadius:{factory:"defaultPercentage",options:{min:0,max:50,title:e=>e.shapeTitleCornerRadius}},frameColor:{factory:"defaultColor"},frameSize:{factory:"defaultPercentage",options:{min:.2,max:10,title:e=>e.labelSize}},frameInset:{factory:"defaultPercentage",options:{min:.5,max:10,title:e=>e.labelOffset}},frameOffset:{factory:"defaultPercentage",options:{min:.5,max:10,title:e=>e.labelOffset}},frameRadius:{factory:"defaultPercentage",options:{min:.5,max:10,title:e=>e.labelRadius}},frameAmount:{factory:"defaultNumber",options:{min:1,max:5,step:1,title:e=>e.labelAmount}}},cI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={...lI,...e},n={};return Object.entries(t).forEach((e=>{let[r,i]=e;if(!/Options$/.test(r))if(lI[r]&&km(i)&&!Mv(i)){const{component:e,factory:i,items:o,options:a={}}=t[r];if(Em(i))n[r]=[i,a];else{const s=lI[r].items;let l=Em(s)?t[s]||nI[s]():void 0;Em(o)&&nI[o]?l=t[o]?t[o].every((e=>!Array.isArray(e)))?t[o].map((e=>[e,e])):t[o]:nI[o]():(o||a.items)&&(l=o||a.items);let c=i||lI[r].factory;Tm(c)?n[r]=l?c(l,a):c(a):e&&(n[r]=[e,{...a,items:o}])}}else n[r]=i})),n};function uI(e){let t,n,r,i,o;const a=e[7].default,s=Zx(a,e,e[6],null);return{c(){t=m$("div"),n=m$("div"),s&&s.c(),k$(n,"class","PinturaToolbarInner"),k$(t,"class","PinturaToolbar"),k$(t,"data-layout",e[1]),k$(t,"data-overflow",e[0])},m(a,l){f$(a,t,l),d$(t,n),s&&s.m(n,null),r=!0,i||(o=[x$(n,"measure",e[3]),i$(iC.call(null,n)),x$(t,"measure",e[2]),i$(iC.call(null,t))],i=!0)},p(e,n){let[i]=n;s&&s.p&&(!r||64&i)&&Yx(s,a,e,e[6],r?Jx(a,e[6],i,null):e$(e[6]),null),(!r||2&i)&&k$(t,"data-layout",e[1]),(!r||1&i)&&k$(t,"data-overflow",e[0])},i(e){r||(dS(s,e),r=!0)},o(e){hS(s,e),r=!1},d(e){e&&g$(t),s&&s.d(e),i=!1,Wx(o)}}}function dI(e,t,n){let r,i,{$$slots:o={},$$scope:a}=t,s=0,l=0,c=0;const u=()=>{n(0,i="compact"===r&&s>c?"overflow":void 0)};return e.$$set=e=>{"$$scope"in e&&n(6,a=e.$$scope)},e.$$.update=()=>{48&e.$$.dirty&&n(1,r=l>c?"compact":"default")},[i,r,e=>{let{detail:t}=e;const{width:r}=t;n(5,c=r),u()},e=>{let{detail:t}=e;const{width:r}=t;r>l&&n(4,l=r),s=r,i||u()},l,c,a,o]}class hI extends CS{constructor(e){super(),AS(this,e,dI,uI,Gx,{})}}function pI(e){let t,n,r,i;const o=e[5].default,a=Zx(o,e,e[4],null);return{c(){t=m$("div"),a&&a.c(),k$(t,"class",e[0])},m(o,s){f$(o,t,s),a&&a.m(t,null),n=!0,r||(i=[x$(t,"measure",(function(){Vx(e[1]&&e[3])&&(e[1]&&e[3]).apply(this,arguments)})),i$(e[2].call(null,t))],r=!0)},p(r,i){let[s]=i;e=r,a&&a.p&&(!n||16&s)&&Yx(a,o,e,e[4],n?Jx(o,e[4],s,null):e$(e[4]),null),(!n||1&s)&&k$(t,"class",e[0])},i(e){n||(dS(a,e),n=!0)},o(e){hS(a,e),n=!1},d(e){e&&g$(t),a&&a.d(e),r=!1,Wx(i)}}}function fI(e,t,n){let{$$slots:r={},$$scope:i}=t;const o=U$();let{class:a=null}=t;const s=H$("measurable");let l=!1;return D$((()=>n(1,l=!0))),e.$$set=e=>{"class"in e&&n(0,a=e.class),"$$scope"in e&&n(4,i=e.$$scope)},[a,l,s,e=>{let{detail:t}=e;return o("measure",t)},i,r]}class gI extends CS{constructor(e){super(),AS(this,e,fI,pI,Gx,{class:0})}}const mI=e=>({}),yI=e=>({}),bI=e=>({}),vI=e=>({}),wI=e=>({}),xI=e=>({});function $I(e){let t,n;const r=e[4].header,i=Zx(r,e,e[3],xI);return{c(){t=m$("div"),i&&i.c(),k$(t,"class","PinturaUtilHeader")},m(e,r){f$(e,t,r),i&&i.m(t,null),n=!0},p(e,t){i&&i.p&&(!n||8&t)&&Yx(i,r,e,e[3],n?Jx(r,e[3],t,wI):e$(e[3]),xI)},i(e){n||(dS(i,e),n=!0)},o(e){hS(i,e),n=!1},d(e){e&&g$(t),i&&i.d(e)}}}function SI(e){let t,n;const r=e[4].footer,i=Zx(r,e,e[3],yI);return{c(){t=m$("div"),i&&i.c(),k$(t,"class","PinturaUtilFooter")},m(e,r){f$(e,t,r),i&&i.m(t,null),n=!0},p(e,t){i&&i.p&&(!n||8&t)&&Yx(i,r,e,e[3],n?Jx(r,e[3],t,mI):e$(e[3]),yI)},i(e){n||(dS(i,e),n=!0)},o(e){hS(i,e),n=!1},d(e){e&&g$(t),i&&i.d(e)}}}function kI(e){let t,n,r,i,o,a,s=e[1]&&$I(e);const l=e[4].main,c=Zx(l,e,e[3],vI),u=c||function(e){let t,n;return t=new gI({props:{class:"PinturaStage"}}),t.$on("measure",e[5]),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p:zx,i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}(e);let d=e[2]&&SI(e);return{c(){s&&s.c(),t=v$(),n=m$("div"),u&&u.c(),r=v$(),d&&d.c(),i=v$(),o=w$(),k$(n,"class","PinturaUtilMain")},m(l,c){s&&s.m(l,c),f$(l,t,c),f$(l,n,c),u&&u.m(n,null),e[6](n),f$(l,r,c),d&&d.m(l,c),f$(l,i,c),f$(l,o,c),a=!0},p(e,n){let[r]=n;e[1]?s?(s.p(e,r),2&r&&dS(s,1)):(s=$I(e),s.c(),dS(s,1),s.m(t.parentNode,t)):s&&(cS(),hS(s,1,1,(()=>{s=null})),uS()),c&&c.p&&(!a||8&r)&&Yx(c,l,e,e[3],a?Jx(l,e[3],r,bI):e$(e[3]),vI),e[2]?d?(d.p(e,r),4&r&&dS(d,1)):(d=SI(e),d.c(),dS(d,1),d.m(i.parentNode,i)):d&&(cS(),hS(d,1,1,(()=>{d=null})),uS())},i(e){a||(dS(s),dS(u,e),dS(d),dS(!1),a=!0)},o(e){hS(s),hS(u,e),hS(d),hS(!1),a=!1},d(a){s&&s.d(a),a&&g$(t),a&&g$(n),u&&u.d(a),e[6](null),a&&g$(r),d&&d.d(a),a&&g$(i),a&&g$(o)}}}function AI(e,t,n){let{$$slots:r={},$$scope:i}=t,{hasHeader:o=!!t.$$slots.header}=t,{hasFooter:a=!!t.$$slots.footer}=t,{root:s}=t;return e.$$set=e=>{n(7,t=Ux(Ux({},t),t$(e))),"hasHeader"in e&&n(1,o=e.hasHeader),"hasFooter"in e&&n(2,a=e.hasFooter),"root"in e&&n(0,s=e.root),"$$scope"in e&&n(3,i=e.$$scope)},t=t$(t),[s,o,a,i,r,function(t){W$.call(this,e,t)},function(e){G$[e?"unshift":"push"]((()=>{s=e,n(0,s)}))}]}class CI extends CS{constructor(e){super(),AS(this,e,AI,kI,Gx,{hasHeader:1,hasFooter:2,root:0})}}function EI(e){let t,n;return{c(){t=m$("div"),k$(t,"class","PinturaRangeInputMeter"),k$(t,"style",n="transform: translateX(".concat(e[9].x-e[12].x,"px) translateY(").concat(e[9].y-e[12].y,"px)"))},m(n,r){f$(n,t,r),t.innerHTML=e[7]},p(e,r){128&r[0]&&(t.innerHTML=e[7]),512&r[0]&&n!==(n="transform: translateX(".concat(e[9].x-e[12].x,"px) translateY(").concat(e[9].y-e[12].y,"px)"))&&k$(t,"style",n)},d(e){e&&g$(t)}}}function TI(e){let t,n,r,i,o,a,s,l,c,u,d,h=e[9]&&EI(e);return{c(){t=m$("div"),n=m$("span"),r=v$(),i=m$("button"),o=b$(e[1]),s=v$(),l=m$("div"),h&&h.c(),k$(n,"class","PinturaRangeInputValue"),k$(i,"class","PinturaRangeInputReset"),k$(i,"type","button"),i.disabled=a=e[0]===e[2],k$(l,"class","PinturaRangeInputInner"),k$(l,"style",e[8]),k$(l,"data-value-limited",e[5]),k$(t,"class","PinturaRangeInput"),k$(t,"tabindex","0")},m(a,p){f$(a,t,p),d$(t,n),n.innerHTML=e[3],d$(t,r),d$(t,i),d$(i,o),d$(t,s),d$(t,l),h&&h.m(l,null),u||(d=[x$(i,"click",e[17]),x$(l,"interactionstart",e[13]),x$(l,"interactionupdate",e[15]),x$(l,"interactionend",e[16]),x$(l,"interactionrelease",e[14]),i$(c=eE.call(null,l,{inertia:e[6]})),x$(l,"measure",e[37]),i$(iC.call(null,l)),x$(t,"wheel",e[19],{passive:!1}),x$(t,"nudge",e[20]),i$(tE.call(null,t,{direction:"horizontal",preventDefault:!0}))],u=!0)},p(e,t){8&t[0]&&(n.innerHTML=e[3]),2&t[0]&&E$(o,e[1]),5&t[0]&&a!==(a=e[0]===e[2])&&(i.disabled=a),e[9]?h?h.p(e,t):(h=EI(e),h.c(),h.m(l,null)):h&&(h.d(1),h=null),256&t[0]&&k$(l,"style",e[8]),32&t[0]&&k$(l,"data-value-limited",e[5]),c&&Vx(c.update)&&64&t[0]&&c.update.call(null,{inertia:e[6]})},i:zx,o:zx,d(e){e&&g$(t),h&&h.d(),u=!1,Wx(d)}}}function PI(e,t,n){let r,i,o,a,s,l,c,u,d,h,{labelReset:p="Reset"}=t,{direction:f="x"}=t,{min:g=0}=t,{max:m=1}=t,{base:y=g}=t,{value:b=0}=t,{valueLabel:v=0}=t,{valueMin:w}=t,{valueMax:x}=t,{oninputstart:$=om}=t,{oninputmove:S=om}=t,{oninputend:k=om}=t,{elasticity:A=0}=t,{nudgeMultiplier:C}=t,{step:E=8}=t;const T=H$("isAnimated");Kx(e,T,(e=>n(6,u=e)));const P=H$("fixScrollDirection");Kx(e,P,(e=>n(43,d=e)));const R=(e,t,n)=>Math.ceil((e-n)/t)*t+n;let M,I,L;const B={x:2,y:0},O=(e,t,n)=>"M ".concat(e-n," ").concat(t," a ").concat(n," ").concat(n," 0 1 0 0 -1");let F,N,D=!1,z={snap:!1,elastic:!1};const _=(e,t,n)=>{const r=e[f]+t[f],i=qS(r,F[1][f],F[0][f]),o=A?i+nE(r-i,A):i,a=n.elastic?o:i,s=hy(0,0);return s[f]=a,U.set(s,{hard:n.snap}),qS(H(s,f),g,m)},U=jA();Kx(e,U,(e=>n(9,h=e)));const j=(e,t)=>{const n=.5*(M[t]-a[t])-(JT(e,g,m)*a[t]-.5*a[t]);return{x:"x"===t?n:0,y:"y"===t?n:0}},H=(e,t)=>{const n=-(e[t]-.5*M[t])/a[t];return g+n*r},W=U.subscribe((e=>{e&&N&&S(qS(H(e,f),g,m))})),V=e=>{const t=[j(null!=w?w:g,f),j(null!=x?x:m,f)],n={x:"x"===f?h.x+e:0,y:"y"===f?h.y+e:0},r=qS(n[f],t[1][f],t[0][f]),i={...h,[f]:r};r$(U,h=i,h);const o=qS(H(i,f),g,m);$(),S(o),k(o)};return _$((()=>{W()})),e.$$set=e=>{"labelReset"in e&&n(1,p=e.labelReset),"direction"in e&&n(21,f=e.direction),"min"in e&&n(22,g=e.min),"max"in e&&n(23,m=e.max),"base"in e&&n(2,y=e.base),"value"in e&&n(0,b=e.value),"valueLabel"in e&&n(3,v=e.valueLabel),"valueMin"in e&&n(24,w=e.valueMin),"valueMax"in e&&n(25,x=e.valueMax),"oninputstart"in e&&n(26,$=e.oninputstart),"oninputmove"in e&&n(27,S=e.oninputmove),"oninputend"in e&&n(28,k=e.oninputend),"elasticity"in e&&n(29,A=e.elasticity),"nudgeMultiplier"in e&&n(30,C=e.nudgeMultiplier),"step"in e&&n(31,E=e.step)},e.$$.update=()=>{if(12582912&e.$$.dirty[0]&&n(33,r=m-g),20971520&e.$$.dirty[0]&&n(35,i=null!=w?Math.max(w,g):g),41943040&e.$$.dirty[0]&&n(34,o=null!=x?Math.min(x,m):m),12582916&e.$$.dirty[0]&&n(36,s=JT(y,g,m)),16&e.$$.dirty[0]|32&e.$$.dirty[1]&&M){const e=.5*M.y;let t,r=40*s,i="",o=M.y,a="";for(let n=0;n<=40;n++){const o=B.x+10*n,s=e;i+=O(o,s,n%5==0?2:.75)+" ",t=o+B.x,n===r&&(a='<path d="M'.concat(o," ").concat(s-4,' l2 3 l-2 -1 l-2 1 z"/>'))}n(7,I='<svg width="'.concat(t,'" height="').concat(o,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ').concat(t," ").concat(o,'" aria-hidden="true" focusable="false">\n        ').concat(a,'\n        <rect rx="4" ry="4" y="').concat(e-4,'"" height="8"/>\n        <path fill-rule="evenodd" d="').concat(i.trim(),'"/></svg>')),n(32,L={x:t-2*B.x,y:o})}16&e.$$.dirty[0]|2&e.$$.dirty[1]&&(a=M&&L),12582912&e.$$.dirty[0]|24&e.$$.dirty[1]&&n(5,l=i!==g||o!==m),32&e.$$.dirty[0]|24&e.$$.dirty[1]&&n(8,c=l?function(e,t){const n=1/40,r=JT(e,g,m),i=JT(t,g,m);return"--range-mask-from:".concat(100*ly(R(r,n,0)-.0125),"%;--range-mask-to:").concat(100*ly(R(i,n,0)-.0125),"%")}(i,o):""),2097233&e.$$.dirty[0]|4&e.$$.dirty[1]&&r&&M&&M.x&&M.y&&U.set(j(b,f),{hard:!1===u})},[b,p,y,v,M,l,u,I,c,h,T,P,B,()=>{D=!1,N=qx(U),F=[j(null!=w?w:g,f),j(null!=x?x:m,f)],$()},()=>{D=!0},e=>{let{detail:t}=e;z.snap=!D,z.elastic=!D,_(N,t.translation,z)},e=>{let{detail:t}=e;z.snap=!1,z.elastic=!1;const n=_(N,t.translation,z);if(N=void 0,F=void 0,Math.abs(n-y)<.01)return k(y);k(n)},()=>{n(0,b=qS(y,i,o)),$(),k(b)},U,e=>{e.preventDefault(),e.stopPropagation();const t=oE(e,{fixScrollDirection:d})*E;V(t)},e=>{let{detail:t}=e;V(t[f]*Math.abs(C||8))},f,g,m,w,x,$,S,k,A,C,E,L,r,o,i,s,e=>n(4,M=(e=>hy(e.width,e.height))(e.detail))]}class RI extends CS{constructor(e){super(),AS(this,e,PI,TI,Gx,{labelReset:1,direction:21,min:22,max:23,base:2,value:0,valueLabel:3,valueMin:24,valueMax:25,oninputstart:26,oninputmove:27,oninputend:28,elasticity:29,nudgeMultiplier:30,step:31},null,[-1,-1])}}var MI={[Ym]:e=>({x:e.x,y:e.y}),[iy]:e=>({x:e.x+e.width,y:e.y}),[ey]:e=>({x:e.x+e.width,y:e.y}),[oy]:e=>({x:e.x+e.width,y:e.y+e.height}),[ty]:e=>({x:e.x,y:e.y+e.height}),[ay]:e=>({x:e.x,y:e.y+e.height}),[ny]:e=>({x:e.x,y:e.y}),[ry]:e=>({x:e.x,y:e.y})};function II(e,t,n){const r=e.slice();return r[14]=t[n].key,r[15]=t[n].translate,r[16]=t[n].scale,r[17]=t[n].type,r[18]=t[n].opacity,r}function LI(e,t){let n,r,i,o,a,s,l,c;return{key:e,first:null,c(){n=m$("div"),k$(n,"role","button"),k$(n,"aria-label",r="Drag ".concat(t[17]," ").concat(t[14])),k$(n,"tabindex",i="edge"===t[17]?-1:0),k$(n,"class","PinturaRectManipulator"),k$(n,"data-direction",o=t[14]),k$(n,"data-shape",a="edge"===t[17]?"edge":""+t[0]),k$(n,"style",s="--tx:".concat(t[15].x,";--ty:").concat(t[15].y,";--sx:").concat(t[16].x,";--sy:").concat(t[16].y,";opacity:").concat(t[18])),this.first=n},m(e,r){f$(e,n,r),l||(c=[x$(n,"nudge",(function(){Vx(t[6](t[14]))&&t[6](t[14]).apply(this,arguments)})),i$(tE.call(null,n,{preventDefault:!0})),x$(n,"interactionstart",(function(){Vx(t[5]("resizestart",t[14]))&&t[5]("resizestart",t[14]).apply(this,arguments)})),x$(n,"interactionupdate",(function(){Vx(t[5]("resizemove",t[14]))&&t[5]("resizemove",t[14]).apply(this,arguments)})),x$(n,"interactionend",(function(){Vx(t[5]("resizeend",t[14]))&&t[5]("resizeend",t[14]).apply(this,arguments)})),i$(eE.call(null,n))],l=!0)},p(e,l){t=e,2&l&&r!==(r="Drag ".concat(t[17]," ").concat(t[14]))&&k$(n,"aria-label",r),2&l&&i!==(i="edge"===t[17]?-1:0)&&k$(n,"tabindex",i),2&l&&o!==(o=t[14])&&k$(n,"data-direction",o),3&l&&a!==(a="edge"===t[17]?"edge":""+t[0])&&k$(n,"data-shape",a),2&l&&s!==(s="--tx:".concat(t[15].x,";--ty:").concat(t[15].y,";--sx:").concat(t[16].x,";--sy:").concat(t[16].y,";opacity:").concat(t[18]))&&k$(n,"style",s)},d(e){e&&g$(n),l=!1,Wx(c)}}}function BI(e){let t,n=[],r=new Map,i=e[1];const o=e=>e[14];for(let a=0;a<i.length;a+=1){let t=II(e,i,a),s=o(t);r.set(s,n[a]=LI(s,t))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=w$()},m(e,r){for(let t=0;t<n.length;t+=1)n[t].m(e,r);f$(e,t,r)},p(e,a){let[s]=a;99&s&&(i=e[1],n=bS(n,s,o,1,e,i,r,t.parentNode,mS,LI,t,II))},i:zx,o:zx,d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&g$(t)}}}function OI(e,t,n){let r,i,o,a,{rect:s=null}=t,{visible:l=!1}=t,{style:c}=t;const u=H$("isAnimated");Kx(e,u,(e=>n(11,a=e)));const d=jA(void 0,{precision:1e-4,stiffness:.2,damping:.4});Kx(e,d,(e=>n(10,o=e)));const h=jA(0,{precision:.001});let p;Kx(e,h,(e=>n(9,i=e)));const f=U$();return e.$$set=e=>{"rect"in e&&n(7,s=e.rect),"visible"in e&&n(8,l=e.visible),"style"in e&&n(0,c=e.style)},e.$$.update=()=>{2304&e.$$.dirty&&d.set(l?1:.5,{hard:!1===a}),2304&e.$$.dirty&&h.set(l?1:0,{hard:!1===a}),1664&e.$$.dirty&&n(1,r=Object.keys(Jm).map(((e,t)=>{const n=Jm[e],r=MI[n](s),a=1===n.length?"edge":"corner",l="corner"===a;return{key:n,type:a,scale:{x:/^(t|b)$/.test(n)?s.width:l?qS(o,.5,1.25):1,y:/^(r|l)$/.test(n)?s.height:l?qS(o,.5,1.25):1},translate:{x:r.x,y:r.y},opacity:i}})))},[c,r,u,d,h,(e,t)=>n=>{let{detail:r}=n;p&&t!==p||"resizestart"!==e&&void 0===p||("resizestart"===e&&(p=t),"resizeend"===e&&(p=void 0),f(e,{direction:t,translation:r&&r.translation}))},e=>t=>{let{detail:n}=t;f("resizestart",{direction:e,translation:{x:0,y:0}}),f("resizemove",{direction:e,translation:n}),f("resizeend",{direction:e,translation:{x:0,y:0}})},s,l,i,o,a]}class FI extends CS{constructor(e){super(),AS(this,e,OI,BI,Gx,{rect:7,visible:8,style:0})}}var NI=e=>{function t(t,n){e.dispatchEvent(new CustomEvent(t,{detail:n}))}const n=n=>{n.preventDefault(),e.addEventListener("gesturechange",r),e.addEventListener("gestureend",i),t("gesturedown")},r=e=>{e.preventDefault(),t("gestureupdate",e.scale)},i=e=>{t("gestureup",e.scale),e.preventDefault(),o()},o=()=>{e.removeEventListener("gesturechange",r),e.removeEventListener("gestureend",i)};return e.addEventListener("gesturestart",n),{destroy:()=>{o(),e.removeEventListener("gesturestart",n)}}},DI={[Ym]:ty,[ey]:ny,[ty]:Ym,[ny]:ey,[ry]:oy,[iy]:ay,[oy]:ry,[ay]:iy},zI=e=>{const t=e===ny||e===ey,n=e===Ym||e===ty;return[e===ey||e===iy||e===oy,e===ny||e===ay||e===ry,e===Ym||e===iy||e===ry,e===ty||e===oy||e===ay,t,n,t||n]},_I=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{target:i,translate:o}=t,{aspectRatio:a,minSize:s,maxSize:l}=r,c=sy[DI[i]],u=$y(hy(e.x,e.y),hy(c[0]*e.width,c[1]*e.height)),d=sy[i],h=$y(Xy(e),hy(d[0]*e.width,d[1]*e.height)),[p,f,g,m,y,b,v]=zI(i);let w=o.x,x=o.y;y?x=0:b&&(w=0);const{inner:$,outer:S}=UI(u,i,n,{aspectRatio:a,minSize:s,maxSize:l});let[k,A,C,E]=xb(e);if(p?E=u.x:f&&(A=u.x),m?k=u.y:g&&(C=u.y),p){const e=$.x+$.width,t=S.x+S.width;A=qS(h.x+w,e,t)}else if(f){const e=S.x,t=$.x;E=qS(h.x+w,e,t)}if(m){const e=$.y+$.height,t=S.y+S.height;C=qS(h.y+x,e,t)}else if(g){const e=S.y,t=$.y;k=qS(h.y+x,e,t)}if(E>$.x&&(E=$.x),A<$.x+$.width&&(A=$.x+$.width),k>$.y&&(k=$.y),C<$.y+$.height&&(C=$.y+$.height),E<S.x){const e=S.x-E;E=S.x,A+=e}if(A>S.x+S.width){const e=A-(S.x+S.width);A=S.x+S.width,E-=e}if(k<S.y){const e=S.y-k;k=S.y,C+=e}if(C>S.y+S.height){const e=C-(S.y+S.height);C=S.y+S.height,k-=e}if(a)if(v){let e=A-E,t=C-k;y?(t=e/a,k=u.y-.5*t,C=u.y+.5*t):b&&(e=t*a,E=u.x-.5*e,A=u.x+.5*e)}else{const e=hy(h.x+w-u.x,h.y+x-u.y);i===iy?(e.x=Math.max(0,e.x),e.y=Math.min(0,e.y)):i===oy?(e.x=Math.max(0,e.x),e.y=Math.max(0,e.y)):i===ay?(e.x=Math.min(0,e.x),e.y=Math.max(0,e.y)):i===ry&&(e.x=Math.min(0,e.x),e.y=Math.min(0,e.y));const t=yy(e),n=yy(hy($.width,$.height)),r=yy(hy(S.width,S.height)),o=qS(t,n,r),s=hy(a,1),l=Ay(by(s),o);i===iy?(A=u.x+l.x,k=u.y-l.y):i===oy?(A=u.x+l.x,C=u.y+l.y):i===ay?(E=u.x-l.x,C=u.y+l.y):i===ry&&(E=u.x-l.x,k=u.y-l.y)}return ob(E,k,A-E,C-k)};const UI=(e,t,n,r)=>{const{aspectRatio:i,minSize:o,maxSize:a}=r,s=t===ey||t===iy||t===oy,l=t===ny||t===ay||t===ry,c=t===Ym||t===iy||t===ry,u=t===ty||t===oy||t===ay,d=t===ny||t===ey,h=t===Ym||t===ty,p=Xy(n);s?(p.x=e.x,p.width-=e.x):l&&(p.width=e.x),u?(p.y=e.y,p.height-=e.y):c&&(p.height=e.y);const f=((e,t)=>Zy(0,0,e,t))(Math.min(p.width,a.width),Math.min(p.height,a.height));if(i)if(d){const t=Math.min(e.y,n.height-e.y);f.height=Math.min(2*t,f.height)}else if(h){const t=Math.min(e.x,n.width-e.x);f.width=Math.min(2*t,f.width)}const g=i?Fy(vb(Yy(o),i)):o,m=i?Fy(wb(f,i)):f;let y,b,v,w;s?y=e.x:l&&(b=e.x),u?v=e.y:c&&(w=e.y),s?b=y+g.width:l&&(y=b-g.width),u?w=v+g.height:c&&(v=w-g.height),d?(v=e.y-.5*g.height,w=e.y+.5*g.height):h&&(y=e.x-.5*g.width,b=e.x+.5*g.width);const x=nb([hy(y,v),hy(b,w)]);return s?b=y+m.width:l&&(y=b-m.width),u?w=v+m.height:c&&(v=w-m.height),d?(v=e.y-.5*m.height,w=e.y+.5*m.height):h&&(y=e.x-.5*m.width,b=e.x+.5*m.width),y=Math.max(n.x,y),b=Math.min(n.x+n.width,b),v=Math.max(n.y,v),w=Math.min(n.y+n.height,w),{inner:x,outer:nb([hy(y,v),hy(b,w)])}};var jI=e=>180*e/Math.PI;function HI(e){let t,n,r;return n=new RI({props:{elasticity:e[5],min:e[9],max:e[10],value:e[11],valueMin:Math.max(e[9],e[0]),valueMax:Math.min(e[10],e[1]),labelReset:e[6],base:e[12],valueLabel:Math.round(jI(e[11]))+"&deg;",oninputstart:e[2],oninputmove:e[17],oninputend:e[18]}}),{c(){t=m$("div"),$S(n.$$.fragment),k$(t,"class","PinturaImageRotator")},m(e,i){f$(e,t,i),SS(n,t,null),r=!0},p(e,t){let[r]=t;const i={};32&r&&(i.elasticity=e[5]),512&r&&(i.min=e[9]),1024&r&&(i.max=e[10]),2048&r&&(i.value=e[11]),513&r&&(i.valueMin=Math.max(e[9],e[0])),1026&r&&(i.valueMax=Math.min(e[10],e[1])),64&r&&(i.labelReset=e[6]),4096&r&&(i.base=e[12]),2048&r&&(i.valueLabel=Math.round(jI(e[11]))+"&deg;"),4&r&&(i.oninputstart=e[2]),392&r&&(i.oninputmove=e[17]),400&r&&(i.oninputend=e[18]),n.$set(i)},i(e){r||(dS(n.$$.fragment,e),r=!0)},o(e){hS(n.$$.fragment,e),r=!1},d(e){e&&g$(t),kS(n)}}}function WI(e,t,n){let r,i,o,a,s,l,c,{rotation:u}=t,{valueMin:d}=t,{valueMax:h}=t,{oninputstart:p=om}=t,{oninputmove:f=om}=t,{oninputend:g=om}=t,{elasticity:m=0}=t,{labelReset:y}=t,{rotationMin:b}=t,{rotationMax:v}=t;return e.$$set=e=>{"rotation"in e&&n(13,u=e.rotation),"valueMin"in e&&n(0,d=e.valueMin),"valueMax"in e&&n(1,h=e.valueMax),"oninputstart"in e&&n(2,p=e.oninputstart),"oninputmove"in e&&n(3,f=e.oninputmove),"oninputend"in e&&n(4,g=e.oninputend),"elasticity"in e&&n(5,m=e.elasticity),"labelReset"in e&&n(6,y=e.labelReset),"rotationMin"in e&&n(14,b=e.rotationMin),"rotationMax"in e&&n(15,v=e.rotationMax)},e.$$.update=()=>{16384&e.$$.dirty&&n(9,r=b+1e-9),32768&e.$$.dirty&&n(10,i=v-1e-9),1536&e.$$.dirty&&n(12,o=r+.5*(i-r)),32768&e.$$.dirty&&n(16,a=2*v),8192&e.$$.dirty&&n(8,s=Math.sign(u)),73728&e.$$.dirty&&n(7,l=Math.round(Math.abs(u)/a)*a),8576&e.$$.dirty&&n(11,c=u-s*l)},[d,h,p,f,g,m,y,l,s,r,i,c,o,u,b,v,a,e=>f(s*l+e),e=>g(s*l+e)]}class VI extends CS{constructor(e){super(),AS(this,e,WI,HI,Gx,{rotation:13,valueMin:0,valueMax:1,oninputstart:2,oninputmove:3,oninputend:4,elasticity:5,labelReset:6,rotationMin:14,rotationMax:15})}}function GI(e){let t,n,r,i,o;return{c(){t=m$("div"),n=m$("p"),r=b$(e[0]),i=b$(" \xd7 "),o=b$(e[1]),k$(t,"class","PinturaImageInfo")},m(e,a){f$(e,t,a),d$(t,n),d$(n,r),d$(n,i),d$(n,o)},p(e,t){let[n]=t;1&n&&E$(r,e[0]),2&n&&E$(o,e[1])},i:zx,o:zx,d(e){e&&g$(t)}}}function QI(e,t,n){let{width:r}=t,{height:i}=t;return e.$$set=e=>{"width"in e&&n(0,r=e.width),"height"in e&&n(1,i=e.height)},[r,i]}class qI extends CS{constructor(e){super(),AS(this,e,QI,GI,Gx,{width:0,height:1})}}function KI(e){let t,n;return t=new kT({props:{class:"PinturaPresetListFilter",layout:"row",options:e[8],selectedIndex:e[7],onchange:e[10]}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};256&n&&(r.options=e[8]),128&n&&(r.selectedIndex=e[7]),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function ZI(e){let t,n;return t=new QT({props:{icon:e[0],label:e[1],labelClass:e[2],hideLabel:e[3],options:e[9],selectedIndex:e[4],onchange:e[5],optionMapper:e[6],$$slots:{controls:[KI]},$$scope:{ctx:e}}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){let[r]=n;const i={};1&r&&(i.icon=e[0]),2&r&&(i.label=e[1]),4&r&&(i.labelClass=e[2]),8&r&&(i.hideLabel=e[3]),512&r&&(i.options=e[9]),16&r&&(i.selectedIndex=e[4]),32&r&&(i.onchange=e[5]),64&r&&(i.optionMapper=e[6]),262528&r&&(i.$$scope={dirty:r,ctx:e}),t.$set(i)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}const XI='fill="none" stroke="currentColor"';function JI(e,t,n){let r,i,o,{icon:a}=t,{label:s}=t,{labelClass:l}=t,{hideLabel:c}=t,{options:u}=t,{selectedIndex:d}=t,{onchange:h}=t,{optionMapper:p}=t,{filter:f="landscape"}=t,{onfilterchange:g=om}=t;const m=(e,t,n,r,i)=>"\n    <rect ".concat(XI,' x="').concat(e,'" y="').concat(t,'" width="').concat(n,'" height="').concat(r,'" rx="').concat(i,'"/>'),y=(e,t)=>"<path ".concat(XI,' d="M').concat(e," ").concat(t,' l2 2 l3 -4"/>');return e.$$set=e=>{"icon"in e&&n(0,a=e.icon),"label"in e&&n(1,s=e.label),"labelClass"in e&&n(2,l=e.labelClass),"hideLabel"in e&&n(3,c=e.hideLabel),"options"in e&&n(12,u=e.options),"selectedIndex"in e&&n(4,d=e.selectedIndex),"onchange"in e&&n(5,h=e.onchange),"optionMapper"in e&&n(6,p=e.optionMapper),"filter"in e&&n(11,f=e.filter),"onfilterchange"in e&&n(13,g=e.onfilterchange)},e.$$.update=()=>{6144&e.$$.dirty&&n(9,r=((e,t)=>(e||[]).map((e=>Em(e[0])?(e[1]=e[1].map(t),e):t(e))))(u,(e=>t=>{const[n,r,i={}]=t;return Tv(n)&&(i.hidden="landscape"===e?n<1:n>1),[n,r,i]})(f))),2048&e.$$.dirty&&n(7,i="landscape"===f?0:1),128&e.$$.dirty&&n(8,o=[["landscape","Landscape",{hideLabel:!0,icon:m(2,6,19,12,2)+(0===i?y(9,12):"")}],["portrait","Portrait",{hideLabel:!0,icon:m(5,3,13,18,2)+(1===i?y(9,12):"")}]])},[a,s,l,c,d,h,p,i,o,r,e=>{n(11,f=e.value),g(e.value)},f,u,g]}class YI extends CS{constructor(e){super(),AS(this,e,JI,ZI,Gx,{icon:0,label:1,labelClass:2,hideLabel:3,options:12,selectedIndex:4,onchange:5,optionMapper:6,filter:11,onfilterchange:13})}}const eL=e=>xy(e,(e=>ly(e,6))),tL=e=>Sb(e,(e=>ly(e,6))),nL=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-4;return Math.abs(e-t)<n};var rL=function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const{aspectRatio:o}=i;e=tL(e),r=r.map(eL);const a=ub(e,DI[n.target]),s=xy(a,(e=>ly(e,6))),l=o?vb(i.minSize,o):i.minSize,c=o?wb(i.maxSize,o):i.maxSize,u=ub(t,n.target);if(Py(u,a)<1){t=Xy(e);const n=Math.min(l.width/e.width,l.height/e.height);lb(t,n,a)}t=cb(Xy(t),l,c,a);let d=Xy(t);t=tL(t);const h=Ib(r,1),p=$b(e),f=$b(t),g=p.findIndex((e=>wy(xy(e,(e=>ly(e,6))),s))),m=e=>h.map((t=>Eb(t,e))).filter(Boolean).pop();if(o){const t=f.map(((e,t)=>{if(t===g)return;const n=hy(a.x-e.x,a.y-e.y);by(n),Ay(n,.5);const r=hy(a.x-n.x,a.y-n.y),i=Gy(r,eL(e)),o=m(i);if(!o)return;const s=p[t];return{intersection:o,cornerDist:Py(a,s),intersectionDist:Py(a,o)}})).filter(Boolean);if(t.length){const n=t.reduce(((e,t)=>{const n=t.intersectionDist/t.cornerDist;return n<e?n:e}),Number.MAX_SAFE_INTEGER);d=Xy(e),lb(d,n,a)}}else{const e=1===n.target.length,i=!(r[0].y===r[1].y||r[0].x===r[1].x),o=p.map(((t,n)=>{if(n===g)return;const r=f[n],o=!nL(r.x,s.x)&&!nL(r.y,s.y);if(!e&&!i&&o)return;if(e&&(nL(r.x,s.x)||nL(r.y,s.y)))return;const l=fy(e?t:a),c=Sy(fy(l),r);by(c),Ay(c,.5),e?$y(l,c):Sy(l,c);const u=Gy(l,r);return m(u)||void 0})).filter(Boolean);if(o.length){const[e,r,i,l]=zI(n.target);let[c,u,h,p]=xb(t);o.forEach((t=>{let{x:n,y:o}=t;const a=ly(n,6),d=ly(o,6);i&&!nL(d,s.y)&&(c=Math.max(c,o)),e&&!nL(a,s.x)&&(u=Math.min(u,n)),l&&!nL(d,s.y)&&(h=Math.min(h,o)),r&&!nL(a,s.x)&&(p=Math.max(p,n))})),d=eb([c,u,h,p]),lb(d,.9999,a)}}return cb(d,l,c,a),d};function iL(e){let t,n;return t=new tR({props:{items:e[11]}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};2048&n[0]&&(r.items=e[11]),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function oL(e){let t,n,r;return n=new hI({props:{$$slots:{default:[iL]},$$scope:{ctx:e}}}),{c(){t=m$("div"),$S(n.$$.fragment),k$(t,"slot","header")},m(e,i){f$(e,t,i),SS(n,t,null),r=!0},p(e,t){const r={};2048&t[0]|4&t[7]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(dS(n.$$.fragment,e),r=!0)},o(e){hS(n.$$.fragment,e),r=!1},d(e){e&&g$(t),kS(n)}}}function aL(e){let t,n;return t=new XC({props:{onclick:e[88],label:e[4].cropLabelButtonRecenter,icon:e[4].cropIconButtonRecenter,class:"PinturaButtonCenter",disabled:!e[9],hideLabel:!0,style:"opacity: ".concat(e[29],"; transform: translate3d(").concat(e[30].x,"px, ").concat(e[30].y,"px, 0)")}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};16&n[0]&&(r.label=e[4].cropLabelButtonRecenter),16&n[0]&&(r.icon=e[4].cropIconButtonRecenter),512&n[0]&&(r.disabled=!e[9]),1610612736&n[0]&&(r.style="opacity: ".concat(e[29],"; transform: translate3d(").concat(e[30].x,"px, ").concat(e[30].y,"px, 0)")),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function sL(e){let t,n;return t=new FI({props:{rect:e[8],visible:e[12],style:e[1]}}),t.$on("resizestart",e[68]),t.$on("resizemove",e[69]),t.$on("resizeend",e[70]),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};256&n[0]&&(r.rect=e[8]),4096&n[0]&&(r.visible=e[12]),2&n[0]&&(r.style=e[1]),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function lL(e){let t,n;return t=new qI({props:{width:Math.round(e[13].width),height:Math.round(e[13].height)}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};8192&n[0]&&(r.width=Math.round(e[13].width)),8192&n[0]&&(r.height=Math.round(e[13].height)),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function cL(e){let t,n,r,i,o,a,s,l,c=e[21]&&e[10]&&aL(e),u=e[21]&&sL(e),d=e[22]&&lL(e);return{c(){t=m$("div"),n=m$("div"),c&&c.c(),r=v$(),u&&u.c(),o=v$(),d&&d.c(),k$(n,"class","PinturaStage"),k$(t,"slot","main")},m(h,p){f$(h,t,p),d$(t,n),c&&c.m(n,null),d$(n,r),u&&u.m(n,null),e[162](n),d$(t,o),d&&d.m(t,null),a=!0,s||(l=[i$(iC.call(null,n)),x$(n,"measure",e[160]),x$(n,"wheel",(function(){Vx(e[2]&&e[87])&&(e[2]&&e[87]).apply(this,arguments)}),{passive:!1}),x$(n,"interactionstart",e[74]),x$(n,"interactionupdate",e[75]),x$(n,"interactionrelease",e[77]),x$(n,"interactionend",e[76]),i$(i=eE.call(null,n,{drag:!0,inertia:!0,pinch:e[2],shouldStartInteraction:vL,getEventPosition:e[163]})),x$(n,"gesturedown",e[84]),x$(n,"gestureupdate",e[85]),x$(n,"gestureup",e[86]),i$(NI.call(null,n))],s=!0)},p(o,a){(e=o)[21]&&e[10]?c?(c.p(e,a),2098176&a[0]&&dS(c,1)):(c=aL(e),c.c(),dS(c,1),c.m(n,r)):c&&(cS(),hS(c,1,1,(()=>{c=null})),uS()),e[21]?u?(u.p(e,a),2097152&a[0]&&dS(u,1)):(u=sL(e),u.c(),dS(u,1),u.m(n,null)):u&&(cS(),hS(u,1,1,(()=>{u=null})),uS()),i&&Vx(i.update)&&16777220&a[0]&&i.update.call(null,{drag:!0,inertia:!0,pinch:e[2],shouldStartInteraction:vL,getEventPosition:e[163]}),e[22]?d?(d.p(e,a),4194304&a[0]&&dS(d,1)):(d=lL(e),d.c(),dS(d,1),d.m(t,null)):d&&(cS(),hS(d,1,1,(()=>{d=null})),uS())},i(e){a||(dS(c),dS(u),dS(d),a=!0)},o(e){hS(c),hS(u),hS(d),a=!1},d(n){n&&g$(t),c&&c.d(),u&&u.d(),e[162](null),d&&d.d(),s=!1,Wx(l)}}}function uL(e){let t,n,r,i;const o=[{class:"PinturaControlList"},{tabs:e[7]},e[18]];let a={$$slots:{default:[dL,e=>{let{tab:t}=e;return{218:t}},e=>{let{tab:t}=e;return[0,0,0,0,0,0,0,t?2:0]}]},$$scope:{ctx:e}};for(let c=0;c<o.length;c+=1)a=Ux(a,o[c]);t=new SC({props:a}),t.$on("select",e[161]);const s=[{class:"PinturaControlPanels"},{panelClass:"PinturaControlPanel"},{panels:e[17]},e[18]];let l={$$slots:{default:[fL,e=>{let{panel:t}=e;return{217:t}},e=>{let{panel:t}=e;return[0,0,0,0,0,0,0,t?1:0]}]},$$scope:{ctx:e}};for(let c=0;c<s.length;c+=1)l=Ux(l,s[c]);return r=new OC({props:l}),{c(){$S(t.$$.fragment),n=v$(),$S(r.$$.fragment)},m(e,o){SS(t,e,o),f$(e,n,o),SS(r,e,o),i=!0},p(e,n){const i=262272&n[0]?vS(o,[o[0],128&n[0]&&{tabs:e[7]},262144&n[0]&&wS(e[18])]):{};6&n[7]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i);const a=393216&n[0]?vS(s,[s[0],s[1],131072&n[0]&&{panels:e[17]},262144&n[0]&&wS(e[18])]):{};511721496&n[0]|5&n[7]&&(a.$$scope={dirty:n,ctx:e}),r.$set(a)},i(e){i||(dS(t.$$.fragment,e),dS(r.$$.fragment,e),i=!0)},o(e){hS(t.$$.fragment,e),hS(r.$$.fragment,e),i=!1},d(e){kS(t,e),e&&g$(n),kS(r,e)}}}function dL(e){let t,n,r=e[218].label+"";return{c(){t=m$("span"),n=b$(r)},m(e,r){f$(e,t,r),d$(t,n)},p(e,t){2&t[7]&&r!==(r=e[218].label+"")&&E$(n,r)},d(e){e&&g$(t)}}}function hL(e){let t,n;return t=new RI({props:{elasticity:e[25]*e[44],base:bL,min:e[23],max:yL,valueMin:e[27][0],valueMax:e[27][1],value:e[28],labelReset:e[4].labelReset,valueLabel:Math.round(100*e[28])+"%",oninputstart:e[81],oninputmove:e[82],oninputend:e[83]}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};33554432&n[0]&&(r.elasticity=e[25]*e[44]),8388608&n[0]&&(r.min=e[23]),134217728&n[0]&&(r.valueMin=e[27][0]),134217728&n[0]&&(r.valueMax=e[27][1]),268435456&n[0]&&(r.value=e[28]),16&n[0]&&(r.labelReset=e[4].labelReset),268435456&n[0]&&(r.valueLabel=Math.round(100*e[28])+"%"),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function pL(e){let t,n;return t=new VI({props:{elasticity:e[25]*e[44],rotation:e[14],labelReset:e[4].labelReset,valueMin:e[26][0],valueMax:e[26][1],rotationMin:-e[3],rotationMax:e[3],oninputstart:e[71],oninputmove:e[72],oninputend:e[73]}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};33554432&n[0]&&(r.elasticity=e[25]*e[44]),16384&n[0]&&(r.rotation=e[14]),16&n[0]&&(r.labelReset=e[4].labelReset),67108864&n[0]&&(r.valueMin=e[26][0]),67108864&n[0]&&(r.valueMax=e[26][1]),8&n[0]&&(r.rotationMin=-e[3]),8&n[0]&&(r.rotationMax=e[3]),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function fL(e){let t,n,r,i;const o=[pL,hL],a=[];function s(e,t){return e[217]===e[93]+"-rotation"?0:e[217]===e[93]+"-zoom"?1:-1}return~(t=s(e))&&(n=a[t]=o[t](e)),{c(){n&&n.c(),r=w$()},m(e,n){~t&&a[t].m(e,n),f$(e,r,n),i=!0},p(e,i){let l=t;t=s(e),t===l?~t&&a[t].p(e,i):(n&&(cS(),hS(a[l],1,1,(()=>{a[l]=null})),uS()),~t?(n=a[t],n?n.p(e,i):(n=a[t]=o[t](e),n.c()),dS(n,1),n.m(r.parentNode,r)):n=null)},i(e){i||(dS(n),i=!0)},o(e){hS(n),i=!1},d(e){~t&&a[t].d(e),e&&g$(r)}}}function gL(e){let t,n,r=e[19]&&uL(e);return{c(){t=m$("div"),r&&r.c(),k$(t,"slot","footer"),k$(t,"style",e[16])},m(e,i){f$(e,t,i),r&&r.m(t,null),n=!0},p(e,i){e[19]?r?(r.p(e,i),524288&i[0]&&dS(r,1)):(r=uL(e),r.c(),dS(r,1),r.m(t,null)):r&&(cS(),hS(r,1,1,(()=>{r=null})),uS()),(!n||65536&i[0])&&k$(t,"style",e[16])},i(e){n||(dS(r),n=!0)},o(e){hS(r),n=!1},d(e){e&&g$(t),r&&r.d()}}}function mL(e){let t,n,r;function i(t){e[164](t)}let o={hasHeader:e[20],$$slots:{footer:[gL],main:[cL],header:[oL]},$$scope:{ctx:e}};return void 0!==e[15]&&(o.root=e[15]),t=new CI({props:o}),G$.push((()=>xS(t,"root",i))),t.$on("measure",e[165]),{c(){$S(t.$$.fragment)},m(e,n){SS(t,e,n),r=!0},p(e,r){const i={};1048576&r[0]&&(i.hasHeader=e[20]),2146402302&r[0]|4&r[7]&&(i.$$scope={dirty:r,ctx:e}),!n&&32768&r[0]&&(n=!0,i.root=e[15],eS((()=>n=!1))),t.$set(i)},i(e){r||(dS(t.$$.fragment,e),r=!0)},o(e){hS(t.$$.fragment,e),r=!1},d(e){kS(t,e)}}}const yL=1,bL=0,vL=(e,t)=>e.target===t;function wL(e,t,n){let r,i,o,a,s,l,c,u,d,h,p,f,g,m,y,b,v,w,x,$,S,k,A,C,E,T,P,R,M,I,L,B,O,F,N,D,z,_,U,j,H,W,V,G,Q,q,K,Z,X,J,Y,ee,te,ne,re,ie,oe,ae,se,le,ce,ue,de,he,pe,fe,ge,me,ye,be,ve,we,xe=zx,$e=()=>(xe(),xe=Qx(Se,(e=>n(12,M=e))),Se);e.$$.on_destroy.push((()=>xe()));let{isActive:Se}=t;$e();let{stores:ke}=t,{cropImageSelectionCornerStyle:Ae="circle"}=t,{cropWillRenderImageSelectionGuides:Ce=((e,t)=>{const n="rotate"==e;return{rows:n?5:3,cols:n?5:3,opacity:.25*t}})}=t,{cropAutoCenterImageSelectionTimeout:Ee}=t,{cropEnableZoomMatchImageAspectRatio:Te=!0}=t,{cropEnableRotateMatchImageAspectRatio:Pe="never"}=t,{cropEnableRotationInput:Re=!0}=t,{cropEnableZoom:Me=!0}=t,{cropEnableZoomInput:Ie=!0}=t,{cropEnableZoomAutoHide:Le=!0}=t,{cropEnableImageSelection:Be=!0}=t,{cropEnableInfoIndicator:Oe=!1}=t,{cropEnableZoomTowardsWheelPosition:Fe=!0}=t,{cropEnableLimitWheelInputToCropSelection:Ne=!0}=t,{cropEnableCenterImageSelection:De=!0}=t,{cropEnableButtonRotateLeft:ze=!0}=t,{cropEnableButtonRotateRight:_e=!1}=t,{cropEnableButtonFlipHorizontal:Ue=!0}=t,{cropEnableButtonFlipVertical:je=!1}=t,{cropSelectPresetOptions:He}=t,{cropEnableSelectPreset:We=!0}=t,{cropEnableFilterMatchAspectRatio:Ve=!0}=t,{cropSelectPresetFilter:Ge=!1}=t,{cropEnableButtonToggleCropLimit:Qe=!1}=t,{cropWillRenderTools:qe=Qm}=t,{cropActiveTransformTool:Ke="rotation"}=t,{cropMinimizeToolbar:Ze="auto"}=t,{cropInteractionFocus:Xe="image"}=t,{cropRotationRange:Je=Zm}=t,{cropMaskOpacity:Ye=.85}=t,{locale:et={}}=t;const tt=H$("isAnimated");Kx(e,tt,(e=>n(139,I=e)));const nt=H$("elasticityMultiplier");Kx(e,nt,(e=>n(25,ge=e)));const rt=H$("redrawTrigger");Kx(e,rt,(e=>n(159,fe=e)));const it=H$("imageIsStatic");Kx(e,it,(e=>n(145,z=e)));const ot=H$("imageStaticVisualCorners");Kx(e,ot,(e=>n(181,ae=e)));const at=H$("fixScrollDirection");Kx(e,at,(e=>n(175,Y=e)));let st="idle";const lt=PS();Kx(e,lt,(e=>n(156,de=e)));const ct=()=>void 0===ie,ut=e=>1/e,dt=e=>{Ve&&Ge!==e&&(n(95,Ge=e),ie&&1!==ie&&ht()&&r$(qt,ie=ut(ie),ie))},ht=()=>{if(1===ie||!r)return!1;const e=ut(ie);return!!qE(de).find((t=>{let[n]=t;return n===e}))},pt=(e,t,n)=>Xm(n)?t.width===Math.round(e.height)||t.height===Math.round(e.width):t.width===Math.round(e.width)||t.height===Math.round(e.height),ft=e=>{if("never"!==Pe&&(ct()||"always"===Pe&&ht())&&((e,t,n)=>{const r=Vy(Hy(By(t),n),(e=>Math.abs(Math.round(e)))),i=jy(r),o=ab(e);return wy(i,o)})(_,K,Z)&&pt(_,K,Z)){r$(Ot,Z+=e,Z);const t=Xm(Z),n=t?K.height:K.width,r=t?K.width:K.height;r$(Wt,_=ob(0,0,n,r),_),ct()||r$(qt,ie=Gm(n,r),ie)}else r$(Ot,Z+=e,Z)},{history:gt,env:mt,isInteracting:yt,isInteractingFraction:bt,isTransformingImage:vt,rootRect:wt,stageRect:xt,utilRect:$t,utilRectPadded:St,rootLineColor:kt,allowPan:At,allowZoom:Ct,allowPlayPause:Et,rangeInputElasticity:Tt,presentationScalar:Pt,utilTools:Rt,imagePreviewModifiers:Mt,imageOutlineOpacity:It,imageFlipX:Lt,imageFlipY:Bt,imageRotation:Ot,imageRotationRange:Ft,imageOutputSize:Nt,imageSelectionRect:Dt,imageSelectionRectSnapshot:zt,imageSelectionRectIntent:_t,imageSelectionRectPresentation:Ut,imageCropRectIntent:jt,imageCropRectOrigin:Ht,imageCropRect:Wt,imageCropMinSize:Vt,imageCropMaxSize:Gt,imageCropRange:Qt,imageCropAspectRatio:qt,imageCropLimitToImage:Kt,imageSize:Zt,imageScalar:Xt,imageOverlayMarkup:Jt,stagePadded:Yt,stageRecenter:en}=ke;let tn;Kx(e,mt,(e=>n(140,L=e))),Kx(e,yt,(e=>n(144,D=e))),Kx(e,vt,(e=>n(173,Q=e))),Kx(e,wt,(e=>n(24,ee=e))),Kx(e,xt,(e=>n(151,G=e))),Kx(e,St,(e=>n(148,H=e))),Kx(e,Pt,(e=>n(147,j=e))),Kx(e,Rt,(e=>n(183,le=e))),Kx(e,Mt,(e=>n(172,F=e))),Kx(e,Lt,(e=>n(158,pe=e))),Kx(e,Bt,(e=>n(157,he=e))),Kx(e,Ot,(e=>n(14,Z=e))),Kx(e,Ft,(e=>n(26,me=e))),Kx(e,Nt,(e=>n(184,ce=e))),Kx(e,Dt,(e=>n(150,V=e))),Kx(e,zt,(e=>n(149,W=e))),Kx(e,_t,(e=>n(182,se=e))),Kx(e,Ut,(e=>n(143,N=e))),Kx(e,jt,(e=>n(176,te=e))),Kx(e,Ht,(e=>n(178,re=e))),Kx(e,Wt,(e=>n(13,_=e))),Kx(e,Vt,(e=>n(154,J=e))),Kx(e,Gt,(e=>n(180,oe=e))),Kx(e,Qt,(e=>n(177,ne=e))),Kx(e,qt,(e=>n(179,ie=e))),Kx(e,Kt,(e=>n(153,X=e))),Kx(e,Zt,(e=>n(152,K=e))),Kx(e,Xt,(e=>n(146,U=e))),Kx(e,Yt,(e=>n(142,O=e)));const nn=(e,t)=>{const n={target:e,translate:t},r=Uy(By(J),j),i=Uy(By(oe),j);let o=_I(W,n,{...H,x:0,y:0},{aspectRatio:ie,minSize:r,maxSize:i});if(o=((e,t,n)=>{const[r,i,o,a]=xb(e),s={...e};if(r<t.y&&(e.height=e.height-(t.y-r),e.y=t.y),i>t.x+t.width&&(e.width=t.x+t.width-e.x),o>t.y+t.height&&(e.height=t.y+t.height-e.y),a<t.x&&(e.width=e.width-(t.x-a),e.x=t.x),n){const t=Math.min(1,s.width/e.width,s.height/e.height);return db(s,t)}return e})(o,{...H,x:0,y:0},ie),!X)return{boundsLimited:o,boundsIntent:o};let a=rL(W,o,n,ae,{aspectRatio:ie,minSize:r,maxSize:i});return{boundsLimited:a,boundsIntent:a}},rn=(e,t)=>{const n={target:e,translate:t},r=Uy(By(J),j),i=Uy(By(oe),j),o=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{target:r,translate:i}=t,{aspectRatio:o,minSize:a}=n,s=sy[DI[r]],l=$y(Xy(e),hy(s[0]*e.width,s[1]*e.height)),c=sy[r],u=$y(Xy(e),hy(c[0]*e.width,c[1]*e.height)),[d,h,p,f,g,m,y]=zI(r);let b=i.x,v=i.y;g?v=0:m&&(b=0);let[w,x,$,S]=xb(e);if(d?S=l.x:h&&(x=l.x),f?w=l.y:p&&($=l.y),d?x=u.x+b:h&&(S=u.x+b),f?$=u.y+v:p&&(w=u.y+v),a&&g&&$-w<a.height){const e=a.height-($-w);w-=.5*e,$+=.5*e}if(a&&m&&x-S<a.width){const e=a.width-(x-S);S-=.5*e,x+=.5*e}if(o)if(y){let e=x-S,t=$-w;g?(t=e/o,w=l.y-.5*t,$=l.y+.5*t):m&&(e=t*o,S=l.x-.5*e,x=l.x+.5*e)}else{const e=hy(u.x+b-l.x,u.y+v-l.y);r===iy?(e.x=Math.max(0,e.x),e.y=Math.min(0,e.y)):r===oy?(e.x=Math.max(0,e.x),e.y=Math.max(0,e.y)):r===ay?(e.x=Math.min(0,e.x),e.y=Math.max(0,e.y)):r===ry&&(e.x=Math.min(0,e.x),e.y=Math.min(0,e.y));const t=yy(e),n=hy(o,1),i=Ay(by(n),t);r===iy?(x=l.x+i.x,w=l.y-i.y):r===oy?(x=l.x+i.x,$=l.y+i.y):r===ay?(S=l.x-i.x,$=l.y+i.y):r===ry&&(S=l.x-i.x,w=l.y-i.y)}return ob(S,w,x-S,$-w)}(W,n,{aspectRatio:ie,minSize:r});return{boundsLimited:_I(W,n,{...H,x:0,y:0},{aspectRatio:ie,minSize:r,maxSize:i}),boundsIntent:o}};let on,an;const sn=e=>{let{translation:t,scalar:n}=e;z&&(n=1,t=gy(fy(t)));const r=Math.min(V.width/_.width,V.height/_.height),i=Ay(fy(t),1/r);let o;if(an){const e=Sy(fy(an),t);an=t,o=sb(Xy(_),e)}else o=sb(Xy(on),gy(fy(i))),void 0!==n&&lb(o,1/n);r$(jt,te=o,te),r$(Wt,_=o,_)},ln=RS([Qt,Wt],((e,t)=>{let[n,r]=e;if(!r)return;const[i,o]=n,a=pb(r);t([Fy(Sb(vb(i,a),ly)),Fy(Sb(wb(o,a),ly))])}));Kx(e,ln,(e=>n(174,q=e)));const cn=RS([Zt,Kt,Vt,Gt,Qt,Ot],((e,t)=>{let[n,r,i,o,a,s]=e;if(!n)return;const l=a[0],c=a[1];let u,d;r?(u=((e,t,n)=>Xm(n)?1-1/Math.min(e.height/t.width,e.width/t.height):1-1/Math.min(e.width/t.width,e.height/t.height))(n,c,s),d=Math.min(l.width/i.width,l.height/i.height)):(u=-1,d=1),t([u,d].map((e=>ly(e))))}));Kx(e,cn,(e=>n(27,ye=e)));const un=RS([Zt,Wt,Qt,Ot],((e,t)=>{let n,[r,i,o,a]=e;if(!r||!i)return t(0);const s=o[0],l=o[1],c=i.width,u=i.height,d=pb(i),h=Xm(a)?zy(r.height,r.width):r,p=wb(h,d);if(c<=p.width||u<=p.height){const e=p.width-s.width,t=p.height-s.height;n=0===e||0===t?1:1-Math.min((c-s.width)/e,(u-s.height)/t)}else{const e=l.width-p.width,t=l.height-p.height,r=wb({width:e,height:t},d);n=-Math.min((c-p.width)/r.width,(u-p.height)/r.height)}t(n)}));Kx(e,un,(e=>n(28,be=e)));const dn=e=>{const t=pb(on);let n,r,i;const o=Xm(Z)?zy(K.height,K.width):K,a=wb(o,t);if(e>=0){const o=a.width-ne[0].width,s=a.height-ne[0].height;n=a.width-o*e,r=a.height-s*e,i=vb({width:n,height:r},t)}else{const o=ne[1].width-a.width,s=ne[1].height-a.height;n=a.width+o*-e,r=a.height+s*-e,i=wb({width:n,height:r},t)}n=i.width,r=i.height;const s=on.x+.5*on.width-.5*n,l=on.y+.5*on.height-.5*r;r$(Wt,_={x:s,y:l,width:n,height:r},_)};let hn;const pn=e=>{const t=lb(Xy(hn),1/e);r$(jt,te=t,te),r$(Wt,_=t,_)};let fn;const gn=()=>{en.set({})};let mn;const yn=jA(0,{precision:1e-4});Kx(e,yn,(e=>n(29,ve=e)));const bn=jA();Kx(e,bn,(e=>n(30,we=e)));const vn=RS([qt,Nt,lt],((e,t)=>{let[n,i,o]=e;if(!r)return;const a=qE(o),s=[...a].map((e=>e[0])).sort(((e,t)=>Mv(e[0])&&!Mv(t[0])?1:-1)).find((e=>{if(Mv(e)&&i){const[t,r]=e,o=i.width===t&&i.height===r,a=n===Gm(t,r);return o&&a}return e===n}));if(!s)return t(void 0);t(a.map((e=>e[0])).findIndex((e=>Mv(e)?YS(e,s):e===s)))}));Kx(e,vn,(e=>n(155,ue=e)));const wn=(e,t)=>{if(!r||-1===e||void 0===e)return;const n=qE(t)[e][0];return n?Mv(n)?Gm(n[0],n[1]):n:void 0},xn=RS([kt,Ut,bt],((e,t)=>{let[n,r,i]=e;const{rows:o,cols:a,opacity:s}=Ce(st,i);if(!r||s<=0)return t([]);const{x:l,y:c,width:u,height:d}=r,h=u/a,p=d/o,f=[];for(let g=1;g<=o-1;g++){const e=c+p*g;f.push({id:"image-selection-guide-row-"+g,points:[hy(l,e),hy(l+u,e)],opacity:s,strokeWidth:1,strokeColor:n})}for(let g=1;g<=a-1;g++){const e=l+h*g;f.push({id:"image-selection-guide-col-"+g,points:[hy(e,c),hy(e,c+d)],opacity:s,strokeWidth:1,strokeColor:n})}t(f)}));Kx(e,xn,(e=>n(141,B=e)));const $n="crop-"+Mm();let Sn,kn,An=$n+"-"+(Re?Ke:"zoom"),Cn=An;const En=jA(I?20:0);return Kx(e,En,(e=>n(138,R=e))),e.$$set=e=>{"isActive"in e&&$e(n(0,Se=e.isActive)),"stores"in e&&n(97,ke=e.stores),"cropImageSelectionCornerStyle"in e&&n(1,Ae=e.cropImageSelectionCornerStyle),"cropWillRenderImageSelectionGuides"in e&&n(98,Ce=e.cropWillRenderImageSelectionGuides),"cropAutoCenterImageSelectionTimeout"in e&&n(99,Ee=e.cropAutoCenterImageSelectionTimeout),"cropEnableZoomMatchImageAspectRatio"in e&&n(100,Te=e.cropEnableZoomMatchImageAspectRatio),"cropEnableRotateMatchImageAspectRatio"in e&&n(101,Pe=e.cropEnableRotateMatchImageAspectRatio),"cropEnableRotationInput"in e&&n(102,Re=e.cropEnableRotationInput),"cropEnableZoom"in e&&n(2,Me=e.cropEnableZoom),"cropEnableZoomInput"in e&&n(103,Ie=e.cropEnableZoomInput),"cropEnableZoomAutoHide"in e&&n(104,Le=e.cropEnableZoomAutoHide),"cropEnableImageSelection"in e&&n(105,Be=e.cropEnableImageSelection),"cropEnableInfoIndicator"in e&&n(106,Oe=e.cropEnableInfoIndicator),"cropEnableZoomTowardsWheelPosition"in e&&n(107,Fe=e.cropEnableZoomTowardsWheelPosition),"cropEnableLimitWheelInputToCropSelection"in e&&n(108,Ne=e.cropEnableLimitWheelInputToCropSelection),"cropEnableCenterImageSelection"in e&&n(109,De=e.cropEnableCenterImageSelection),"cropEnableButtonRotateLeft"in e&&n(110,ze=e.cropEnableButtonRotateLeft),"cropEnableButtonRotateRight"in e&&n(111,_e=e.cropEnableButtonRotateRight),"cropEnableButtonFlipHorizontal"in e&&n(112,Ue=e.cropEnableButtonFlipHorizontal),"cropEnableButtonFlipVertical"in e&&n(113,je=e.cropEnableButtonFlipVertical),"cropSelectPresetOptions"in e&&n(114,He=e.cropSelectPresetOptions),"cropEnableSelectPreset"in e&&n(115,We=e.cropEnableSelectPreset),"cropEnableFilterMatchAspectRatio"in e&&n(116,Ve=e.cropEnableFilterMatchAspectRatio),"cropSelectPresetFilter"in e&&n(95,Ge=e.cropSelectPresetFilter),"cropEnableButtonToggleCropLimit"in e&&n(117,Qe=e.cropEnableButtonToggleCropLimit),"cropWillRenderTools"in e&&n(118,qe=e.cropWillRenderTools),"cropActiveTransformTool"in e&&n(119,Ke=e.cropActiveTransformTool),"cropMinimizeToolbar"in e&&n(120,Ze=e.cropMinimizeToolbar),"cropInteractionFocus"in e&&n(121,Xe=e.cropInteractionFocus),"cropRotationRange"in e&&n(3,Je=e.cropRotationRange),"cropMaskOpacity"in e&&n(122,Ye=e.cropMaskOpacity),"locale"in e&&n(4,et=e.locale)},e.$$.update=()=>{4096&e.$$.dirty[0]|268435456&e.$$.dirty[3]&&it.set("selection"===Xe&&M),2097152&e.$$.dirty[3]&&n(129,r=He&&Array.isArray(He)&&He.length),2097152&e.$$.dirty[3]|32&e.$$.dirty[4]&&lt.set(r?He:[]),4096&e.$$.dirty[0]|32768&e.$$.dirty[4]&&M&&It.set(1,{hard:!I}),4096&e.$$.dirty[0]&&At.set(!M),4096&e.$$.dirty[0]&&Ct.set(!M),4096&e.$$.dirty[0]&&M&&Et.set(!0),65536&e.$$.dirty[4]&&n(124,p="overlay"===L.layoutMode),4194304&e.$$.dirty[3]|1&e.$$.dirty[4]&&n(128,x=We&&!p),83886080&e.$$.dirty[4]&&n(137,l=H&&V&&yb(H,V)),67117056&e.$$.dirty[4]&&n(135,c=!(!V||!l)),67119104&e.$$.dirty[4]&&n(133,u=c&&hb(V,l,(e=>ly(e,5)))),16400&e.$$.dirty[0]|52297732&e.$$.dirty[3]|1879114288&e.$$.dirty[4]|31&e.$$.dirty[5]&&n(11,i=fe&&qe([ze&&["Button","rotate-left",{label:et.cropLabelButtonRotateLeft,labelClass:"PinturaToolbarContentWide",icon:et.cropIconButtonRotateLeft,onclick:()=>{ft(-Math.PI/2),gt.write()}}],_e&&["Button","rotate-right",{label:et.cropLabelButtonRotateRight,labelClass:"PinturaToolbarContentWide",icon:et.cropIconButtonRotateRight,onclick:()=>{ft(Math.PI/2),gt.write()}}],Ue&&["Button","flip-horizontal",{label:et.cropLabelButtonFlipHorizontal,labelClass:"PinturaToolbarContentWide",icon:et.cropIconButtonFlipHorizontal,onclick:()=>{Xm(Z)?r$(Bt,he=!he,he):r$(Lt,pe=!pe,pe),gt.write()}}],je&&["Button","flip-vertical",{label:et.cropLabelButtonFlipVertical,labelClass:"PinturaToolbarContentWide",icon:et.cropIconButtonFlipVertical,onclick:()=>{Xm(Z)?r$(Lt,pe=!pe,pe):r$(Bt,he=!he,he),gt.write()}}],x&&r&&[!1===Ge?"Dropdown":YI,"select-preset",{icon:ZE(et.cropIconSelectPreset,et,wn(ue,de)),label:ZE(et.cropLabelSelectPreset,et,wn(ue,de)),labelClass:"PinturaToolbarContentWide",options:de,filter:Ge,onfilterchange:dt,selectedIndex:ue,onchange:e=>{let{value:t}=e;Mv(t)?(r$(qt,ie=Gm(t[0],t[1]),ie),r$(Nt,ce=Ny(t),ce)):r$(qt,ie=t,ie),u&&gn(),gt.write()},optionMapper:e=>{let t=!1;const n=Mv(e.value)?e.value[0]/e.value[1]:e.value;if(n){const e=GS(K,Z,n);t=e.width<J.width||e.height<J.height}return e.icon=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{width:n=24,height:r=24,bounds:i=16,radius:o=3}=t;let a,s,l,c,u=Mv(e)?Gm(e[0],e[1]):e,d=!!u;return u=d?u:1,l=u>1?i:u*i,c=l/u,a=Math.round(.5*(n-l)),s=Math.round(.5*(r-c)),'<rect fill="'.concat(d?"currentColor":"none",'" stroke="').concat(d?"none":"currentColor",'" stroke-width="').concat(n/16,'" stroke-dasharray="').concat([n/12,n/6].join(" "),'" x="').concat(a,'" y="').concat(s,'" width="').concat(l,'" height="').concat(c,'" rx="').concat(o,'"/>')}(e.value,{bounds:14}),{...e,disabled:t}}}],Qe&&["Dropdown","select-crop-limit",{icon:ZE(et.cropIconCropBoundary,et,X),label:et.cropLabelCropBoundary,labelClass:"PinturaToolbarContentWide",onchange:e=>{let{value:t}=e;r$(Kt,X=t,X),gt.write()},options:[[!0,et.cropLabelCropBoundaryEdge,{icon:ZE(et.cropIconCropBoundary,et,!0)}],[!1,et.cropLabelCropBoundaryNone,{icon:ZE(et.cropIconCropBoundary,et,!1)}]]}]].filter(Boolean),L,(()=>rt.set({}))).filter(Boolean)),6144&e.$$.dirty[0]|134217728&e.$$.dirty[3]|65537&e.$$.dirty[4]&&r$(Rt,le=M&&"never"!==Ze&&("always"===Ze||"short"===L.verticalSpace||p)?i.map((e=>{let[t,n,r]=e;return Array.isArray(r)?[t,n,r]:[t,n,{...r,hideLabel:!0}]})):[],le),536870912&e.$$.dirty[4]&&n(23,o=X?0:-1),150994944&e.$$.dirty[4]&&n(130,a=H&&hy(-(G.x-H.x),-(G.y-H.y))),524352&e.$$.dirty[4]&&n(131,s=N&&a&&hy(PE(N.x+.5*N.width+a.x),PE(N.y+.5*N.height+a.y))),33554432&e.$$.dirty[4]&&n(134,d=null!=W),16785408&e.$$.dirty[4]&&n(136,h=H&&l&&(l.height===H.height||l.width===H.width)),12587008&e.$$.dirty[4]&&n(132,f=!h&&j<1&&U<1),3840&e.$$.dirty[4]&&n(9,g=c&&!d&&(!u||f)),8192&e.$$.dirty[0]|8192&e.$$.dirty[3]|1&e.$$.dirty[4]&&n(22,m=Oe&&!!_&&!p),524352&e.$$.dirty[4]&&n(8,v=N&&a&&{x:N.x+a.x,y:N.y+a.y,width:N.width,height:N.height}),256&e.$$.dirty[0]|4096&e.$$.dirty[3]|1&e.$$.dirty[4]&&n(21,y=Be&&!!v&&!p),65600&e.$$.dirty[3]|2097280&e.$$.dirty[4]&&n(10,b=De&&!!s&&!Ee&&!z),512&e.$$.dirty[0]|1073741888&e.$$.dirty[3]|1048576&e.$$.dirty[4]&&g&&Ee&&!D&&(clearTimeout(mn),n(123,mn=setTimeout(gn,Ee))),1073741824&e.$$.dirty[3]|1048576&e.$$.dirty[4]&&D&&clearTimeout(mn),1536&e.$$.dirty[0]|32768&e.$$.dirty[4]&&yn.set(b&&g?1:0,{hard:!1===I}),32896&e.$$.dirty[4]&&bn.set(s,{hard:!1===I}),4096&e.$$.dirty[0]|262144&e.$$.dirty[4]&&(M&&!O?(r$(Mt,F.crop={maskOpacity:Ye,maskMarkupOpacity:Ye},F),Mt.set(F)):(delete F.crop,Mt.set(F))),131072&e.$$.dirty[4]&&B&&Jt.update((e=>{const t=e.filter((e=>!/^image\-selection\-guide/.test(e.id)));return M?[...t,...B]:t})),65536&e.$$.dirty[4]&&n(127,w="short"!==L.verticalSpace),134217728&e.$$.dirty[3]|9&e.$$.dirty[4]&&n(20,$="never"===Ze&&!p||w&&"always"!==Ze),4&e.$$.dirty[0]|1024&e.$$.dirty[3]&&n(126,S=Me&&Ie),2048&e.$$.dirty[3]|12&e.$$.dirty[4]&&n(125,k=Le?w&&S:S),512&e.$$.dirty[3]|2&e.$$.dirty[4]&&n(19,A=Re||k),2&e.$$.dirty[4]&&(k||n(5,Cn=An)),32&e.$$.dirty[0]&&n(18,C={name:$n,selected:Cn}),16&e.$$.dirty[0]|512&e.$$.dirty[3]|2&e.$$.dirty[4]&&n(7,E=[Re&&{id:$n+"-rotation",label:et.cropLabelTabRotation},k&&{id:$n+"-zoom",label:et.cropLabelTabZoom}].filter(Boolean)),128&e.$$.dirty[0]&&n(17,T=E.map((e=>e.id))),64&e.$$.dirty[0]|1&e.$$.dirty[4]&&Sn&&!Sn.children.length&&p&&Sn.dispatchEvent(new CustomEvent("measure",{detail:Sn.rect})),4096&e.$$.dirty[0]|32768&e.$$.dirty[4]&&I&&En.set(M?0:20),16384&e.$$.dirty[4]&&n(16,P=R?"transform: translateY(".concat(R,"px)"):void 0)},[Se,Ae,Me,Je,et,Cn,Sn,E,v,g,b,i,M,_,Z,kn,P,T,C,A,$,y,m,o,ee,ge,me,ye,be,ve,we,tt,nt,rt,it,ot,at,lt,mt,yt,vt,wt,xt,St,Tt,Pt,Rt,Mt,Lt,Bt,Ot,Ft,Nt,Dt,zt,_t,Ut,jt,Ht,Wt,Vt,Gt,Qt,qt,Kt,Zt,Xt,Yt,()=>{st="select",r$(yt,D=!0,D),r$(zt,W=Xy(V),W),tn=z?nn:rn},e=>{let{detail:t}=e;const{boundsLimited:n,boundsIntent:r}=tn(t.direction,t.translation);r$(vt,Q=!0,Q),r$(_t,se=r,se),r$(Dt,V=n,V)},e=>{let{detail:t}=e;const{boundsLimited:n}=tn(t.direction,t.translation);r$(vt,Q=!1,Q),r$(yt,D=!1,D),r$(_t,se=void 0,se),yy(t.translation)&&(r$(Dt,V=n,V),gt.write()),r$(zt,W=void 0,W),st=void 0},()=>{st="rotate",r$(yt,D=!0,D),r$(Ht,re=Xy(_),re)},e=>{r$(vt,Q=!0,Q),r$(Ot,Z=e,Z)},e=>{r$(vt,Q=!1,Q),r$(yt,D=!1,D),r$(Ot,Z=e,Z),gt.write(),r$(Ht,re=void 0,re)},()=>{st="pan",an=void 0,r$(yt,D=!0,D),on=Xy(_)},e=>{let{detail:t}=e;r$(vt,Q=!0,Q),sn(t)},e=>{let{detail:t}=e;r$(vt,Q=!1,Q),r$(yt,D=!1,D),(yy(t.translation)>0||0!==t.scalar)&&(sn(t),gt.write()),r$(jt,te=void 0,te),on=void 0},e=>{let{detail:{translation:t}}=e;z&&(t=gy(fy(t))),an=t,r$(yt,D=!1,D)},ln,cn,un,()=>{st="zoom",r$(yt,D=!0,D),on=Xy(_)},e=>{r$(vt,Q=!1,Q),dn(e)},e=>{dn(e),gt.write(),r$(vt,Q=!1,Q),r$(yt,D=!1,D),on=void 0},()=>{st="zoom",on||(hn=Xy(_),r$(yt,D=!0,D))},e=>{let{detail:t}=e;hn&&(r$(vt,Q=!0,Q),pn(t))},e=>{let{detail:t}=e;hn&&(r$(vt,Q=!1,Q),r$(yt,D=!1,D),pn(t),r$(jt,te=void 0,te),hn=void 0,gt.write())},e=>{const t=ER(e,ee,G);if(Ne&&!bb(V,t))return;st="zoom",r$(yt,D=!0,D),r$(vt,Q=!0,Q),e.preventDefault(),e.stopPropagation();const n=oE(e,{fixScrollDirection:Y}),r=1+n/100,i=Xy(_),o=1===Math.min(_.width/J.width,_.height/J.height);if(Te&&X){const e=pt(_,K,Z);if(ct()&&e&&n>0&&u){r$(yt,D=!1,D),r$(vt,Q=!1,Q);const e=Xm(Z)?Yy({height:K.width,width:K.height}):Yy(K);if(hb(i,e))return;if(clearTimeout(fn),hb(gt.state.crop,e))return;return r$(Wt,_=e,_),void gt.write()}}let a=ab(_);if(Fe&&"selection"!==Xe&&n<0&&!o){const e=Sy(fy(t),V),n=Math.min(V.width/_.width,V.height/_.height),r=lb(Xy(V),1.1);a=bb(r,t)?$y(Xy(_),Ay(e,1/n)):a}let s=lb(Xy(_),r,a);if(Wy(q[1],s)||(s=ib(ab(s),q[1])),Wy(s,q[0])||(s=ib(ab(s),q[0])),hb(i,s,ly))return r$(yt,D=!1,D),void r$(vt,Q=!1,Q);r$(Wt,_=Sb(s,(e=>ly(e,5))),_),r$(yt,D=!1,D),r$(vt,Q=!1,Q),clearTimeout(fn),fn=setTimeout((()=>{gt.write()}),500)},gn,yn,bn,vn,xn,$n,En,Ge,"crop",ke,Ce,Ee,Te,Pe,Re,Ie,Le,Be,Oe,Fe,Ne,De,ze,_e,Ue,je,He,We,Ve,Qe,qe,Ke,Ze,Xe,Ye,mn,p,k,S,w,x,r,a,s,f,u,d,c,h,l,R,I,L,B,O,N,D,z,U,j,H,W,V,G,K,X,J,ue,de,he,pe,fe,function(t){W$.call(this,e,t)},e=>{let{detail:t}=e;return n(5,Cn=t)},function(e){G$[e?"unshift":"push"]((()=>{Sn=e,n(6,Sn)}))},e=>CR(e),function(e){kn=e,n(15,kn)},function(t){W$.call(this,e,t)}]}var xL={util:["crop",class extends CS{constructor(e){super(),AS(this,e,wL,mL,Gx,{name:96,isActive:0,stores:97,cropImageSelectionCornerStyle:1,cropWillRenderImageSelectionGuides:98,cropAutoCenterImageSelectionTimeout:99,cropEnableZoomMatchImageAspectRatio:100,cropEnableRotateMatchImageAspectRatio:101,cropEnableRotationInput:102,cropEnableZoom:2,cropEnableZoomInput:103,cropEnableZoomAutoHide:104,cropEnableImageSelection:105,cropEnableInfoIndicator:106,cropEnableZoomTowardsWheelPosition:107,cropEnableLimitWheelInputToCropSelection:108,cropEnableCenterImageSelection:109,cropEnableButtonRotateLeft:110,cropEnableButtonRotateRight:111,cropEnableButtonFlipHorizontal:112,cropEnableButtonFlipVertical:113,cropSelectPresetOptions:114,cropEnableSelectPreset:115,cropEnableFilterMatchAspectRatio:116,cropSelectPresetFilter:95,cropEnableButtonToggleCropLimit:117,cropWillRenderTools:118,cropActiveTransformTool:119,cropMinimizeToolbar:120,cropInteractionFocus:121,cropRotationRange:3,cropMaskOpacity:122,locale:4},null,[-1,-1,-1,-1,-1,-1,-1,-1])}get name(){return this.$$.ctx[96]}get isActive(){return this.$$.ctx[0]}set isActive(e){this.$$set({isActive:e}),iS()}get stores(){return this.$$.ctx[97]}set stores(e){this.$$set({stores:e}),iS()}get cropImageSelectionCornerStyle(){return this.$$.ctx[1]}set cropImageSelectionCornerStyle(e){this.$$set({cropImageSelectionCornerStyle:e}),iS()}get cropWillRenderImageSelectionGuides(){return this.$$.ctx[98]}set cropWillRenderImageSelectionGuides(e){this.$$set({cropWillRenderImageSelectionGuides:e}),iS()}get cropAutoCenterImageSelectionTimeout(){return this.$$.ctx[99]}set cropAutoCenterImageSelectionTimeout(e){this.$$set({cropAutoCenterImageSelectionTimeout:e}),iS()}get cropEnableZoomMatchImageAspectRatio(){return this.$$.ctx[100]}set cropEnableZoomMatchImageAspectRatio(e){this.$$set({cropEnableZoomMatchImageAspectRatio:e}),iS()}get cropEnableRotateMatchImageAspectRatio(){return this.$$.ctx[101]}set cropEnableRotateMatchImageAspectRatio(e){this.$$set({cropEnableRotateMatchImageAspectRatio:e}),iS()}get cropEnableRotationInput(){return this.$$.ctx[102]}set cropEnableRotationInput(e){this.$$set({cropEnableRotationInput:e}),iS()}get cropEnableZoom(){return this.$$.ctx[2]}set cropEnableZoom(e){this.$$set({cropEnableZoom:e}),iS()}get cropEnableZoomInput(){return this.$$.ctx[103]}set cropEnableZoomInput(e){this.$$set({cropEnableZoomInput:e}),iS()}get cropEnableZoomAutoHide(){return this.$$.ctx[104]}set cropEnableZoomAutoHide(e){this.$$set({cropEnableZoomAutoHide:e}),iS()}get cropEnableImageSelection(){return this.$$.ctx[105]}set cropEnableImageSelection(e){this.$$set({cropEnableImageSelection:e}),iS()}get cropEnableInfoIndicator(){return this.$$.ctx[106]}set cropEnableInfoIndicator(e){this.$$set({cropEnableInfoIndicator:e}),iS()}get cropEnableZoomTowardsWheelPosition(){return this.$$.ctx[107]}set cropEnableZoomTowardsWheelPosition(e){this.$$set({cropEnableZoomTowardsWheelPosition:e}),iS()}get cropEnableLimitWheelInputToCropSelection(){return this.$$.ctx[108]}set cropEnableLimitWheelInputToCropSelection(e){this.$$set({cropEnableLimitWheelInputToCropSelection:e}),iS()}get cropEnableCenterImageSelection(){return this.$$.ctx[109]}set cropEnableCenterImageSelection(e){this.$$set({cropEnableCenterImageSelection:e}),iS()}get cropEnableButtonRotateLeft(){return this.$$.ctx[110]}set cropEnableButtonRotateLeft(e){this.$$set({cropEnableButtonRotateLeft:e}),iS()}get cropEnableButtonRotateRight(){return this.$$.ctx[111]}set cropEnableButtonRotateRight(e){this.$$set({cropEnableButtonRotateRight:e}),iS()}get cropEnableButtonFlipHorizontal(){return this.$$.ctx[112]}set cropEnableButtonFlipHorizontal(e){this.$$set({cropEnableButtonFlipHorizontal:e}),iS()}get cropEnableButtonFlipVertical(){return this.$$.ctx[113]}set cropEnableButtonFlipVertical(e){this.$$set({cropEnableButtonFlipVertical:e}),iS()}get cropSelectPresetOptions(){return this.$$.ctx[114]}set cropSelectPresetOptions(e){this.$$set({cropSelectPresetOptions:e}),iS()}get cropEnableSelectPreset(){return this.$$.ctx[115]}set cropEnableSelectPreset(e){this.$$set({cropEnableSelectPreset:e}),iS()}get cropEnableFilterMatchAspectRatio(){return this.$$.ctx[116]}set cropEnableFilterMatchAspectRatio(e){this.$$set({cropEnableFilterMatchAspectRatio:e}),iS()}get cropSelectPresetFilter(){return this.$$.ctx[95]}set cropSelectPresetFilter(e){this.$$set({cropSelectPresetFilter:e}),iS()}get cropEnableButtonToggleCropLimit(){return this.$$.ctx[117]}set cropEnableButtonToggleCropLimit(e){this.$$set({cropEnableButtonToggleCropLimit:e}),iS()}get cropWillRenderTools(){return this.$$.ctx[118]}set cropWillRenderTools(e){this.$$set({cropWillRenderTools:e}),iS()}get cropActiveTransformTool(){return this.$$.ctx[119]}set cropActiveTransformTool(e){this.$$set({cropActiveTransformTool:e}),iS()}get cropMinimizeToolbar(){return this.$$.ctx[120]}set cropMinimizeToolbar(e){this.$$set({cropMinimizeToolbar:e}),iS()}get cropInteractionFocus(){return this.$$.ctx[121]}set cropInteractionFocus(e){this.$$set({cropInteractionFocus:e}),iS()}get cropRotationRange(){return this.$$.ctx[3]}set cropRotationRange(e){this.$$set({cropRotationRange:e}),iS()}get cropMaskOpacity(){return this.$$.ctx[122]}set cropMaskOpacity(e){this.$$set({cropMaskOpacity:e}),iS()}get locale(){return this.$$.ctx[4]}set locale(e){this.$$set({locale:e}),iS()}}]};function $L(e){let t,n,r,i,o,a,s,l=e[77],c=(Tm(e[77].label)?e[77].label(e[2]):e[77].label)+"";function u(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e[51](e[77],...n)}const d=()=>e[52](n,l),h=()=>e[52](null,l);return{c(){t=m$("div"),n=m$("div"),r=v$(),i=m$("span"),o=b$(c),k$(n,"class",CL),k$(t,"slot","option"),k$(t,"class","PinturaFilterOption")},m(e,l){f$(e,t,l),d$(t,n),d(),d$(t,r),d$(t,i),d$(i,o),a||(s=[x$(n,"measure",u),i$(iC.call(null,n))],a=!0)},p(t,n){l!==(e=t)[77]&&(h(),l=e[77],d()),4&n[0]|32768&n[2]&&c!==(c=(Tm(e[77].label)?e[77].label(e[2]):e[77].label)+"")&&E$(o,c)},d(e){e&&g$(t),h(),a=!1,Wx(s)}}}function SL(e){let t,n;return t=new kT({props:{locale:e[2],layout:"row",options:e[3],selectedIndex:e[12],onchange:e[32],$$slots:{option:[$L,e=>{let{option:t}=e;return{77:t}},e=>{let{option:t}=e;return[0,0,t?32768:0]}]},$$scope:{ctx:e}}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};4&n[0]&&(r.locale=e[2]),8&n[0]&&(r.options=e[3]),4096&n[0]&&(r.selectedIndex=e[12]),1028&n[0]|98304&n[2]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function kL(e){let t,n,r,i,o,a,s,l;function c(t){e[54](t)}function u(t){e[55](t)}function d(t){e[56](t)}let h={elasticity:e[13]*e[19],onscroll:e[53],$$slots:{default:[SL]},$$scope:{ctx:e}};return void 0!==e[4]&&(h.maskFeatherStartOpacity=e[4]),void 0!==e[5]&&(h.maskFeatherEndOpacity=e[5]),void 0!==e[6]&&(h.maskFeatherSize=e[6]),n=new lE({props:h}),G$.push((()=>xS(n,"maskFeatherStartOpacity",c))),G$.push((()=>xS(n,"maskFeatherEndOpacity",u))),G$.push((()=>xS(n,"maskFeatherSize",d))),n.$on("measure",e[57]),{c(){t=m$("div"),$S(n.$$.fragment),k$(t,"slot","footer"),k$(t,"style",e[11])},m(r,i){f$(r,t,i),SS(n,t,null),a=!0,s||(l=[x$(t,"transitionend",e[30]),x$(t,"measure",e[58]),i$(iC.call(null,t,{observePosition:!0}))],s=!0)},p(e,s){const l={};8192&s[0]&&(l.elasticity=e[13]*e[19]),128&s[0]&&(l.onscroll=e[53]),5132&s[0]|65536&s[2]&&(l.$$scope={dirty:s,ctx:e}),!r&&16&s[0]&&(r=!0,l.maskFeatherStartOpacity=e[4],eS((()=>r=!1))),!i&&32&s[0]&&(i=!0,l.maskFeatherEndOpacity=e[5],eS((()=>i=!1))),!o&&64&s[0]&&(o=!0,l.maskFeatherSize=e[6],eS((()=>o=!1))),n.$set(l),(!a||2048&s[0])&&k$(t,"style",e[11])},i(e){a||(dS(n.$$.fragment,e),a=!0)},o(e){hS(n.$$.fragment,e),a=!1},d(e){e&&g$(t),kS(n),s=!1,Wx(l)}}}function AL(e){let t,n;return t=new CI({props:{$$slots:{footer:[kL]},$$scope:{ctx:e}}}),t.$on("measure",e[59]),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};16380&n[0]|65536&n[2]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}let CL="PinturaFilterPreview";function EL(e,t,n){let r,i,o,a,s,l,c,u,d,h,p,f,g,m,y,b,v,w,x,$,S=zx,k=()=>(S(),S=Qx(T,(e=>n(43,u=e))),T),A=zx,C=()=>(A(),A=Qx(E,(e=>n(49,v=e))),E);e.$$.on_destroy.push((()=>S())),e.$$.on_destroy.push((()=>A()));let{isActive:E}=t;C();let{isActiveFraction:T}=t;k();let{stores:P}=t,{locale:R}=t,{filterFunctions:M}=t,{filterOptions:I}=t;const L=H$("elasticityMultiplier");Kx(e,L,(e=>n(13,$=e)));const{history:B,interfaceImages:O,stageRectBase:F,utilRect:N,animation:D,scrollElasticity:z,imageSize:_,imagePreview:U,imageCropRect:j,imageRotation:H,imageFlipX:W,imageFlipY:V,imageBackgroundColor:G,imageGamma:Q,imageColorMatrix:q,allowPan:K,allowZoom:Z,allowZoomControls:X,allowPlayPause:J}=P;Kx(e,O,(e=>n(60,d=e))),Kx(e,F,(e=>n(48,b=e))),Kx(e,N,(e=>n(47,y=e))),Kx(e,D,(e=>n(50,w=e))),Kx(e,_,(e=>n(62,p=e))),Kx(e,U,(e=>n(42,c=e))),Kx(e,G,(e=>n(61,h=e))),Kx(e,Q,(e=>n(44,f=e))),Kx(e,q,(e=>n(40,s=e)));const Y=PS({});Kx(e,Y,(e=>n(46,m=e)));const ee=(e,t)=>r$(Y,m[e.value]=t,m),te=RS(Y,(e=>{if(!e[void 0])return;const t=e[void 0];return x&&_y(x,t)?x:By(t)}));Kx(e,te,(e=>n(63,x=e)));const ne=RS([E,te,j,_,H,W,V],((e,t)=>{let[n,r,i,o,a,s,l]=e;if(!n||!r||!o)return g;const c=Yy(o),u=ab(c),d=QS(o,i,a),h=ab(d),p=Sy(fy(u),h),f=gy(fy(p)),m=Math.max(r.width/i.width,r.height/i.height);t({origin:f,translation:p,rotation:{x:l?Math.PI:0,y:s?Math.PI:0,z:a},scale:m})}));Kx(e,ne,(e=>n(45,g=e)));const re=jA(w?20:0);let ie;Kx(e,re,(e=>n(39,a=e)));const oe={};let ae,se,le,ce,ue,de,he={x:0,y:0};const pe=PS([]);Kx(e,pe,(e=>n(41,l=e)));const fe=e=>{const t={...e,data:c,size:p,offset:{...e.offset},mask:{...e.mask},backgroundColor:h};return t.opacity=u,t.offset.y+=a,t.mask.y+=a,t.id="filter",t},ge=()=>d.filter((e=>"filter"!==e.id));return _$((()=>{O.set([])})),e.$$set=e=>{"isActive"in e&&C(n(0,E=e.isActive)),"isActiveFraction"in e&&k(n(1,T=e.isActiveFraction)),"stores"in e&&n(34,P=e.stores),"locale"in e&&n(2,R=e.locale),"filterFunctions"in e&&n(35,M=e.filterFunctions),"filterOptions"in e&&n(3,I=e.filterOptions)},e.$$.update=()=>{if(262144&e.$$.dirty[1]&&K.set(v),262144&e.$$.dirty[1]&&Z.set(v),262144&e.$$.dirty[1]&&X.set(v),262144&e.$$.dirty[1]&&v&&J.set(!1),8&e.$$.dirty[0]&&n(38,r=qE(I)),640&e.$$.dirty[1]&&n(12,i=((e,t)=>{if(!e||!e.filter||!t)return 0;const n=e.filter;return t.findIndex((e=>{let[t]=e;if(!M[t])return!1;const r=M[t]();return YS(r,n)}))})(s,r)),786432&e.$$.dirty[1]&&w&&re.set(v?0:20),512&e.$$.dirty[0]|458752&e.$$.dirty[1]&&v&&y&&b&&de&&n(37,ue={x:b.x-y.x,y:b.y-y.y+de.y}),496&e.$$.dirty[0]|58096&e.$$.dirty[1]&&g&&ue&&he&&ce&&ie){const e=ue.x+ce.x+he.x,t=ue.y,n=ce.x+ue.x,i=n+ce.width;pe.set(r.map(((r,o)=>{let[a]=r;const l=m[a],c=he.x+l.x,u=c+l.width;if(u<0||c>ce.width)return!1;const d=e+l.x,h=t+l.y,p=(e=>({origin:fy(e.origin),translation:fy(e.translation),rotation:{...e.rotation},scale:e.scale}))(g);p.offset=hy(.5*l.width+d,.5*l.height+h),p.maskOpacity=1,p.mask=ob(d+0,h,l.width+0,l.height),p.maskFeather=[1,0,1,0,1,i,1,i],c<le&&ae<1&&(p.maskFeather[0]=ae,p.maskFeather[1]=n,p.maskFeather[2]=1,p.maskFeather[3]=n+le),u>ce.width-le&&se<1&&(p.maskFeather[4]=se,p.maskFeather[5]=i-le,p.maskFeather[6]=1,p.maskFeather[7]=i),p.maskCornerRadius=ie[a];let y=s&&Object.keys(s).filter((e=>"filter"!=e)).map((e=>s[e]))||[];return Tm(M[a])&&y.push(M[a]()),p.colorMatrix=y.length?Nx(y):void 0,p.gamma=f,p})).filter(Boolean))}if(7424&e.$$.dirty[1])if(u>0&&l){const e=[...ge(),...l.map(fe)];O.set(e)}else O.set(ge());256&e.$$.dirty[1]&&n(11,o=a?"transform: translateY(".concat(a,"px)"):void 0)},[E,T,R,I,ae,se,le,he,ce,de,oe,o,i,$,L,O,F,N,D,z,_,U,G,Q,q,Y,ee,te,ne,re,e=>{e.target.className===CL&&n(36,ie=Object.keys(oe).reduce(((e,t)=>{const n=oe[t],r=getComputedStyle(n),i=["top-left","top-right","bottom-left","bottom-right"].map((e=>r.getPropertyValue("border-".concat(e,"-radius")))).map(iE).map((e=>1.25*e));return e[t]=i,e}),{}))},pe,e=>{let{value:t}=e;r$(q,s={...s,filter:Tm(M[t])?M[t]():void 0},s),B.write()},"filter",P,M,ie,ue,r,a,s,l,c,u,f,g,m,y,b,v,w,(e,t)=>ee(e,t.detail),function(e,t){G$[e?"unshift":"push"]((()=>{oe[t.value]=e,n(10,oe)}))},e=>n(7,he=e),function(e){ae=e,n(4,ae)},function(e){se=e,n(5,se)},function(e){le=e,n(6,le)},e=>n(8,ce=e.detail),e=>n(9,de=e.detail),function(t){W$.call(this,e,t)}]}var TL={util:["filter",class extends CS{constructor(e){super(),AS(this,e,EL,AL,Gx,{name:33,isActive:0,isActiveFraction:1,stores:34,locale:2,filterFunctions:35,filterOptions:3},null,[-1,-1,-1])}get name(){return this.$$.ctx[33]}get isActive(){return this.$$.ctx[0]}set isActive(e){this.$$set({isActive:e}),iS()}get isActiveFraction(){return this.$$.ctx[1]}set isActiveFraction(e){this.$$set({isActiveFraction:e}),iS()}get stores(){return this.$$.ctx[34]}set stores(e){this.$$set({stores:e}),iS()}get locale(){return this.$$.ctx[2]}set locale(e){this.$$set({locale:e}),iS()}get filterFunctions(){return this.$$.ctx[35]}set filterFunctions(e){this.$$set({filterFunctions:e}),iS()}get filterOptions(){return this.$$.ctx[3]}set filterOptions(e){this.$$set({filterOptions:e}),iS()}}]};function PL(e){let t,n,r,i;t=new lE({props:{elasticity:e[6]*e[9],class:"PinturaControlListScroller",$$slots:{default:[ML]},$$scope:{ctx:e}}});const o=[{class:"PinturaControlPanels"},{panelClass:"PinturaControlPanel"},{panels:e[4]},e[5]];let a={$$slots:{default:[IL,e=>{let{panel:t}=e;return{42:t}},e=>{let{panel:t}=e;return[0,t?2048:0]}]},$$scope:{ctx:e}};for(let s=0;s<o.length;s+=1)a=Ux(a,o[s]);return r=new OC({props:a}),{c(){$S(t.$$.fragment),n=v$(),$S(r.$$.fragment)},m(e,o){SS(t,e,o),f$(e,n,o),SS(r,e,o),i=!0},p(e,n){const i={};64&n[0]&&(i.elasticity=e[6]*e[9]),38&n[0]|8192&n[1]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i);const a=48&n[0]?vS(o,[o[0],o[1],16&n[0]&&{panels:e[4]},32&n[0]&&wS(e[5])]):{};128&n[0]|10240&n[1]&&(a.$$scope={dirty:n,ctx:e}),r.$set(a)},i(e){i||(dS(t.$$.fragment,e),dS(r.$$.fragment,e),i=!0)},o(e){hS(t.$$.fragment,e),hS(r.$$.fragment,e),i=!1},d(e){kS(t,e),e&&g$(n),kS(r,e)}}}function RL(e){let t,n,r=e[43].label+"";return{c(){t=m$("span"),n=b$(r)},m(e,r){f$(e,t,r),d$(t,n)},p(e,t){4096&t[1]&&r!==(r=e[43].label+"")&&E$(n,r)},d(e){e&&g$(t)}}}function ML(e){let t,n;const r=[{class:"PinturaControlList"},{tabs:e[1]},e[5]];let i={$$slots:{default:[RL,e=>{let{tab:t}=e;return{43:t}},e=>{let{tab:t}=e;return[0,t?4096:0]}]},$$scope:{ctx:e}};for(let o=0;o<r.length;o+=1)i=Ux(i,r[o]);return t=new SC({props:i}),t.$on("select",e[24]),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const i=34&n[0]?vS(r,[r[0],2&n[0]&&{tabs:e[1]},32&n[0]&&wS(e[5])]):{};12288&n[1]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function IL(e){let t,n;const r=[e[7][e[42]]];let i={};for(let o=0;o<r.length;o+=1)i=Ux(i,r[o]);return t=new RI({props:i}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const i=128&n[0]|2048&n[1]?vS(r,[wS(e[7][e[42]])]):{};t.$set(i)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function LL(e){let t,n,r=e[5]&&PL(e);return{c(){t=m$("div"),r&&r.c(),k$(t,"slot","footer"),k$(t,"style",e[3])},m(e,i){f$(e,t,i),r&&r.m(t,null),n=!0},p(e,i){e[5]?r?(r.p(e,i),32&i[0]&&dS(r,1)):(r=PL(e),r.c(),dS(r,1),r.m(t,null)):r&&(cS(),hS(r,1,1,(()=>{r=null})),uS()),(!n||8&i[0])&&k$(t,"style",e[3])},i(e){n||(dS(r),n=!0)},o(e){hS(r),n=!1},d(e){e&&g$(t),r&&r.d()}}}function BL(e){let t,n;return t=new CI({props:{$$slots:{footer:[LL]},$$scope:{ctx:e}}}),t.$on("measure",e[25]),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};254&n[0]|8192&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function OL(e,t,n){let r,i,o,a,s,l,c,u,d,h,p,f=zx,g=()=>(f(),f=Qx(y,(e=>n(21,c=e))),y);e.$$.on_destroy.push((()=>f()));let{stores:m}=t,{isActive:y}=t;g();let{locale:b={}}=t,{finetuneControlConfiguration:v}=t,{finetuneOptions:w}=t,{finetuneNudgePrecision:x}=t;const{history:$,animation:S,scrollElasticity:k,rangeInputElasticity:A,imageColorMatrix:C,imageConvolutionMatrix:E,imageGamma:T,imageVignette:P,imageNoise:R,allowPan:M,allowZoom:I,allowZoomControls:L,allowPlayPause:B}=m;Kx(e,S,(e=>n(22,u=e)));const O={imageColorMatrix:C,imageConvolutionMatrix:E,imageGamma:T,imageVignette:P,imageNoise:R},F=H$("elasticityMultiplier");Kx(e,F,(e=>n(6,h=e)));const N="finetune-"+Mm(),D=PS({});Kx(e,D,(e=>n(23,d=e)));const z=PS({});Kx(e,z,(e=>n(7,p=e)));let _=[];const U=jA(u?20:0);return Kx(e,U,(e=>n(20,l=e))),e.$$set=e=>{"stores"in e&&n(15,m=e.stores),"isActive"in e&&g(n(0,y=e.isActive)),"locale"in e&&n(16,b=e.locale),"finetuneControlConfiguration"in e&&n(17,v=e.finetuneControlConfiguration),"finetuneOptions"in e&&n(18,w=e.finetuneOptions),"finetuneNudgePrecision"in e&&n(19,x=e.finetuneNudgePrecision)},e.$$.update=()=>{var t;2097152&e.$$.dirty[0]&&M.set(c),2097152&e.$$.dirty[0]&&I.set(c),2097152&e.$$.dirty[0]&&L.set(c),2097152&e.$$.dirty[0]&&c&&B.set(!0),327680&e.$$.dirty[0]&&n(1,r=w?w.map((e=>{let[t,n]=e;return{id:t,label:Tm(n)?n(b):n}})):[]),2&e.$$.dirty[0]&&n(2,i=r.length?r[0].id:void 0),4&e.$$.dirty[0]&&n(5,o=i&&{name:N,selected:i}),2&e.$$.dirty[0]&&n(4,a=r.map((e=>e.id))),131072&e.$$.dirty[0]&&v&&(t=v,_&&_.forEach((e=>e())),_=a.map((e=>{const{getStore:n,getValue:r=Qm}=t[e];return n(O).subscribe((t=>{const n=null!=t?r(t):t;r$(D,d={...d,[e]:n},d)}))}))),8519680&e.$$.dirty[0]&&v&&d&&r$(z,p=Object.keys(d).reduce(((e,t)=>{const{base:n,min:r,max:i,getLabel:o,getStore:a,setValue:s=((e,t)=>e.set(t))}=v[t],l=a(O),c=null!=d[t]?d[t]:n;return e[t]={base:n,min:r,max:i,value:c,valueLabel:o?o(c,r,i,i-r):Math.round(100*c),oninputmove:e=>{s(l,e)},oninputend:e=>{s(l,e),$.write()},elasticity:h*A,labelReset:b.labelReset,nudgeMultiplier:x},e}),{}),p),6291456&e.$$.dirty[0]&&u&&U.set(c?0:20),1048576&e.$$.dirty[0]&&n(3,s=l?"transform: translateY(".concat(l,"px)"):void 0)},[y,r,i,s,a,o,h,p,S,k,F,D,z,U,"finetune",m,b,v,w,x,l,c,u,d,e=>{let{detail:t}=e;return n(2,i=t)},function(t){W$.call(this,e,t)}]}var FL={util:["finetune",class extends CS{constructor(e){super(),AS(this,e,OL,BL,Gx,{name:14,stores:15,isActive:0,locale:16,finetuneControlConfiguration:17,finetuneOptions:18,finetuneNudgePrecision:19},null,[-1,-1])}get name(){return this.$$.ctx[14]}get stores(){return this.$$.ctx[15]}set stores(e){this.$$set({stores:e}),iS()}get isActive(){return this.$$.ctx[0]}set isActive(e){this.$$set({isActive:e}),iS()}get locale(){return this.$$.ctx[16]}set locale(e){this.$$set({locale:e}),iS()}get finetuneControlConfiguration(){return this.$$.ctx[17]}set finetuneControlConfiguration(e){this.$$set({finetuneControlConfiguration:e}),iS()}get finetuneOptions(){return this.$$.ctx[18]}set finetuneOptions(e){this.$$set({finetuneOptions:e}),iS()}get finetuneNudgePrecision(){return this.$$.ctx[19]}set finetuneNudgePrecision(e){this.$$set({finetuneNudgePrecision:e}),iS()}}]},NL=(e,t)=>{const n=t.length;return e<0?e%n+n:e>=n?e%n:e};function DL(e,t,n){const r=e.slice();return r[46]=t[n].key,r[47]=t[n].index,r[48]=t[n].translate,r[49]=t[n].scale,r[50]=t[n].selected,r[12]=t[n].rotate,r[51]=t[n].dir,r[52]=t[n].center,r[53]=t[n].type,r[2]=t[n].visible,r}function zL(e){let t,n;return{c(){t=m$("div"),k$(t,"class","PinturaShapeManipulator"),k$(t,"data-control","point"),k$(t,"style",n="pointer-events:none;transform: translate3d(".concat(e[52].x,"px, ").concat(e[52].y,"px, 0) scale(").concat(e[5],", ").concat(e[5],"); opacity: ").concat(e[4]))},m(e,n){f$(e,t,n)},p(e,r){56&r[0]&&n!==(n="pointer-events:none;transform: translate3d(".concat(e[52].x,"px, ").concat(e[52].y,"px, 0) scale(").concat(e[5],", ").concat(e[5],"); opacity: ").concat(e[4]))&&k$(t,"style",n)},d(e){e&&g$(t)}}}function _L(e,t){let n,r,i,o,a,s,l,c,u,d;function h(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t[18](t[47],...n)}let p="edge"===t[53]&&t[2]&&zL(t);return{key:e,first:null,c(){n=m$("div"),l=v$(),p&&p.c(),c=w$(),k$(n,"role","button"),k$(n,"aria-label",r="Drag ".concat(t[53]," ").concat(t[46])),k$(n,"tabindex",i="edge"===t[53]?-1:0),k$(n,"class","PinturaShapeManipulator"),k$(n,"data-control",o=t[53]),k$(n,"data-selected",a=t[50]),k$(n,"style",s="cursor:".concat(t[51]?t[51]+"-resize":"move",";opacity:").concat(t[4],";--tx:").concat(t[48].x,";--ty:").concat(t[48].y,";--r:").concat("edge"===t[53]?t[12]:0,"rad;--sx:").concat("point"===t[53]?t[5]:t[49].x,";--sy:").concat("point"===t[53]?t[5]:t[49].y,";")),this.first=n},m(e,r){f$(e,n,r),f$(e,l,r),p&&p.m(e,r),f$(e,c,r),u||(d=[x$(n,"nudge",h),i$(tE.call(null,n,{preventDefault:!0})),x$(n,"interactionstart",(function(){Vx(t[9]("start",t[47]))&&t[9]("start",t[47]).apply(this,arguments)})),x$(n,"interactionupdate",(function(){Vx(t[9]("move",t[47]))&&t[9]("move",t[47]).apply(this,arguments)})),x$(n,"interactionend",(function(){Vx(t[9]("end",t[47]))&&t[9]("end",t[47]).apply(this,arguments)})),i$(eE.call(null,n,{observeKeys:!0}))],u=!0)},p(e,l){t=e,8&l[0]&&r!==(r="Drag ".concat(t[53]," ").concat(t[46]))&&k$(n,"aria-label",r),8&l[0]&&i!==(i="edge"===t[53]?-1:0)&&k$(n,"tabindex",i),8&l[0]&&o!==(o=t[53])&&k$(n,"data-control",o),8&l[0]&&a!==(a=t[50])&&k$(n,"data-selected",a),56&l[0]&&s!==(s="cursor:".concat(t[51]?t[51]+"-resize":"move",";opacity:").concat(t[4],";--tx:").concat(t[48].x,";--ty:").concat(t[48].y,";--r:").concat("edge"===t[53]?t[12]:0,"rad;--sx:").concat("point"===t[53]?t[5]:t[49].x,";--sy:").concat("point"===t[53]?t[5]:t[49].y,";"))&&k$(n,"style",s),"edge"===t[53]&&t[2]?p?p.p(t,l):(p=zL(t),p.c(),p.m(c.parentNode,c)):p&&(p.d(1),p=null)},d(e){e&&g$(n),e&&g$(l),p&&p.d(e),e&&g$(c),u=!1,Wx(d)}}}function UL(e){let t,n,r,i;return{c(){t=m$("div"),k$(t,"role","button"),k$(t,"aria-label","Drag rotator"),k$(t,"tabindex","0"),k$(t,"class","PinturaShapeManipulator"),k$(t,"data-control","rotate"),k$(t,"style",n="transform: translate3d(".concat(e[0].x,"px, ").concat(e[0].y,"px, 0) scale(").concat(e[5],", ").concat(e[5],"); opacity: ").concat(e[4]))},m(n,o){f$(n,t,o),r||(i=[x$(t,"nudge",e[11]),i$(tE.call(null,t,{preventDefault:!0})),x$(t,"interactionstart",e[12]("start")),x$(t,"interactionupdate",e[12]("move")),x$(t,"interactionend",e[12]("end")),i$(eE.call(null,t,{observeKeys:!0}))],r=!0)},p(e,r){49&r[0]&&n!==(n="transform: translate3d(".concat(e[0].x,"px, ").concat(e[0].y,"px, 0) scale(").concat(e[5],", ").concat(e[5],"); opacity: ").concat(e[4]))&&k$(t,"style",n)},d(e){e&&g$(t),r=!1,Wx(i)}}}function jL(e){let t,n,r=[],i=new Map,o=e[3];const a=e=>e[46];for(let l=0;l<o.length;l+=1){let t=DL(e,o,l),n=a(t);i.set(n,r[l]=_L(n,t))}let s=e[1]&&UL(e);return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=v$(),s&&s.c(),n=w$()},m(e,i){for(let t=0;t<r.length;t+=1)r[t].m(e,i);f$(e,t,i),s&&s.m(e,i),f$(e,n,i)},p(e,l){1592&l[0]&&(o=e[3],r=bS(r,l,a,1,e,o,i,t.parentNode,mS,_L,t,DL)),e[1]?s?s.p(e,l):(s=UL(e),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},i:zx,o:zx,d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&g$(t),s&&s.d(e),e&&g$(n)}}}function HL(e,t,n){let r,i,o,a;const s=U$(),l=.5*Zm,c=Km-l,u=Km+l,d=-Km,h=d-l,p=d+l,f=qm-l,g=-qm+l,m=l,y=-l,b=Km-Zm,v=b-l,w=b+l,x=qm-Zm,$=x-l,S=x+l,k=d-Zm,A=k+l,C=k-l,E=d+Zm,T=E+l,P=E-l;let{visible:R=!1}=t,{points:M=[]}=t,{rotatorPoint:I}=t,{selectedPoint:L}=t,{enableDragEdges:B=!0}=t,{enableDragPoints:O=!0}=t,{enableRotatePoints:F=!0}=t;const N=H$("isAnimated");Kx(e,N,(e=>n(17,i=e)));const D=jA(.5,{precision:1e-4,stiffness:.3,damping:.7});Kx(e,D,(e=>n(5,a=e)));const z=jA(0,{precision:.001,stiffness:.3,damping:.7});Kx(e,z,(e=>n(4,o=e)));const _=e=>{let t="";return(e<=u&&e>=c||e>=h&&e<=p)&&(t="ns"),(e<=g||e>=f||e>=y&&e<=m)&&(t="ew"),(e>=$&&e<=S||e<=T&&e>=P)&&(t="nesw"),(e>=v&&e<=w||e<=A&&e>=C)&&(t="nwse"),t},U=(e,t)=>{s("resizestart",{indexes:e,translation:dy(),isNudge:!0}),s("resizemove",{indexes:e,translation:t,isNudge:!0}),s("resizeend",{indexes:e,translation:dy(),isNudge:!0})};return e.$$set=e=>{"visible"in e&&n(2,R=e.visible),"points"in e&&n(13,M=e.points),"rotatorPoint"in e&&n(0,I=e.rotatorPoint),"selectedPoint"in e&&n(14,L=e.selectedPoint),"enableDragEdges"in e&&n(15,B=e.enableDragEdges),"enableDragPoints"in e&&n(16,O=e.enableDragPoints),"enableRotatePoints"in e&&n(1,F=e.enableRotatePoints)},e.$$.update=()=>{131076&e.$$.dirty[0]&&D.set(R?1:.5,{hard:!1===i}),131076&e.$$.dirty[0]&&z.set(R?1:0,{hard:!1===i}),8192&e.$$.dirty[0]&&n(3,r=((e,t)=>{let n=0;const r=Ry(e),i=[],o=e.length;for(;n<o;n++){const t=NL(n-1,e),o=NL(n+1,e),a=e[t],s=e[n],l=e[o],c=Math.atan2(l.y-s.y,l.x-s.x);if(O){const e=by(hy(a.x-s.x,a.y-s.y)),t=by(hy(l.x-s.x,l.y-s.y)),r=hy(e.x+t.x,e.y+t.y),o=B?O&&_(Math.atan2(r.y,r.x)):void 0;i.push({index:[n],key:"point-"+n,type:"point",selected:L===n,scale:{x:1,y:1},translate:{x:s.x,y:s.y},angle:void 0,rotate:F,center:s,dir:o})}if(!B)continue;if(Array.isArray(B)&&!B.some((e=>{let[t,r]=e;return n===t&&o===r})))continue;const u=hy(s.x+.5*(l.x-s.x),s.y+.5*(l.y-s.y));i.push({index:[n,o],key:"edge-"+n,type:"edge",scale:{x:Py(s,l),y:1},translate:{x:s.x,y:s.y},angle:c,rotate:c,center:u,visible:Array.isArray(B),dir:_(Math.atan2(r.y-u.y,r.x-u.x))})}return i})(M))},[I,F,R,r,o,a,N,D,z,(e,t)=>n=>{let{detail:r}=n;const i=r&&r.translation?r.translation:hy(0,0);s("resize"+e,{...r,indexes:t,translation:i})},U,e=>{let{detail:t}=e;s("rotatestart",{translation:dy(),isNudge:!0}),s("rotatemove",{translation:t,isNudge:!0}),s("rotateend",{translation:dy(),isNudge:!0})},e=>t=>{let{detail:n}=t;const r=n&&n.translation?n.translation:hy(0,0);s("rotate"+e,{...n,translation:r})},M,L,B,O,i,(e,t)=>{let{detail:n}=t;return U(e,n)}]}class WL extends CS{constructor(e){super(),AS(this,e,HL,jL,Gx,{visible:2,points:13,rotatorPoint:0,selectedPoint:14,enableDragEdges:15,enableDragPoints:16,enableRotatePoints:1},null,[-1,-1])}}var VL=(e,t)=>{const n=CR(e);return Sy(n,t)},GL=e=>document.createTextNode(e),QL=e=>(qb()&&e.endsWith("<div><br></div>")?e.replace(/<div><br><\/div>$/,"<br><br>"):e).replace(/<div><br><\/div>/g,"<br>").replace(/<\/div>/g,"").replace(/<div>/g,"<br>");function qL(e){let t,n;return{c(){t=m$("pre"),k$(t,"class","PinturaContentEditable"),k$(t,"style",n=e[7]+";position:absolute;z-index:-1;pointer-events:none;")},m(n,r){f$(n,t,r),t.innerHTML=e[0]},p(e,r){1&r[0]&&(t.innerHTML=e[0]),128&r[0]&&n!==(n=e[7]+";position:absolute;z-index:-1;pointer-events:none;")&&k$(t,"style",n)},d(e){e&&g$(t)}}}function KL(e){let t,n,r,i,o,a,s=e[8]&&qL(e);return{c(){s&&s.c(),t=v$(),n=m$("pre"),k$(n,"class","PinturaContentEditable"),k$(n,"data-wrap-content",r=e[4]||e[5]?"wrap":"nowrap"),k$(n,"contenteditable",""),k$(n,"spellcheck",e[1]),k$(n,"autocorrect",e[2]),k$(n,"autocapitalize",e[3]),k$(n,"style",i=e[8]?e[15](e[7]):e[7])},m(r,i){s&&s.m(r,i),f$(r,t,i),f$(r,n,i),e[26](n),o||(a=[x$(n,"input",e[13]),x$(n,"compositionend",e[12]),x$(n,"paste",e[14]),x$(n,"keydown",e[10]),x$(n,"keyup",e[11]),x$(n,"blur",e[9])],o=!0)},p(e,o){e[8]?s?s.p(e,o):(s=qL(e),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),48&o[0]&&r!==(r=e[4]||e[5]?"wrap":"nowrap")&&k$(n,"data-wrap-content",r),2&o[0]&&k$(n,"spellcheck",e[1]),4&o[0]&&k$(n,"autocorrect",e[2]),8&o[0]&&k$(n,"autocapitalize",e[3]),384&o[0]&&i!==(i=e[8]?e[15](e[7]):e[7])&&k$(n,"style",i)},i:zx,o:zx,d(r){s&&s.d(r),r&&g$(t),r&&g$(n),e[26](null),o=!1,Wx(a)}}}function ZL(e,t,n){let r,i,{spellcheck:o="false"}=t,{autocorrect:a="off"}=t,{autocapitalize:s="off"}=t,{wrapLines:l=!0}=t,{allowNewline:c=!0}=t,{textFormat:u="text"}=t,{formatInput:d=Qm}=t,{formatPaste:h=Qm}=t,{style:p}=t,{innerHTML:f}=t,{oninput:g=om}=t,{enableTextStyleShortcuts:m=!1}=t;const y=()=>{if(!v)return;const e=document.createRange();e.selectNodeContents(v);const t=C();t.removeAllRanges(),t.addRange(e)},b=U$();let v;document.execCommand("defaultParagraphSeparator",!1,"br");const w=e=>e.replace(/<\/?(?:i|b|em|u|s|strike|strong|font)>/,"").replace(/style=".*?"/g,"").replace(/\n/gim,"<br>"),x=()=>{n(0,f=v.innerHTML);const e=QL(f);b("input",e),g(e),requestAnimationFrame((()=>v&&v.scrollTo(0,0)))},$=()=>{E(v);const e="html"===u?v.innerHTML:w(v.innerHTML);n(6,v.innerHTML=d(e),v),T(v),x()},S={b:"bold",i:"italic",u:"underline",s:"strikethrough"},k=e=>{const t=fm("span");return t.dataset.bookmark=e,t},A=(e,t,n)=>{const r=k(n);if(e.nodeType===Node.TEXT_NODE){const i=e.textContent;if("start"===n){const n=GL(i.substring(0,t)),o=GL(i.substring(t));e.replaceWith(n,r,o)}else{const n=GL(i.substring(0,t)),o=GL(i.substring(t));e.replaceWith(n,r,o)}}else e.nodeType===Node.ELEMENT_NODE&&e.insertBefore(r,e.childNodes[t])},C=()=>{const e=v.getRootNode();return"getSelection"in e?e.getSelection():document.getSelection()},E=e=>{const t=C();if(!t.getRangeAt||!t.rangeCount)return;const n=t.getRangeAt(0),{startOffset:r,endOffset:i,startContainer:o,endContainer:a}=n;if(e.contains(n.startContainer)&&e.contains(n.endContainer))if(o.nodeType===Node.TEXT_NODE&&o===a){const e=o.textContent,t=e.substring(0,r),n=k("start"),a=i-r>0?e.substring(r,i):"",s=k("end"),l=e.substring(i);o.replaceWith(t,n,a,s,l)}else A(o,r,"start"),A(a,i+(o===a?1:0),"end")},T=e=>{const t=P(e,"start"),n=P(e,"end");if(!t||!n)return;const r=document.createRange();r.setStart(t,0),r.setEnd(n,0);const i=C();i.removeAllRanges(),i.addRange(r),t.remove(),n.remove()},P=(e,t)=>{const n=e.children;for(let r=0;r<n.length;r++){const e=n[r];if(e.dataset.bookmark===t)return e;if(e.children.length){const n=P(e,t);if(n)return n}}};let R;return e.$$set=e=>{"spellcheck"in e&&n(1,o=e.spellcheck),"autocorrect"in e&&n(2,a=e.autocorrect),"autocapitalize"in e&&n(3,s=e.autocapitalize),"wrapLines"in e&&n(4,l=e.wrapLines),"allowNewline"in e&&n(5,c=e.allowNewline),"textFormat"in e&&n(16,u=e.textFormat),"formatInput"in e&&n(17,d=e.formatInput),"formatPaste"in e&&n(18,h=e.formatPaste),"style"in e&&n(19,p=e.style),"innerHTML"in e&&n(0,f=e.innerHTML),"oninput"in e&&n(20,g=e.oninput),"enableTextStyleShortcuts"in e&&n(21,m=e.enableTextStyleShortcuts)},e.$$.update=()=>{var t;if(64&e.$$.dirty[0]&&n(25,r=!!v),33554433&e.$$.dirty[0]&&r&&f&&(t=f)!==v.innerHTML&&(n(6,v.innerHTML=t,v),v===document.activeElement&&y()),524336&e.$$.dirty[0])if(!l&&c){const e=p.includes(":right")?"text-indent:-100px!important":p.includes(":center")?"":"min-width:calc(100% + 100px)!important";n(7,R=p+";overflow:visible;"+e)}else n(7,R=p);524288&e.$$.dirty[0]&&n(8,i=p.includes("text-stroke"))},[f,o,a,s,l,c,v,R,i,()=>{b("blur")},e=>{if(/escape/i.test(e.code))return e.stopPropagation(),void b("cancel");const t=e.ctrlKey||e.metaKey;if("html"===u&&t&&/b|i|u|s/.test(e.key))return m&&(e=>{const t=S[e];t&&document.execCommand(t)})(e.key),void e.preventDefault();/enter/i.test(e.code)&&(e.stopPropagation(),e.isComposing||(t?b("confirm"):(c||e.preventDefault(),document.execCommand("insertLineBreak"),e.preventDefault())))},()=>{},e=>{""!==e.data&&$()},e=>{const{inputType:t}=e;"insertCompositionText"!==t&&"deleteCompositionText"!==t&&$()},e=>{e.preventDefault();const t=e.clipboardData.getData("text/plain"),n="html"===u?t:w(t),r=h(n);if(!r.length)return;const i=C().getRangeAt(0);i.deleteContents(),i.insertNode(document.createTextNode(r)),x()},e=>e.replace("-webkit-text-stroke","--text-stroke").replace("text-shadow","--text-shadow"),u,d,h,p,g,m,()=>$(),()=>v&&v.focus(),y,r,function(e){G$[e?"unshift":"push"]((()=>{v=e,n(6,v)}))}]}class XL extends CS{constructor(e){super(),AS(this,e,ZL,KL,Gx,{spellcheck:1,autocorrect:2,autocapitalize:3,wrapLines:4,allowNewline:5,textFormat:16,formatInput:17,formatPaste:18,style:19,innerHTML:0,oninput:20,enableTextStyleShortcuts:21,confirm:22,focus:23,select:24},null,[-1,-1])}get spellcheck(){return this.$$.ctx[1]}set spellcheck(e){this.$$set({spellcheck:e}),iS()}get autocorrect(){return this.$$.ctx[2]}set autocorrect(e){this.$$set({autocorrect:e}),iS()}get autocapitalize(){return this.$$.ctx[3]}set autocapitalize(e){this.$$set({autocapitalize:e}),iS()}get wrapLines(){return this.$$.ctx[4]}set wrapLines(e){this.$$set({wrapLines:e}),iS()}get allowNewline(){return this.$$.ctx[5]}set allowNewline(e){this.$$set({allowNewline:e}),iS()}get textFormat(){return this.$$.ctx[16]}set textFormat(e){this.$$set({textFormat:e}),iS()}get formatInput(){return this.$$.ctx[17]}set formatInput(e){this.$$set({formatInput:e}),iS()}get formatPaste(){return this.$$.ctx[18]}set formatPaste(e){this.$$set({formatPaste:e}),iS()}get style(){return this.$$.ctx[19]}set style(e){this.$$set({style:e}),iS()}get innerHTML(){return this.$$.ctx[0]}set innerHTML(e){this.$$set({innerHTML:e}),iS()}get oninput(){return this.$$.ctx[20]}set oninput(e){this.$$set({oninput:e}),iS()}get enableTextStyleShortcuts(){return this.$$.ctx[21]}set enableTextStyleShortcuts(e){this.$$set({enableTextStyleShortcuts:e}),iS()}get confirm(){return this.$$.ctx[22]}get focus(){return this.$$.ctx[23]}get select(){return this.$$.ctx[24]}}const JL=["i","b","u","strike"].map((e=>({tag:e,tagOpen:new RegExp("<".concat(e,">"),"g"),tagClose:new RegExp("</".concat(e,">"),"g"),placeholderOpen:new RegExp("___".concat(e,"O___"),"g"),placeholderClose:new RegExp("___".concat(e,"C___"),"g")})));var YL=(e,t)=>Em(e)?parseFloat(e)/100*t:e,eB=(e,t)=>({x:Dv(e.x,t.width),y:Dv(e.y,t.height)});function tB(e,t,n){const r=e.slice();return r[299]=t[n],r[301]=n,r}function nB(e,t){let n,r,i,o,a,s,l,c,u,d,h,p=t[299].name+"";function f(){return t[189](t[301])}return i=new $P({props:{color:t[299].color}}),{key:e,first:null,c(){n=m$("li"),r=m$("button"),$S(i.$$.fragment),o=v$(),a=m$("span"),s=b$(p),c=v$(),k$(r,"class","PinturaShapeListItem"),k$(r,"type","button"),k$(r,"aria-label",l="Select shape "+t[299].name),this.first=n},m(e,t){f$(e,n,t),d$(n,r),SS(i,r,null),d$(r,o),d$(r,a),d$(a,s),d$(n,c),u=!0,d||(h=x$(r,"click",f),d=!0)},p(e,n){t=e;const o={};2097152&n[0]&&(o.color=t[299].color),i.$set(o),(!u||2097152&n[0])&&p!==(p=t[299].name+"")&&E$(s,p),(!u||2097152&n[0]&&l!==(l="Select shape "+t[299].name))&&k$(r,"aria-label",l)},i(e){u||(dS(i.$$.fragment,e),u=!0)},o(e){hS(i.$$.fragment,e),u=!1},d(e){e&&g$(n),kS(i),d=!1,h()}}}function rB(e){let t,n;return t=new WL({props:{visible:!0,points:e[12],rotatorPoint:e[27],selectedPoint:e[16],enableDragEdges:e[17],enableDragPoints:e[29],enableRotatePoints:e[14]}}),t.$on("resizestart",e[38]),t.$on("resizemove",e[39]),t.$on("resizeend",e[40]),t.$on("rotatestart",e[41]),t.$on("rotatemove",e[42]),t.$on("rotateend",e[43]),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};4096&n[0]&&(r.points=e[12]),134217728&n[0]&&(r.rotatorPoint=e[27]),65536&n[0]&&(r.selectedPoint=e[16]),131072&n[0]&&(r.enableDragEdges=e[17]),536870912&n[0]&&(r.enableDragPoints=e[29]),16384&n[0]&&(r.enableRotatePoints=e[14]),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function iB(e){let t,n,r,i;const o=[aB,oB],a=[];function s(e,t){return"modal"===e[4]?0:"inline"===e[4]?1:-1}return~(t=s(e))&&(n=a[t]=o[t](e)),{c(){n&&n.c(),r=w$()},m(e,n){~t&&a[t].m(e,n),f$(e,r,n),i=!0},p(e,i){let l=t;t=s(e),t===l?~t&&a[t].p(e,i):(n&&(cS(),hS(a[l],1,1,(()=>{a[l]=null})),uS()),~t?(n=a[t],n?n.p(e,i):(n=a[t]=o[t](e),n.c()),dS(n,1),n.m(r.parentNode,r)):n=null)},i(e){i||(dS(n),i=!0)},o(e){hS(n),i=!1},d(e){~t&&a[t].d(e),e&&g$(r)}}}function oB(e){let t,n,r,i,o,a={formatInput:e[45],wrapLines:!!e[13].width,textFormat:e[13].format,enableTextStyleShortcuts:e[5],allowNewline:e[28],style:e[26]};return n=new XL({props:a}),e[192](n),n.$on("input",e[46]),n.$on("keyup",e[49]),n.$on("cancel",e[51]),n.$on("confirm",e[50]),{c(){t=m$("div"),$S(n.$$.fragment),k$(t,"class","PinturaInlineInput"),k$(t,"style",e[25])},m(a,s){f$(a,t,s),SS(n,t,null),r=!0,i||(o=x$(t,"focusout",e[193]),i=!0)},p(e,i){const o={};8192&i[0]&&(o.wrapLines=!!e[13].width),8192&i[0]&&(o.textFormat=e[13].format),32&i[0]&&(o.enableTextStyleShortcuts=e[5]),268435456&i[0]&&(o.allowNewline=e[28]),67108864&i[0]&&(o.style=e[26]),n.$set(o),(!r||33554432&i[0])&&k$(t,"style",e[25])},i(e){r||(dS(n.$$.fragment,e),r=!0)},o(e){hS(n.$$.fragment,e),r=!1},d(r){r&&g$(t),e[192](null),kS(n),i=!1,o()}}}function aB(e){let t,n;return t=new sR({props:{panelOffset:e[2],onconfirm:e[50],oncancel:e[51],buttonCancel:{icon:e[6].shapeIconInputCancel,label:e[6].shapeLabelInputCancel},buttonConfirm:{icon:e[6].shapeIconInputConfirm,label:e[6].shapeLabelInputConfirm,hideLabel:!0},$$slots:{default:[sB]},$$scope:{ctx:e}}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};4&n[0]&&(r.panelOffset=e[2]),64&n[0]&&(r.buttonCancel={icon:e[6].shapeIconInputCancel,label:e[6].shapeLabelInputCancel}),64&n[0]&&(r.buttonConfirm={icon:e[6].shapeIconInputConfirm,label:e[6].shapeLabelInputConfirm,hideLabel:!0}),83886336&n[0]|8388608&n[9]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function sB(e){let t,n,r;return{c(){t=m$("textarea"),k$(t,"spellcheck","false"),k$(t,"autocorrect","off"),k$(t,"autocapitalize","off"),k$(t,"style",e[26])},m(i,o){f$(i,t,o),e[190](t),T$(t,e[24]),n||(r=[x$(t,"keydown",e[48]),x$(t,"keypress",e[47]),x$(t,"keyup",e[49]),x$(t,"input",e[46]),x$(t,"input",e[191])],n=!0)},p(e,n){67108864&n[0]&&k$(t,"style",e[26]),16777216&n[0]&&T$(t,e[24])},d(i){i&&g$(t),e[190](null),n=!1,Wx(r)}}}function lB(e){let t,n,r,i,o;return n=new tR({props:{items:e[22],key:e[10]}}),{c(){t=m$("div"),$S(n.$$.fragment),k$(t,"class","PinturaShapeControls"),k$(t,"style",e[23])},m(a,s){f$(a,t,s),SS(n,t,null),r=!0,i||(o=[x$(t,"measure",e[194]),i$(iC.call(null,t))],i=!0)},p(e,i){const o={};4194304&i[0]&&(o.items=e[22]),1024&i[0]&&(o.key=e[10]),n.$set(o),(!r||8388608&i[0])&&k$(t,"style",e[23])},i(e){r||(dS(n.$$.fragment,e),r=!0)},o(e){hS(n.$$.fragment,e),r=!1},d(e){e&&g$(t),kS(n),i=!1,Wx(o)}}}function cB(e){let t,n,r,i,o,a,s,l,c,u,d=[],h=new Map,p=e[21];const f=e=>e[299].id;for(let b=0;b<p.length;b+=1){let t=tB(e,p,b),n=f(t);h.set(n,d[b]=nB(n,t))}let g=e[15]&&rB(e),m=e[11]&&iB(e),y=e[18]>0&&lB(e);return{c(){t=m$("div"),n=m$("nav"),r=m$("ul");for(let e=0;e<d.length;e+=1)d[e].c();i=v$(),g&&g.c(),o=v$(),m&&m.c(),a=v$(),y&&y.c(),k$(n,"class","PinturaShapeList"),k$(n,"data-visible",e[19]),k$(t,"class","PinturaShapeEditor"),k$(t,"tabindex","0")},m(h,p){f$(h,t,p),d$(t,n),d$(n,r);for(let e=0;e<d.length;e+=1)d[e].m(r,null);d$(t,i),g&&g.m(t,null),d$(t,o),m&&m.m(t,null),d$(t,a),y&&y.m(t,null),e[195](t),l=!0,c||(u=[x$(n,"focusin",e[54]),x$(n,"focusout",e[55]),x$(t,"keydown",(function(){Vx(e[0]?om:e[44])&&(e[0]?om:e[44]).apply(this,arguments)})),x$(t,"nudge",(function(){Vx(e[0]?om:e[53])&&(e[0]?om:e[53]).apply(this,arguments)})),x$(t,"measure",e[188]),x$(t,"pointermove",(function(){Vx(e[0]?om:e[56])&&(e[0]?om:e[56]).apply(this,arguments)})),x$(t,"pointerleave",(function(){Vx(e[0]?om:e[57])&&(e[0]?om:e[57]).apply(this,arguments)})),x$(t,"interactionstart",(function(){Vx(e[0]?om:e[32])&&(e[0]?om:e[32]).apply(this,arguments)})),x$(t,"interactionupdate",(function(){Vx(e[0]?om:e[34])&&(e[0]?om:e[34]).apply(this,arguments)})),x$(t,"interactioncancel",(function(){Vx(e[0]?om:e[33])&&(e[0]?om:e[33]).apply(this,arguments)})),x$(t,"interactionrelease",(function(){Vx(e[0]?om:e[35])&&(e[0]?om:e[35]).apply(this,arguments)})),x$(t,"interactionend",(function(){Vx(e[0]?om:e[36])&&(e[0]?om:e[36]).apply(this,arguments)})),i$(iC.call(null,t)),i$(tE.call(null,t)),i$(s=eE.call(null,t,{drag:!0,inertia:!0,multiTouch:!1,observeKeys:!0,shouldStartInteraction:uB,getEventPosition:e[196]}))],c=!0)},p(i,c){e=i,2097282&c[0]&&(p=e[21],cS(),d=bS(d,c,f,1,e,p,h,r,yS,nB,null,tB),uS()),(!l||524288&c[0])&&k$(n,"data-visible",e[19]),e[15]?g?(g.p(e,c),32768&c[0]&&dS(g,1)):(g=rB(e),g.c(),dS(g,1),g.m(t,o)):g&&(cS(),hS(g,1,1,(()=>{g=null})),uS()),e[11]?m?(m.p(e,c),2048&c[0]&&dS(m,1)):(m=iB(e),m.c(),dS(m,1),m.m(t,a)):m&&(cS(),hS(m,1,1,(()=>{m=null})),uS()),e[18]>0?y?(y.p(e,c),262144&c[0]&&dS(y,1)):(y=lB(e),y.c(),dS(y,1),y.m(t,null)):y&&(cS(),hS(y,1,1,(()=>{y=null})),uS()),s&&Vx(s.update)&&8&c[0]&&s.update.call(null,{drag:!0,inertia:!0,multiTouch:!1,observeKeys:!0,shouldStartInteraction:uB,getEventPosition:e[196]})},i(e){if(!l){for(let e=0;e<p.length;e+=1)dS(d[e]);dS(g),dS(m),dS(y),l=!0}},o(e){for(let t=0;t<d.length;t+=1)hS(d[t]);hS(g),hS(m),hS(y),l=!1},d(n){n&&g$(t);for(let e=0;e<d.length;e+=1)d[e].d();g&&g.d(),m&&m.d(),y&&y.d(),e[195](null),c=!1,Wx(u)}}}const uB=(e,t)=>e.target===t;function dB(e,t,n){let r,i,o,a,s,l,c,u,d,h,p,f,g,m,y,b,v,w,x,$,S,k,A,C,E,T,P,R,M,I,L,B,O,F,N,D,z,_,U,j,H,W,V,G,Q,q,K,Z,X,J,Y,ee,te,ne,re,ie,oe,ae,se,le,ce,ue,de=zx,he=()=>(de(),de=Qx(me,(e=>n(184,ae=e))),me);e.$$.on_destroy.push((()=>de()));let{uid:pe=Mm()}=t,{ui:fe}=t,{disabled:ge=!1}=t,{shapes:me}=t;he();let{selection:ye}=t,{offset:be}=t,{contextRotation:ve=0}=t,{contextFlipX:we=!1}=t,{contextFlipY:xe=!1}=t,{contextZoom:$e=1}=t,{active:Se=!1}=t,{opacity:ke=1}=t,{parentRect:Ae}=t,{rootRect:Ce}=t,{utilRect:Ee}=t,{hoverColor:Te}=t,{caretColor:Pe}=t,{gridColor:Re}=t,{snapColor:Me}=t,{textInputMode:Ie="inline"}=t,{oninteractionstart:Le=om}=t,{oninteractionupdate:Be=om}=t,{oninteractionrelease:Oe=om}=t,{oninteractionend:Fe=om}=t,{oninteractioncancel:Ne=om}=t,{onaddshape:De=om}=t,{onupdateshape:ze=om}=t,{onselectshape:_e=om}=t,{onblurshape:Ue=om}=t,{onremoveshape:je=om}=t,{ontapshape:He=om}=t,{onhovershape:We=om}=t,{ontriggerhistorywrite:Ve=om}=t,{onhovercanvas:Ge=om}=t,{ontapcanvas:Qe=om}=t,{onleavecanvas:qe=om}=t,{beforeSelectShape:Ke=(()=>!0)}=t,{beforeDeselectShape:Ze=(()=>!0)}=t,{beforeRemoveShape:Xe=(()=>!0)}=t,{beforeUpdateShape:Je=((e,t,n)=>t)}=t,{willRenderShapeControls:Ye=Qm}=t,{willRenderShapeTextControls:et=Qm}=t,{willStartInteraction:tt=((e,t)=>!0)}=t,{mapEditorPointToImagePoint:nt}=t,{mapImagePointToEditorPoint:rt}=t,{eraseRadius:it}=t,{selectRadius:ot}=t,{enableButtonFlipVertical:at=!1}=t,{enableTapToAddText:st=!0}=t,{enableMultiSelect:lt=!1}=t,{enableTextStyleControls:ct=!0}=t,{locale:ut}=t,{snapThreshold:dt=0}=t,{snapPointer:ht=!0}=t,{enableSnapToContext:pt=!0}=t,{gridSize:ft=0}=t;const gt=e=>{if(0===dt)return[];let t;return pt&&(t={...Ae,x:0,y:0}),[...ae.filter((t=>t!==e)).filter((e=>!Ew(e))).filter((e=>(e=>!0!==e.disableAcceptSnap)(e))).map((e=>sx({...e},Ae))),t].filter(Boolean)},mt=(e,t,n,r)=>0===e?{snapTargets:[]}:{snapThreshold:e,gridSize:t,gridRect:n,snapTargets:gt(r)},yt=H$("isAnimated");Kx(e,yt,(e=>n(185,le=e)));const bt=e=>e.set(qx(e)),vt=e=>qx(e).find(Ew),wt=(e,t)=>{if(!vt(t))return Iw(e),kt(e,t)},xt=e=>{vt(e)&&e.update((e=>e.filter((e=>!Ew(e)))))},$t=e=>{const t=vt(e);if(t)return Lw(t),bt(e),t},St=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>({...e,...t});vt(t)&&t.update((t=>t.map((t=>Ew(t)?n(t,e):t))))},kt=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:me).update((t=>[...t,e])),e},At=(e,t,n)=>{const r=Je({...e},t,{...n});return dx(e,r,n),e},Ct=(e,t)=>{const n=Py(e,t),r=vy(e,t),i=Math.PI/8,o=i*Math.round(r/i)-ve%i;t.x=e.x+n*Math.cos(o),t.y=e.y+n*Math.sin(o)},Et=H$("keysPressed");Kx(e,Et,(e=>n(186,ce=e)));const Tt=(e,t,n)=>0===e||t&&n?e:t||n?-e:e,Pt=e=>{if(null===e.x&&null===e.y)return Rt();e.x&&n(140,Mt=nt({x:e.x,y:0}).x),e.y&&n(141,It=nt({x:0,y:e.y}).y)},Rt=()=>{n(140,Mt=null),n(141,It=null)};let Mt=null,It=null;const Lt=(e,t)=>{const n=rt(e);return nt($y(n,t))},Bt=(e,t,n)=>{const r=(n-t)/e+1;return Array.from({length:r},((n,r)=>t+r*e))},Ot=e=>{let t=[],n=[],r=e.points;if(void 0!==e.x1&&(r=[{x:e.x1,y:e.y1},{x:e.x2,y:e.y2}]),r){const e=r.map(rt),i=nb(e),o=e[0],a=e[e.length-1];t=[i.x,i.x+.5*i.width,i.x+i.width,o.x,a.x],n=[i.y,i.y+.5*i.height,i.y+i.height,o.y,a.y]}else if(e.text||void 0!==e.width||void 0!==e.rx){let r;if(e.text&&void 0===e.height){const t=Yv(e.text,e);r=ob(e.x,e.y,t.width,t.height)}else r=void 0!==e.width?tb(e):tb({x:e.x-e.rx,y:e.y-e.ry,width:2*e.rx,height:2*e.ry});const i=$b(r).map(rt),o=Math.abs(e.rotation)>0?mb(r,e.rotation).map(rt):i,a=nb(o),s=ab(a),l=.5*a.width,c=.5*a.height;t=[s.x-l,s.x,s.x+l],n=[s.y-c,s.y,s.y+c]}else if(void 0!==e.x){const r=rt(e);t=[r.x],n=[r.y]}return{x:t,y:n}},Ft=(e,t,n)=>{let r,i,o,a=Number.Infinity,s=null,l=null;for(let c=0;c<e.length;c++){i=e[c];for(let e=0;e<t.length;e++)o=t[e],r=Math.abs(i-o),r<n&&(null===l||r<a)&&(a=r,s=i,l=o)}return{origin:s,target:l}},Nt=(e,t,n,r,i)=>{const o={x:null,y:null},a={x:null,y:null},s=t.map(Ot);if(r>0){const e=rt({x:0,y:0}),t=rt({x:r,y:r}),n=rt({x:i.width,y:i.height}),o=t.x-e.x,a=Bt(o,e.x,n.x),l=Bt(o,e.y,n.y);s.push({x:a,y:l})}return s.forEach((t=>{const{snapTranslation:r,snapLine:i}=((e,t,n)=>{const r={x:null,y:null},i={x:null,y:null},o=Ft(e.x,t.x,n);null!==o.target&&(r.x=o.target,i.x=o.target-o.origin);const a=Ft(e.y,t.y,n);return null!==a.target&&(r.y=a.target,i.y=a.target-a.origin),{snapTranslation:i,snapLine:r}})(e,t,n);null!==r.x&&(null===a.x||Math.abs(r.x)<Math.abs(a.x))&&(a.x=r.x||0,o.x=i.x),null!==r.y&&(null===a.y||Math.abs(r.y)<Math.abs(a.y))&&(a.y=r.y||0,o.y=i.y)})),{snapTranslation:a,snapLines:o}},Dt=(e,t)=>(null!==t.x&&(e.x+=t.x),null!==t.y&&(e.y+=t.y),e),zt=(e,t,n,r)=>{const{snapThreshold:i=0,gridSize:o=0,gridRect:a,snapTargets:s=[]}=r||{};let l=null;if(xw(e)){if(i){const r=sx({...e},Ae),l=Lt(fw(t),n),c=Lt(gw(t),n),u=Ot({...r,x1:l.x,y1:l.y,x2:c.x,y2:c.y}),{snapTranslation:d,snapLines:h}=Nt(u,s,i,o,a);Dt(n,d),Pt(h)}const r=Lt(fw(t),n),c=Lt(gw(t),n);l={x1:r.x,y1:r.y,x2:c.x,y2:c.y}}else if(e.points){if(Uw(wn)&&Zt(wn,{selectedPoint:void 0}),i){const r=sx({...e},Ae),l=Ot({...r,points:t.points.map((e=>Lt(e,n)))}),{snapTranslation:c,snapLines:u}=Nt(l,s,i,o,a);Dt(n,c),Pt(u)}l={points:t.points.map((e=>Lt(e,n)))}}else if(vw(e)||mw(e)||ww(e)){if(i){const r=sx({...e},Ae),l=Lt(t,n),c=Ot({...r,...l}),{snapTranslation:u,snapLines:d}=Nt(c,s,i,o,a);Dt(n,u),Pt(d)}l=Lt(t,n)}l&&(At(e,l,Ae),qt())},_t={0:1,1:0,2:3,3:2},Ut={0:3,1:2,2:1,3:0};let jt;const Ht=(e,t)=>{const n=e.points.filter(((e,n)=>n!==t));Zt(e,{points:n,selectedPoint:void 0})},Wt=()=>{if(ae.length)return ae.find(Ew)},Vt=()=>{if(ae.length)return ae.findIndex(Ew)},Gt=()=>{const e=Wt();if(e)return Lw(e),qt(),e},Qt=()=>{if(!Wt())return;const e=[...ae];e.splice(Vt(),1),me.set(e)},qt=()=>{me.set(ae)},Kt=function(e){let t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).filter(Boolean).forEach((t=>delete e[t])),t&&qt()},Zt=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=Object.assign(e,t),n&&qt()},Xt=function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];e[t]=n,r&&qt()},Jt=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];ae.forEach((t=>Zt(t,e,!1))),t&&qt()},Yt=()=>[...ae].reverse().filter(Aw),en=()=>[...ae].reverse().find(Aw),tn=()=>!!en(),nn=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=ae.filter((e=>Fw(e)&&Ow(e))),i=r.findIndex((t=>t===e));if(!1===function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Xe(e))return!1;me.set(ae.filter((t=>t!==e))),t||je(e)}(e,n))return;if(on=e,r.length-1<=0)return an();if(!t)return!0;const o=i-1<0?r.length-1:i-1;return ln(r[o]),!0},rn=()=>{if(a){const e=[];return o.forEach(((t,n)=>{Fw(t)&&nn(t,n===o.length-1,!0)&&e.push(t)})),void(e.length&&Ve())}const e=en();e&&nn(e)};let on;const an=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{storePrevious:t=!0}=e;Object.keys(lr).forEach((e=>lr[e]={}));const n=sn();t&&(on=n),Jt({isSelected:!1,isEditing:!1,_prerender:!1}),n&&Ue(n)},sn=()=>ae.find(Aw),ln=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Ew(e))return;const r=sn()||on,i=Aw(e);on=void 0,Ke(r,e)&&(n||an(),(e=>{e.isSelected=!0})(e),!i&&_e(e),t&&qt())},cn=e=>{tr&&tr.confirm&&e.isEditing&&tr.confirm();const t={isSelected:!1,isEditing:!1,_prerender:!1};e.selectedPoint>-1&&(t.selectedPoint=void 0),Zt(e,t),Ue(e)},un=e=>{Zt(e,{isSelected:!0,isEditing:!0,_prerender:"inline"===Ie})},dn=e=>{Zt(e,{isSelected:!0,isEditing:!1,_prerender:!1})},hn=e=>{if(!e.length)return[];const t=e.filter(Xe);return me.set(ae.filter((e=>!t.includes(e)))),t},pn=e=>{const t=Yv(e.text,e);return ob(e.x,e.y,e.width?Math.min(e.width,t.width):t.width,e.height?Math.min(e.height,t.height):t.height)},fn=e=>{if(Tw(e))return tb(e);if(ww(e))return rb(e);const t=pn(e);return t.width=Math.max(10,e.width||t.width),t},gn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>!0;return[...e].reverse().filter(r).map((e=>({shape:e,priority:1}))).filter((e=>{const{shape:r}=e,i=sx(cw(r),Ae),o=n+.5*(i.strokeWidth||0);if(vw(i))return Nb(t,o,i,r.rotation);if(mw(i)){const n=fn(i),a=Nb(t,o,n,r.rotation);let s=!1;if(a&&!Aw(r)){const a=pn(i);"right"!==r.textAlign||r.flipX||(a.x=n.x+n.width-a.width),"center"===r.textAlign&&(a.x=n.x+.5*n.width-.5*a.width),s=Nb(t,o,a,r.rotation,ab(n)),s||(e.priority=-1)}return a}return ww(i)?((e,t,n,r,i,o)=>{const a=Lb(hy(n.x,n.y),n.rx,n.ry,r,i,o,12);return Fb(e,t,a)})(t,o,i,r.rotation,r.flipX,r.flipY):xw(i)?Bb(t,Math.max(16,o),fw(i),gw(i)):$w(i)&&i.pathClose?Fb(t,o,i.points):!!$w(i)&&(1===i.points.length?Ty(t,i.points[0])<o*o:Ob(t,Math.max(16,o),i.points))})).sort(((e,t)=>e.priority<t.priority?1:e.priority>t.priority?-1:0)).map((e=>e.shape))},mn=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const i=Math.abs(r),o=Gy(t,n),a=qy(o,i),s=((e,t)=>{let{start:n,end:r}=e;if(0===t)return[hy(n.x,n.y),hy(n.x,n.y),hy(r.x,r.y),hy(r.x,r.y)];const i=Math.atan2(r.y-n.y,r.x-n.x),o=Math.sin(i)*t,a=Math.cos(i)*t;return[hy(o+n.x,-a+n.y),hy(-o+n.x,a+n.y),hy(-o+r.x,a+r.y),hy(o+r.x,-a+r.y)]})(a,i);return e.filter((e=>{const t=sx(cw(e),Ae);if(xw(t)||$w(t)){const e=t.points?[...t.points]:[fw(t),gw(t)];return!!Pb(a,e)}return((e,t)=>!!e.find((e=>Rb(e,t)))||!!t.find((t=>Rb(t,e))))(s,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;if(vw(e))return mb(e,e.rotation,ab(e));if(mw(e)){const t=fn(e);return mb(t,e.rotation,ab(t))}return ww(e)?Lb(hy(e.x,e.y),e.rx,e.ry,e.rotation,e.flipX,e.flipY,t):[]}(t))}))};let yn,bn,vn,wn,xn,$n,Sn,kn=!1,An=!1,Cn=!1;const En=e=>{Sn=e.map((e=>({shape:e,shapeOrigin:cw(e),shapeOriginComputed:sx(cw(e),Ae)})))},Tn=()=>{clearTimeout(bn),bn=void 0,n(143,Cn=!1),Rt()};let Pn=null;const Rn=e=>{const t=Tv(e.rotation)&&0!==e.rotation;if(vw(e)){if(e.width<1&&e.height<1)return;const n=ab(e),r=$b(e);return(e.flipX||e.flipY)&&My(r,e.flipX,e.flipY,n.x,n.y),t?Iy(r,e.rotation,n.x,n.y):r}if(ww(e)){if(e.rx<1&&e.ry<1)return;const n=e,r=$b(rb(e));return(e.flipX||e.flipY)&&My(r,e.flipX,e.flipY,n.x,n.y),t?Iy(r,e.rotation,n.x,n.y):r}if(xw(e))return[fw(e),gw(e)];if($w(e)){if(e.bitmap&&!e.pathClose){const t=nb(e.points);return t.x-=.5*e.strokeWidth,t.y-=.5*e.strokeWidth,t.width+=e.strokeWidth,t.height+=e.strokeWidth,Rn({...e,...t})}return[...e.points]}if(mw(e)){if(e.width<5&&e.height<5)return;const n=fn(e);n.width=Math.max(10,n.width);const r=ab(n),i=$b(n);return(e.flipX||e.flipY)&&My(i,e.flipX,e.flipY,r.x,r.y),t?Iy(i,e.rotation,r.x,r.y):i}return[]},Mn=e=>{const t=Rn(e);let n,r;return e.flipY?(n=Ry([t[0],t[1]]),r=by(hy(t[1].x-t[2].x,t[1].y-t[2].y))):(n=Ry([t[2],t[3]]),r=by(hy(t[2].x-t[1].x,t[2].y-t[1].y))),Ay(r,20/$e),{origin:n,dir:r}},In=e=>t=>t.id===e,Ln=e=>{const t=In(e);return e=>e.filter((e=>t=>!e(t))(t))},Bn=e=>{const t=In(e),n=Ln(e);return()=>fe.update((e=>e.some(t)?n(e):e))},On=e=>{const t=Ln(e);return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];fe.update((e=>[...t(e),...n.filter(Boolean)]))}},Fn=Bn("markup-hover"),Nn=On("markup-hover");let Dn;const zn="markup-manipulator-segment-"+pe,_n=Bn(zn),Un=On(zn),jn=(e,t)=>{const n=e[t],r=t-1<0?e[e.length-1]:e[t-1],i=t+1<e.length?e[t+1]:e[0],o=Sy(fy(r),n);by(o);const a=$y(Ay(o,10),n),s=Sy(fy(i),n);return by(s),[a,n,$y(Ay(s,10),n)]},Hn=()=>{n(144,Dn=void 0),Fn()},Wn="markup-multi-selection-segment-"+pe,Vn=Bn(Wn),Gn=On(Wn),Qn=(e,t)=>{if(dt<=0)return e;if(t)return Rt(),e;const n=nt(e),i=gt(),{snapTranslation:o,snapLines:a}=Nt(Ot(n),i,dt,ft,r);return Pt(a),Dt(e,o),e},qn=jA(0);Kx(e,qn,(e=>n(187,ue=e)));const Kn="markup-grid-line-"+pe,Zn=Bn(Kn),Xn=On(Kn),Jn="markup-snap-line",Yn=Bn(Jn),er=On(Jn);let tr;const nr=e=>{n(8,tr.innerHTML=(e=>function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:JL).forEach((t=>{let{tag:n,placeholderOpen:r,placeholderClose:i}=t;e=e.replace(r,"<".concat(n,">")).replace(i,"</".concat(n,">"))})),e}(e=(e=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:JL).forEach((t=>{let{tag:n,tagOpen:r,tagClose:i}=t;e=e.replace(r,"___".concat(n,"O___")).replace(i,"___".concat(n,"C___"))})),e}(e)).replace(/ {2,}/g," ").replace(/\u00a0/g,"&nbsp;").split("\n").join("<br>")))(e),tr)},rr=()=>{const e=(e=>{const t=void 0===e.value?e.innerHTML:e.value,n="text"===i.format?QL(t).split(/<br>|<br\/>/g).join("\n").replace(/&nbsp;/g,String.fromCharCode(160)).replace(/&amp;/g,"&"):t;return yw(i)&&!1!==i.disableNewline?(e=>{const t=e.split(/[\n\r]/g);return t.length>1?t.map((e=>e.trim())).filter((e=>e.length)).join(" "):t[0]})(n):n})(tr),t=zw(i,e),n=!0===t?e:t;let r=F.x,o=F.y;if(!i.height){const e=mb({...D},i.rotation),t=Yv(n,d),a=mb({x:r,y:o,...t},i.rotation),[s,,l]=e,[c,,u]=a;let h=s,p=c;i.flipX&&(h=l,p=u);const f=Sy(fy(h),p);r+=f.x,o+=f.y}Zt(i,{x:Em(O.x)?Dv(r,Ae.width):r,y:Em(O.y)?Dv(o,Ae.height):o,text:n})},ir=()=>{c&&Gt(),tr&&tr.confirm&&tr.confirm(),rr(),dn(i),ze(i)},or=()=>{c?Qt():(Zt(i,{text:O.text,x:O.x,y:O.y}),dn(i))},ar=function(e,t,n){let r,i,{flipX:o,flipY:a,rotation:s}=n,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"top left";const[c,u,d,h]=mb(e,s),[p,f,g,m]=mb(t,s);return"top center"===l?(r=Ry(a?[h,d]:[c,u]),i=Ry(a?[m,g]:[p,f])):"top right"===l&&!o||"top left"===l&&o?(r=a?d:u,i=a?g:f):(r=a?h:c,i=a?m:p),Sy(fy(r),i)},sr=(e,t,n)=>hy(Em(e.x)?Dv(t.x+n.x,Ae.width):t.x+n.x,Em(e.y)?Dv(t.y+n.y,Ae.height):t.y+n.y),lr={},cr=()=>Ht(i,i.selectedPoint),ur=()=>un(i),dr=()=>{const e=Vy(Yv(i.text,d),(e=>Math.ceil(e))),t=Rv(i,"height"),n=!t&&Rv(i,"width"),r=i.id;let o=lr[r];o||(lr[r]={},o=lr[r]);const a=e=>{const{width:t,...n}=d,r=Yv(i.text,n),o=ar(ob(d.x,d.y,e.width,e.height),ob(d.x,d.y,r.width,r.height),d,"top "+i.textAlign),a=!1!==d.disableNewline;Kt(i,["width","height",a&&"textAlign"]),Zt(i,{...sr(i,d,o)})},s=t=>{const n=zy(o.width||d.width||e.width,e.height),r=o.textAlign||"left",a=ar(ob(d.x,d.y,t.width,t.height),ob(d.x,d.y,n.width,n.height),d,"top "+r);Kt(i,["height"]),Zt(i,{...sr(i,d,a),width:Em(i.width)?Dv(n.width,Ae.width):n.width,textAlign:r})},l=t=>{const n=zy(o.width||e.width,o.height||e.height),r=o.textAlign||"left",a=ar(ob(d.x,d.y,t.width,t.height),ob(d.x,d.y,n.width,n.height),d,"top "+r);Zt(i,{...sr(i,d,a),width:Em(i.width)?Dv(n.width,Ae.width):n.width,height:Em(i.width)?Dv(n.height,Ae.height):n.height,textAlign:r})};if(t){o.textAlign=i.textAlign,o.width=d.width,o.height=d.height;const e=zy(d.width,d.height);_w(i,"auto-height")?s(e):_w(i,"auto-width")&&a(e)}else if(n){o.textAlign=i.textAlign,o.width=d.width;const t=zy(d.width,e.height);_w(i,"auto-width")?a(t):_w(i,"fixed-size")&&l(t)}else{o.textAlign=i.textAlign;const t=zy(Math.ceil(e.width),Math.ceil(e.height));_w(i,"fixed-size")?l(t):_w(i,"auto-height")&&s(t)}},hr=e=>{e.stopPropagation();const t=i.flipX||!1;Xt(i,"flipX",!t),ze(i)},pr=e=>{e.stopPropagation();const t=i.flipY||!1;Xt(i,"flipY",!t),ze(i)},fr=e=>{Xt(i,"opacity",e)},gr=e=>{fr(e),ze(i)},mr=e=>{e.stopPropagation(),e.target.blur(),rn()},yr=e=>{e.stopPropagation(),ae.findIndex((e=>e===i))!==ae.length-1&&(me.set(ae.filter((e=>e!==i)).concat([i])),ze(i))},br=e=>{e.stopPropagation(),vr()},vr=()=>{const e=(a?o:[i]).filter(Nw).map((e=>{const t=cw(e);t.id=Mm();const n=hy(50,-50);if(Rv(t,"points")){const e=ux(t,["points"],Ae);e.points.forEach((e=>{e.x+=n.x,e.y+=n.y})),dx(t,e,Ae)}else if(xw(t)){const e=ux(t,["x1","y1","x2","y2"],Ae);e.x1+=n.x,e.y1+=n.y,e.x2+=n.x,e.y2+=n.y,dx(t,e,Ae)}else{const e=ux(t,["x","y"],Ae);e.x+=50,e.y-=50,dx(t,e,Ae)}return me.set([...ae,t]),De(t),t}));if(e.length>1)return an(),void e.forEach((e=>{ln(e,!0,!0)}));ln(e[0])},wr=jA(0,{stiffness:.2,damping:.7});let xr;Kx(e,wr,(e=>n(18,se=e)));const $r=(e,t)=>{const{disableTextLayout:n=[]}=t;return"height"in t?n.includes("auto-height")?e.shapeIconButtonTextLayoutAutoWidth:e.shapeIconButtonTextLayoutAutoHeight:"width"in t?n.includes("auto-width")?e.shapeIconButtonTextLayoutFixedSize:e.shapeIconButtonTextLayoutAutoWidth:n.includes("fixed-size")?e.shapeIconButtonTextLayoutAutoHeight:e.shapeIconButtonTextLayoutFixedSize},Sr=(e,t)=>{const{disableTextLayout:n=[]}=t;return"height"in t?n.includes("auto-height")?e.shapeTitleButtonTextLayoutAutoWidth:e.shapeTitleButtonTextLayoutAutoHeight:"width"in t?n.includes("auto-width")?e.shapeTitleButtonTextLayoutFixedSize:e.shapeTitleButtonTextLayoutAutoWidth:n.includes("fixed-size")?e.shapeTitleButtonTextLayoutAutoHeight:e.shapeTitleButtonTextLayoutFixedSize};let kr,Ar=!1,Cr=dy();const Er=e=>{We(e),n(144,Dn=e)};let Tr;return _$((()=>{Yn(),Zn(),_n(),Fn()})),e.$$set=e=>{"uid"in e&&n(58,pe=e.uid),"ui"in e&&n(59,fe=e.ui),"disabled"in e&&n(0,ge=e.disabled),"shapes"in e&&he(n(1,me=e.shapes)),"selection"in e&&n(60,ye=e.selection),"offset"in e&&n(2,be=e.offset),"contextRotation"in e&&n(61,ve=e.contextRotation),"contextFlipX"in e&&n(62,we=e.contextFlipX),"contextFlipY"in e&&n(63,xe=e.contextFlipY),"contextZoom"in e&&n(64,$e=e.contextZoom),"active"in e&&n(65,Se=e.active),"opacity"in e&&n(66,ke=e.opacity),"parentRect"in e&&n(67,Ae=e.parentRect),"rootRect"in e&&n(3,Ce=e.rootRect),"utilRect"in e&&n(68,Ee=e.utilRect),"hoverColor"in e&&n(69,Te=e.hoverColor),"caretColor"in e&&n(70,Pe=e.caretColor),"gridColor"in e&&n(71,Re=e.gridColor),"snapColor"in e&&n(72,Me=e.snapColor),"textInputMode"in e&&n(4,Ie=e.textInputMode),"oninteractionstart"in e&&n(73,Le=e.oninteractionstart),"oninteractionupdate"in e&&n(74,Be=e.oninteractionupdate),"oninteractionrelease"in e&&n(75,Oe=e.oninteractionrelease),"oninteractionend"in e&&n(76,Fe=e.oninteractionend),"oninteractioncancel"in e&&n(77,Ne=e.oninteractioncancel),"onaddshape"in e&&n(78,De=e.onaddshape),"onupdateshape"in e&&n(79,ze=e.onupdateshape),"onselectshape"in e&&n(80,_e=e.onselectshape),"onblurshape"in e&&n(81,Ue=e.onblurshape),"onremoveshape"in e&&n(82,je=e.onremoveshape),"ontapshape"in e&&n(83,He=e.ontapshape),"onhovershape"in e&&n(84,We=e.onhovershape),"ontriggerhistorywrite"in e&&n(85,Ve=e.ontriggerhistorywrite),"onhovercanvas"in e&&n(86,Ge=e.onhovercanvas),"ontapcanvas"in e&&n(87,Qe=e.ontapcanvas),"onleavecanvas"in e&&n(88,qe=e.onleavecanvas),"beforeSelectShape"in e&&n(89,Ke=e.beforeSelectShape),"beforeDeselectShape"in e&&n(90,Ze=e.beforeDeselectShape),"beforeRemoveShape"in e&&n(91,Xe=e.beforeRemoveShape),"beforeUpdateShape"in e&&n(92,Je=e.beforeUpdateShape),"willRenderShapeControls"in e&&n(93,Ye=e.willRenderShapeControls),"willRenderShapeTextControls"in e&&n(94,et=e.willRenderShapeTextControls),"willStartInteraction"in e&&n(95,tt=e.willStartInteraction),"mapEditorPointToImagePoint"in e&&n(96,nt=e.mapEditorPointToImagePoint),"mapImagePointToEditorPoint"in e&&n(97,rt=e.mapImagePointToEditorPoint),"eraseRadius"in e&&n(98,it=e.eraseRadius),"selectRadius"in e&&n(99,ot=e.selectRadius),"enableButtonFlipVertical"in e&&n(100,at=e.enableButtonFlipVertical),"enableTapToAddText"in e&&n(101,st=e.enableTapToAddText),"enableMultiSelect"in e&&n(102,lt=e.enableMultiSelect),"enableTextStyleControls"in e&&n(5,ct=e.enableTextStyleControls),"locale"in e&&n(6,ut=e.locale),"snapThreshold"in e&&n(103,dt=e.snapThreshold),"snapPointer"in e&&n(104,ht=e.snapPointer),"enableSnapToContext"in e&&n(105,pt=e.enableSnapToContext),"gridSize"in e&&n(106,ft=e.gridSize)},e.$$.update=()=>{var t,de;if(32&e.$$.dirty[2]|8192&e.$$.dirty[3]&&n(172,r=ft>0?{x:0,y:0,...Ae}:void 0),1&e.$$.dirty[0]|536870912&e.$$.dirty[5]&&n(148,i=!ge&&ae&&(Wt()||en())),512&e.$$.dirty[3]|536870912&e.$$.dirty[5]&&n(164,o=lt?ae.filter(Aw):[]),512&e.$$.dirty[5]&&n(163,a=o.length>1),32&e.$$.dirty[2]|768&e.$$.dirty[5]&&n(183,s=a?o.map((e=>sx(cw(e),Ae))):[]),16777216&e.$$.dirty[4]&&n(180,l=!!i),16777216&e.$$.dirty[4]&&n(166,c=i&&Ew(i)),16777216&e.$$.dirty[4]|2048&e.$$.dirty[5]&&n(10,u=i&&!c?i.id:void 0),8&e.$$.dirty[0]|32&e.$$.dirty[2]|16777216&e.$$.dirty[4]&&n(13,d=Ce&&i&&sx(cw(i),Ae)),16777216&e.$$.dirty[4]|2048&e.$$.dirty[5]&&n(146,h=!(!i||!c)),8192&e.$$.dirty[0]|16&e.$$.dirty[2]|16777216&e.$$.dirty[4]&&n(179,p=i&&ke&&Rn(d)||[]),268435712&e.$$.dirty[5]&&n(176,f=a?s.map(Rn):[]),16777216&e.$$.dirty[4]|256&e.$$.dirty[5]&&n(182,g=!a&&i&&Hw(t=i)&&Ww(t)&&!0!==t.disableResize&&(Tw(t)||bw(t)||ww(t)||xw(t)||$w(t)&&Rv(t,"pathClose"))&&!Sw(i)),16777216&e.$$.dirty[4]|256&e.$$.dirty[5]&&n(14,m=!a&&i&&(e=>Hw(e)&&!0!==e.disableRotate&&(Tw(e)||Rv(e,"text")||ww(e)))(i)&&!Sw(i)),16777216&e.$$.dirty[4]|134217728&e.$$.dirty[5]&&n(17,y=g&&Rv(i,"text")&&!i.height?[[1,2],[3,0]]:(!i||!xw(i)&&!$w(i))&&g),131072&e.$$.dirty[0]|16777216&e.$$.dirty[4]|134217728&e.$$.dirty[5]&&n(29,b=!!i&&!Array.isArray(y)&&g),768&e.$$.dirty[5]&&n(181,v=a?(e=>{const t=e.map((e=>Rn(sx(e,Ae)))).flat(),n=nb(t);return $b(n)})(o):[]),16777216&e.$$.dirty[4]|16777472&e.$$.dirty[5]&&n(15,w=i&&p.length>1||a),16&e.$$.dirty[3]|83886336&e.$$.dirty[5]&&n(177,x=a?v.map(rt):p.map(rt)),4&e.$$.dirty[0]|4194304&e.$$.dirty[5]&&n(12,$=x.map((e=>hy(e.x-be.x,e.y-be.y)))),16777216&e.$$.dirty[4]&&n(16,S=i&&i.points&&Tv(i.selectedPoint)?i.selectedPoint:-1),65536&e.$$.dirty[0]&&n(156,k=S>=0),69632&e.$$.dirty[0]|2&e.$$.dirty[5]&&n(161,A=k?$[S]:void 0),16777216&e.$$.dirty[4]|33554432&e.$$.dirty[5]&&n(28,C=l&&(bw(i)?!Rv(i,"disableNewline")||!i.disableNewline:!1===i.disableNewline)),16&e.$$.dirty[3]|1048576&e.$$.dirty[4]&&(Dn&&rt&&!Aw(Dn)&&Ow(Dn)?(e=>{const t=Rn(sx(cw(e),Ae));if(!t)return;const n=t.map(rt),r=!!e.pathClose||!(!e.bitmap&&($w(e)||xw(e))),i="hook"===e.selectionStyle,o=i?n.map(((e,t,n)=>({id:"markup-hover",points:jn(n,t),strokeColor:[0,0,0,.1],strokeWidth:2}))):[{id:"markup-hover",points:n.map((e=>hy(e.x+1,e.y+1))),strokeColor:[0,0,0,.1],strokeWidth:2,pathClose:r}],a=i?n.map(((e,t,n)=>({id:"markup-hover",points:jn(n,t),strokeColor:Te,strokeWidth:2}))):[{id:"markup-hover",points:n,strokeColor:Te,strokeWidth:2,pathClose:r}];Nn(...o,...a)})(Dn):Fn()),61440&e.$$.dirty[0]|16&e.$$.dirty[2]&&n(178,E=w&&m&&ke&&$?(e=>{const t=Mn(e),n=rt({x:t.origin.x+t.dir.x,y:t.origin.y+t.dir.y});return{origin:rt(t.origin),position:n}})(d):void 0),4&e.$$.dirty[0]|8388608&e.$$.dirty[5]&&n(27,T=E&&hy(E.position.x-be.x,E.position.y-be.y)),1&e.$$.dirty[6]&&n(171,I=!!(ce||[]).find((e=>[91,93,17].includes(e)))),2048&e.$$.dirty[3]|65536&e.$$.dirty[5]&&n(173,P=!(I||!ht)),16&e.$$.dirty[2]|18874368&e.$$.dirty[4]|4458496&e.$$.dirty[5]&&i&&x&&ke>0&&(i===Dn&&Hn(),((e,t,n)=>{if(!Ow(t))return;const r=$w(t),i=r&&Rv(t,"pathClose"),o=i&&(e=>e.strokeWidth&&((e,t)=>{const n=e.strokeColor;return!!n&&(3===n.length||n[3]>0)})(e))(t),a=Ew(t),s=Sw(t),l="hook"===t.selectionStyle,c=!0!==t.disableShowPoints,{selectionOpacity:u=1}=t;if(a&&r&&!i)return;const d=[],h=[...x],f=h[h.length-1],g=h[0],m=(s?.05:.1)*e*u,y=m>0,b=(s?.5:1)*e*u,v=b>0,w=[0,0,0],$=[1,1,1],S=s?1:1.5;ce.includes(16)&&f&&n&&Ct(f,n);const k=(h.length&&i&&a&&n?Ty(g,n):1/0)<=256,A=(h.length&&i&&a&&n?Ty(f,n):1/0)<=256;!k&&n&&h.push(n);const C=h.length>1,T=!!t.pathClose||!(!t.bitmap&&($w(t)||xw(t)))||h.length>2&&k;C&&y&&(l?d.push(...h.map(((e,t,n)=>({id:zn,points:jn(n,t),strokeColor:w,opacity:m})))):d.push({id:zn,points:h.map((e=>hy(e.x+1,e.y+1))),pathClose:T,strokeColor:w,strokeWidth:2,opacity:m})),i&&y&&c&&d.push(...h.map((e=>({id:zn,...e,rx:2*S,ry:2*S,backgroundColor:w,opacity:m})))),E&&y&&d.push({id:zn,points:[hy(E.origin.x+1,E.origin.y+1),hy(E.position.x+1,E.position.y+1)],strokeColor:w,strokeWidth:2,opacity:m}),C&&v&&(l?d.push(...h.map(((e,t,n)=>({id:zn,points:jn(n,t),strokeColor:$,strokeWidth:S,opacity:b})))):d.push({id:zn,points:h,pathClose:T,strokeColor:$,strokeWidth:S,backgroundColor:a&&i&&t.backgroundColor&&t.backgroundColor[3]>0?t.backgroundColor:[0,0,0,0],opacity:b})),i&&c&&d.push(...h.map((e=>({id:zn,...e,rx:3*S,ry:3*S,backgroundColor:[.5,.5,.5],strokeWidth:S,strokeColor:$})))),i&&a&&c&&x.length>=3&&d.push({...g,id:zn,rx:S*(k?5:4),ry:S*(k?5:4),backgroundColor:k?Te:[.5,.5,.5],strokeWidth:S,strokeColor:$}),i&&a&&o&&c&&!k&&p.length>=2&&d.push({...f,id:zn,rx:S*(A?5:4),ry:S*(A?5:4),backgroundColor:A?Te:[.5,.5,.5],strokeWidth:S,strokeColor:$}),E&&v&&!l&&d.push({id:zn,points:[{x:E.origin.x,y:E.origin.y},{x:E.position.x,y:E.position.y}],strokeColor:$,strokeWidth:S,opacity:b}),Un(...d)})(ke,i,c&&$w(i)?Qn({...kr},!P):void 0)),16777216&e.$$.dirty[4]&&(i||(Hn(),_n())),16&e.$$.dirty[3]|2097152&e.$$.dirty[5])if(f.length){Vn();const e=f.map((e=>({id:Wn,points:e.map(rt),strokeWidth:1,strokeColor:[1,1,1,.5],pathClose:!0})));Gn(...e)}else Vn();1048576&e.$$.dirty[4]&&n(174,R=!!Dn),262144&e.$$.dirty[4]&&n(175,M=!!wn),2097152&e.$$.dirty[4]|1835008&e.$$.dirty[5]&&(!kr||M||R||Qn({...kr},!P)),512&e.$$.dirty[2]|8208&e.$$.dirty[3]|131072&e.$$.dirty[5]|2&e.$$.dirty[6]&&ft>0&&r&&rt&&((e,t,n,r)=>{const i=rt({x:0,y:0}),o=rt({x:e,y:e}),a=rt({x:t.width,y:t.height}),s=o.x-i.x;if(qn.set(s>6?1:0),r<=0)return Zn();const l=Bt(s,i.x,a.x).map((e=>({id:Kn,opacity:r,points:[{x:e,y:i.y},{x:e,y:a.y}],strokeWidth:1,strokeColor:n}))),c=Bt(s,i.y,a.y).map((e=>({id:Kn,opacity:r,points:[{x:i.x,y:e},{x:a.x,y:e}],strokeWidth:1,strokeColor:n})));Xn(...c,...l)})(ft,r,Re,ue),1024&e.$$.dirty[2]|16&e.$$.dirty[3]|196608&e.$$.dirty[4]|65536&e.$$.dirty[5]&&rt&&(I?Yn():((e,t,n)=>{if(null===e&&null===t)return Yn();let r,i;null!==e&&(r={id:Jn,strokeColor:n,strokeWidth:1.5,points:[rt({x:e,y:0}),rt({x:e,y:Ae.height})]}),null!==t&&(i={id:Jn,strokeColor:n,strokeWidth:1.5,points:[rt({x:0,y:t}),rt({x:Ae.width,y:t})]}),er(r,i)})(Mt,It,Me)),8&e.$$.dirty[2]&&(e=>{if(!e)return Jt({_prerender:!1});const t=ae.find((e=>e.isEditing));t&&Zt(t,{_prerender:"inline"===Ie})})(Se),1&e.$$.dirty[6]&&ce&&ce.length&&(()=>{const[e]=ce;8!==e&&46!==e||tn()&&(i.isEditing||($w(i)&&Tv(i.selectedPoint)?setTimeout((()=>Ht(i,i.selectedPoint)),0):setTimeout((()=>rn()),0)))})(),272&e.$$.dirty[0]&&tr&&"inline"===Ie&&tr.focus(),16777216&e.$$.dirty[4]&&n(170,L=i&&mw(i)),16777216&e.$$.dirty[4]|32768&e.$$.dirty[5]&&n(11,B=L&&!1!==zw(i)&&Sw(i)),2048&e.$$.dirty[0]&&n(165,O=B?{...i}:void 0),32&e.$$.dirty[2]|1024&e.$$.dirty[5]&&n(167,F=O&&sx({...O},Ae)),4096&e.$$.dirty[5]&&n(169,N=F&&Yv(F.text,F)),20480&e.$$.dirty[5]&&(D=F&&ob(F.x,F.y,N.width,N.height)),2048&e.$$.dirty[0]|16777216&e.$$.dirty[4]&&n(24,z=B?i.text:""),2056&e.$$.dirty[0]|32&e.$$.dirty[2]|16777216&e.$$.dirty[4]&&n(168,_=Ce&&i&&B&&sx({...cw(i),width:Tv(i.width)?Math.floor(i.width):void 0,height:Tv(i.height)?Math.floor(i.height):void 0},Ae)),2064&e.$$.dirty[0]|8192&e.$$.dirty[5]&&n(26,U=B&&((e,t)=>{const{textAlign:n="left",fontFamily:r="sans-serif",fontWeight:i="normal",fontStyle:o="normal",letterSpacing:a="normal",textShadowX:s=0,textShadowY:l=0,textShadowBlur:c=0,textShadowColor:u,textOutlineWidth:d=0,textOutlineColor:h}=e,p="!important",f="caret-color:".concat(H,";text-align:").concat(n).concat(p,";font-family:").concat(r).concat(p,";font-weight:").concat(i).concat(p,";font-style:").concat(o).concat(p,";letter-spacing:").concat(Tv(a)?a+"px":"normal").concat(p);if("modal"===t)return f;const g=d?";-webkit-text-stroke:".concat(2*d,"px ").concat(zv(h)," ").concat(p):"",m=c||s||l?";text-shadow:".concat(s,"px ").concat(l,"px ").concat(c,"px ").concat(zv(u)," ").concat(p):"";let y=e.fontSize,b=1,v="";y>1e3&&Om()&&(b=y/1e3,v="transform-origin:0 0;transform:scale(".concat(b,")"),y=1e3);let w=e.lineHeight/b;const x=zv(e.color),$=.5*Math.max(0,y-w);return"--font-scalar:".concat(b,";--bottom-inset:").concat($,"px;padding:").concat($,"px 0 0").concat(p,";color:").concat(x).concat(p,";font-size:").concat(y,"px").concat(p,";line-height:").concat(w,"px").concat(p,";").concat(f,";").concat(v).concat(g).concat(m)})(_,Ie)),2052&e.$$.dirty[0]|1073741824&e.$$.dirty[1]|4&e.$$.dirty[2]|8192&e.$$.dirty[5]&&n(25,j=B&&((e,t,n,r)=>{let o,a;e.width&&e.height?(o=ab(e),a=Oy(e)):(a=Yv(i.text,d),a.width=d.width||a.width,o=hy(e.x+.5*a.width,e.y+.5*a.height));const s=Math.max(0,e.fontSize-e.lineHeight)+e.lineHeight,l=rt(o);let c=l.x-t.x-.5*a.width,u=l.y-t.y-.5*a.height,h=e.flipX,p=e.flipY,f=e.rotation;we&&xe?(h=!h,p=!p):we?(h=!h,f=-f):xe&&(p=!p,f=-f),f+=r;const g=n*(h?-1:1),m=n*(p?-1:1);return"--line-height:".concat(s,"px;width:").concat(a.width,"px;height:").concat(a.height,"px;transform:translate(").concat(c,"px,").concat(u,"px) rotate(").concat(f,"rad) scale(").concat(g,", ").concat(m,")")})(_,be,$e,ve)),256&e.$$.dirty[2]&&(H=Pe?zv(Pe):"auto"),2320&e.$$.dirty[0]&&B&&tr&&"inline"===Ie&&nr(z),289406976&e.$$.dirty[4]&&n(152,W=i&&!h?i:W),268435456&e.$$.dirty[4]&&n(154,V=W&&Dw(W)),268435456&e.$$.dirty[4]&&n(149,G=W&&_w(W)),268435456&e.$$.dirty[4]&&n(151,Q=W&&Nw(W)),268435456&e.$$.dirty[4]&&n(150,q=W&&Fw(W)),268435456&e.$$.dirty[4]|256&e.$$.dirty[5]&&n(153,K=!a&&W&&(e=>!0!==e.disableReorder)(W)),268435456&e.$$.dirty[4]&&n(147,Z=W&&!1!==zw(W)),268435456&e.$$.dirty[4]&&n(155,X=W&&Rv(W,"backgroundImage")&&Bw(W,"opacity")),16777216&e.$$.dirty[4]&&n(158,J=i&&"html"===i.format),20971520&e.$$.dirty[4]|8&e.$$.dirty[5]&&n(162,Y=i&&(!h||J)),524288&e.$$.dirty[4]|1073741952&e.$$.dirty[5]&&wr.set(Y&&!Cn?1:0,{hard:!1===le}),4096&e.$$.dirty[0]|160&e.$$.dirty[5]&&n(160,ee=Y&&$.length?(de=nb($),xy(hy(de.x+.5*de.width,de.y),PE)):ee),512&e.$$.dirty[0]|64&e.$$.dirty[2]|96&e.$$.dirty[5]&&n(159,te=(A||ee)&&xr&&Ee&&((e,t,n,r)=>{const i=e.x,o=e.y,a=i+e.width;let s=Math.max(t.x-.5*n.width,i),l=Math.max(t.y-n.height-16,o);return s+n.width>a&&(s=a-n.width),hy(s,l)})(Ee,A||ee,xr)),262144&e.$$.dirty[0]|16&e.$$.dirty[5]&&n(23,ne=te&&"transform: translate(".concat(te.x,"px, ").concat(te.y,"px);opacity:").concat(se)),2048&e.$$.dirty[0]&&n(157,re=B?"text":"shape"),1088&e.$$.dirty[0]|131&e.$$.dirty[3]|2139095040&e.$$.dirty[4]|536870927&e.$$.dirty[5]&&n(22,ie="text"===re&&et&&J?SR((()=>et([["div","text-styles",{class:"PinturaShapeControlsGroup"},[...[["bold",{label:"B",style:"font-weight:900;",title:"Bold",shortcut:["CMD","B"]}],["italic",{label:"I",style:"font-family:Times New Roman;font-style:italic;",title:"Italic",shortcut:["CMD","I"]}],["underline",{label:"U",style:"text-decoration:underline;",title:"Underline",shortcut:["CMD","U"]}],["strikeThrough",{label:"S",style:"text-decoration:line-through;",title:"Strikethrough",shortcut:["CMD","S"]}]].map((e=>{let[t,n]=e;return["Button","style-"+t,{onclick:()=>document.execCommand(t),...n,style:"font-size:1.25em;text-underline-offset:1px;text-decoration-thickness:1.5px;font-weight:400;"+n.style}]}))]],["div","text-reset",{class:"PinturaShapeControlsGroup"},[["Button","style-reset",{onclick:()=>document.execCommand("removeFormat"),style:"font-weight:400;",label:'<span style="font-size:1.25em;font-style:italic;font-family:Times New Roman;text-decoration:underline;">T</span><span style="position:relative;top:.175rem;">&times;</span>',title:"Remove styles"}]]]],u))):"shape"===re&&Ye&&u?SR((()=>Ye(k?[["div","epsilon",{class:"PinturaShapeControlsGroup"},[["Button","remove-point",{onclick:cr,label:ut.shapeTitleButtonRemove,icon:ut.shapeIconButtonRemove,shortcut:["Backspace"],hideLabel:!0}]]]]:[X&&["div","alpha",{class:"PinturaShapeControlsGroup"},[["ToggleSlider","adjust-opacity",{onrelease:gr,onchange:fr,step:.01,value:Rv(i,"opacity")?i.opacity:1,label:(e,t,n)=>Math.round(e/n*100)+"%",min:0,max:1,direction:"x"}]]],["div","beta",{class:"PinturaShapeControlsGroup"},[V&&["Button","flip-horizontal",{onclick:hr,label:ut.shapeTitleButtonFlipHorizontal,icon:ut.shapeIconButtonFlipHorizontal,hideLabel:!0}],V&&at&&["Button","flip-vertical",{onclick:pr,label:ut.shapeTitleButtonFlipVertical,icon:ut.shapeIconButtonFlipVertical,hideLabel:!0}],K&&["Button","to-front",{onclick:yr,label:ut.shapeTitleButtonMoveToFront,icon:ut.shapeIconButtonMoveToFront,hideLabel:!0,disabled:ae[ae.length-1]===W}],Q&&["Button","duplicate",{onclick:br,label:ut.shapeTitleButtonDuplicate,icon:ut.shapeIconButtonDuplicate,shortcut:["CMD","D"],hideLabel:!0}],q&&["Button","remove",{onclick:mr,label:ut.shapeTitleButtonRemove,icon:ut.shapeIconButtonRemove,shortcut:["Backspace"],hideLabel:!0}]].filter(Boolean)],Z&&G&&["div","gamma",{class:"PinturaShapeControlsGroup"},[["Button","text-layout",{onclick:dr,label:ZE(Sr,ut,i),icon:ZE($r,ut,i),hideLabel:!0}]]],Z&&["div","delta",{class:"PinturaShapeControlsGroup"},[["Button","edit-text",{label:ut.shapeLabelInputText,onclick:ur}]]]].filter(Boolean),u))):[]),64&e.$$.dirty[0]|536870912&e.$$.dirty[5]&&n(21,oe=ae.filter(Ow).filter((e=>e.id)).filter((e=>!Ew(e))).map((e=>({id:e.id,color:mw(e)?e.color:xw(e)?e.strokeColor:e.backgroundColor,name:e.name||ut["shapeLabelTool"+_S(Yw(e))]}))))},[ge,me,be,Ce,Ie,ct,ut,ln,tr,xr,u,B,$,d,m,w,S,y,se,Ar,Tr,oe,ie,ne,z,j,U,T,C,b,yt,Et,e=>{const{origin:t}=e.detail,r=lt&&ce.includes(16);Sn=void 0,n(142,wn=void 0),xn=void 0,$n=void 0,kn=!1,vn=void 0,An=!1,Rt(),clearTimeout(bn),bn=setTimeout((()=>n(143,Cn=!0)),250);const s=Wt();if(!s||$w(s)&&Rv(s,"pathClose")||Gt(),yn=nt(fy(t)),s&&$w(s)&&Rv(s,"pathClose"))return Le(e);const l=gn(ae,yn,ot,(e=>Ow(e))),c=l.length&&l.shift();if(i&&Sw(i)&&(ir(),st&&(An=!0)),!c&&i&&Sw(i)&&cn(i),tt(t)){if(c&&Aw(c))return kn=!0,n(142,wn=c),a?(r&&cn(c),void En(o)):(xn=cw(wn),void($n=sx(cw(wn),Ae)));if(vn=c||void 0,!Le(e)&&c){if(ln(c,!0,r),n(142,wn=c),a)return En(o);xn=cw(wn),$n=sx(cw(wn),Ae)}}},e=>{Tn(),Ne(e)},e=>{const{translation:t,ctrlKey:n,metaKey:i,shiftKey:a,position:s}=e.detail;if(wn){if(!Ww(wn))return;if(Sw(wn))return;if(a){let e=Math.abs(t.x),n=Math.abs(t.y);"x"===Pn&&(n-=64),"y"===Pn&&(e-=64),e>n?(t.y=0,Pn="x"):n>e&&(t.x=0,Pn="y")}else Pn=null;const e=n||i;if(Sn){if(!o.every(Ww))return;return void Sn.forEach((e=>{let{shape:n,shapeOriginComputed:i}=e;zt(n,i,t,{...mt(0,ft,r,n)})}))}return zt(wn,$n,t,{...mt(e?0:dt,ft,r,wn)})}Be(e)},e=>{if(Tn(),wn){if(a)return;if(Sw(wn)&&or(),e.detail.isTap&&$w(wn)&&jw(wn)){const{position:t}=e.detail,n=nt(fy(t));return void((e,t)=>{const n=e.points,r=[];for(let s=0;s<n.length-1;s++)r.push([n[s],n[s+1]]);r.push([n[n.length-1],n[0]]);const i=r.findIndex((e=>{let[n,r]=e;return Bb(t,6,n,r)}));let o;const a=[];for(let s=0;s<r.length;s++)a.push(r[s][0]),s===i&&(o=s+1,a.push(t));Zt(e,{points:a,selectedPoint:o})})(wn,n)}e.detail.isTap&&kn&&mw(wn)&&!1!==zw(wn)&&un(wn)}else Oe(e)},e=>{const t=vn&&e.detail.isTap,r=lt&&ce.includes(16);if(e.detail.isTap&&setTimeout((()=>{Qe({target:wn||vn,position:yn},0)})),wn)return He(wn),i=wn,o=xn,JSON.stringify(i)!==JSON.stringify(o)&&ze(wn),void n(142,wn=void 0);var i,o;let a=!0;if(!r){const e=sn();a=!e||Ze(e,vn||void 0),a&&an({storePrevious:!1})}Fe(e),a&&t&&ln(vn,!0,r)},qn,e=>{n(143,Cn=!0),n(142,wn=i),$n=d},e=>{if(!wn)return void n(143,Cn=!1);const{translation:t,indexes:i,shiftKey:o,ctrlKey:a,metaKey:s,isNudge:l}=e.detail;((e,t,n,r,i)=>{const{shiftKey:o,snapThreshold:a=0,gridSize:s=0,gridRect:l,snapTargets:c=[]}=i||{},u=a?(e,t,n)=>{const{snapTranslation:r,snapLines:i}=Nt(Ot(e),c,a,s,l);Dt(t,r),Pt(i);const o=Lt(n(),t);e.x=o.x,e.y=o.y}:om;if(xw(e)||$w(e)&&Rv(e,"pathClose")){const[i]=n,a=o?Ct:(e,t)=>t;let s,l,c;if(xw(e))0===i?(s=()=>fw(t),l=e=>a(gw(t),e),c=(e,t)=>{e.x1=t.x,e.y1=t.y}):1===i&&(s=()=>gw(t),l=e=>a(fw(t),e),c=(e,t)=>{e.x2=t.x,e.y2=t.y});else{const e=t.points;s=()=>({...e[i]}),l=t=>{const n=e[NL(i-1,e)],r=e[NL(i+1,e)];a(n,t),a(r,t)},c=(e,t)=>e.points=e.points.map(((e,n)=>i===n?t:e))}const d=Lt(s(),r);u(d,r,s),l(d),c(e,d)}else if(Tw(e)||ww(e)||bw(e)){let o,a,s=!1;if(ww(e))o=rb(t);else if(Tw(e))o=tb(t);else{s=!0,o=tb(t);const e=Yv(t.text,t);o.height=e.height}e.aspectRatio?a=e.aspectRatio:i.shiftKey&&!s&&(a=o.width/o.height);const l=tb(o),c=ab(l),d=e.rotation,h=$b(l),p=mb(l,d);if(1===n.length){let t=n[0];e.flipX&&(t=_t[t]),e.flipY&&(t=Ut[t]);const[i,o,s,l]=h,f=rt(p[t]),g=$y({...f},r),m=nt(g);u(m,r,(()=>nt(f)));const y=hy(m.x-p[t].x,m.y-p[t].y),b=my(fy(y),-d),v=hy(h[t].x+b.x,h[t].y+b.y);let w;0===t&&(w=s),1===t&&(w=l),2===t&&(w=i),3===t&&(w=o);const x=nb([w,v]);if(a){const{width:e,height:t}=wb(x,a),[n,r,i,o]=xb(x);x.width=e,x.height=t,v.y<w.y&&(x.y=i-t),v.x<w.x&&(x.x=r-e)}const $=mb(x,d,c),S=Ry($),k=my($[0],-d,S),A=my($[2],-d,S),C=nb([k,A]);At(e,ww(e)?uy(C):C,Ae)}else{n=n.map((t=>(e.flipX&&(t=_t[t]),e.flipY&&(t=Ut[t]),t)));const[t,i]=n.map((e=>p[e])),o={x:t.x+.5*(i.x-t.x),y:t.y+.5*(i.y-t.y)},[l,f]=n.map((e=>h[e])),[g,m]=n.map((e=>{const t=e+2;return t<4?h[t]:h[t-4]})),y={x:g.x+.5*(m.x-g.x),y:g.y+.5*(m.y-g.y)},b=rt(o),v=$y({...b},r),w=nt(v);u(w,r,(()=>nt(b)));const x=hy(w.x-o.x,w.y-o.y),$=my(fy(x),-d),S=Sy(fy(l),f),k=xy(S,(e=>1-Math.abs(Math.sign(e)))),A=hy($.x*k.x,$.y*k.y);$y(l,A),$y(f,A);const C=nb(h);if(a){let e=C.width,t=C.height;0===k.y?t=e/a:e=t*a,C.width=e,C.height=t,0===k.y?C.y=y.y-.5*t:C.x=y.x-.5*e}const E=mb(C,d,c),T=Ry(E),P=my(E[0],-d,T),R=my(E[2],-d,T),M=nb([P,R]);let I;ww(e)?I=uy(M):Tw(e)?I=M:s&&(I={x:M.x,y:M.y,width:M.width}),At(e,I,Ae)}}qt()})(wn,$n,i,t,{shiftKey:!l&&o,...mt(a||s?0:dt,ft,r,wn)}),Uw(wn)&&Ty(t)>16&&Zt(wn,{selectedPoint:void 0})},e=>{if(!wn)return void n(143,Cn=!1);ln(wn);const{isTap:t,translation:r,indexes:o}=e.detail;t&&(Uw(wn)&&Zt(wn,{selectedPoint:wn.selectedPoint===o[0]?void 0:o[0]}),He(wn)),n(142,wn=void 0),n(143,Cn=!1),ze(i)},e=>{jt=Mn(d).origin,n(143,Cn=!0),n(142,wn=i),$n=d},e=>{if(!wn)return void n(143,Cn=!1);const{translation:t,shiftKey:r}=e.detail;((e,t,n,r)=>{const i=fn(sx(cw(e),Ae)),o=ab(i),a=Lt(jt,n);let s=vy(a,o)+Math.PI/2;if(r.shiftKey){const e=Math.PI/16;s=e*Math.round(s/e)-ve%e}At(e,{rotation:s},Ae),qt()})(wn,0,t,{shiftKey:r})},()=>{wn?(ln(wn),n(142,wn=void 0),n(143,Cn=!1),ze(i)):n(143,Cn=!1)},e=>{const{key:t}=e,n=/escape/i.test(t);if(tn())return n?(e.preventDefault(),e.stopPropagation(),cn(i)):void(Q&&"d"===t&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),e.stopPropagation(),vr()))},e=>{const t=zw(i,e);return!0===t?e:t},rr,e=>{const{target:t,key:n}=e,r=t.value||t.innerText,o=t.selectionStart||0,a=t.selectionEnd||r.length,s=r.substring(0,o)+n+r.substring(a);if(zw(i,s)!==s)return e.preventDefault()},e=>yw(i)&&/enter/i.test(e.code)&&!1!==i.disableNewline?e.preventDefault():/arrow/i.test(e.code)?e.stopPropagation():/escape/i.test(e.key)?or():void 0,e=>{const{key:t,ctrlKey:n,altKey:r}=e;if(/enter/i.test(t)&&(n||r))return ir()},ir,or,wr,e=>{const t=Yt();t&&(t.find(Sw)||t.find((e=>!Ww(e)))||t.forEach((t=>{n(142,wn=t),$n=sx(cw(wn),Ae),zt(wn,$n,e.detail)})))},e=>{n(19,Ar=!0)},e=>{let{relatedTarget:t}=e;t&&t.classList.contains("shape-selector__button")||n(19,Ar=!1)},e=>{if("touch"===e.pointerType||"PinturaShapeEditor"!==e.target.className)return void qe();(Cn||bn)&&Er(void 0);const t=VL(e,Ce);n(145,kr=fy(t));const r=xy(nt(t),(e=>Math.round(e)));if(wy(r,Cr))return;if(Cr=fy(r),Ge(Cn,t,r),Cn||bn)return;if(h)return;const[i]=gn(ae,r,0,Ow);i&&Ew(i)||Er(i)},e=>{"touch"!==e.pointerType&&qe()},pe,fe,ye,ve,we,xe,$e,Se,ke,Ae,Ee,Te,Pe,Re,Me,Le,Be,Oe,Fe,Ne,De,ze,_e,Ue,je,He,We,Ve,Ge,Qe,qe,Ke,Ze,Xe,Je,Ye,et,tt,nt,rt,it,ot,at,st,lt,dt,ht,pt,ft,bt,vt,wt,xt,$t,St,kt,function(e){let t,n,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=ww(e),s=mw(e),l="relative"===o.position;const c=gt(),u=e=>{if(!dt)return e;const t=nt(e),{snapTranslation:n,snapLines:i}=Nt(Ot(t),c,dt,ft,r);return Dt(e,n),Pt(i),e},d=!!sn(),h=o.isSelection?ye:me,p="step"===o.inputMode;if($w(e)){if(p){let r=!1;const o=(e,t)=>{const n=vt(h),i=e&&hy(YL(e.x,Ae.width),YL(e.y,Ae.height)),o=i&&rt(i);ce.includes(16)&&o&&Ct(o,t);const a=nt(t),s=n.points.length?n.points[0]:a,c=hy(YL(s.x,Ae.width),YL(s.y,Ae.height)),u=rt(c),d=Ty(u,t);if(!r&&1===n.points.length&&d<36)return xt(h);if(n.points.length>2&&d<=256){n.pathClose=!0,Ow(n)&&ln(n);const e=$t(h);return void De(e)}const p=n.strokeWidth&&n.strokeColor&&(void 0===n.strokeColor[3]||n.strokeColor[3]>0),f=Ty(o,t);if(p&&n.points.length>1&&f<256){n.pathClose=!1,n.backgroundColor=[0,0,0,0],Ow(n)&&ln(n);const e=$t(h);De(e)}else if(!(n.points.length>0&&f<100))return l?eB(a,Ae):a};return{start:e=>{const a=vt(h),{origin:s}=e.detail;if(n=4,t=u(fy(s)),i=fy(t),a){const e=a.points[a.points.length-1],n=o(e,t);return n&&(a.points=[...a.points,n]),void St({points:a.points},h)}r=!0},update:e=>{if(!r)return;const n=vt(h);if(!n)return;const i=n.points[0],a=o(i,hy(t.x+e.detail.translation.x,t.y+e.detail.translation.y));a&&(n.points[1]=a,St({points:n.points},h))},release:e=>e.detail.preventInertia(),cancel:()=>{xt(h)},end:n=>{if(!r)return;const i=nt(t),o=l?eB(i,Ae):i,{isTap:a}=n.detail;if(a&&gn(ae,i,0,Ow).length)return xt(h);wt({...e,points:[o]},h)}}}return{start:r=>{const{origin:o}=r.detail;n=4,t=fy(o),i=fy(t);const a=nt(t),s=l?eB(a,Ae):a;wt({...e,points:[s]},h)},update:e=>{const r=vt(h);if(!r)return;const{translation:o}=e.detail,a=hy(t.x+o.x,t.y+o.y),s=Py(i,a);if(ly(s,5)<=n)return;const c=vy(a,i),u=n-s;i.x+=u*Math.cos(c),i.y+=u*Math.sin(c);const d=nt(i),p=l?eB(d,Ae):d;St({points:r.points.concat(p)},h)},release:e=>e.detail.preventInertia(),cancel:()=>{xt(h)},end:e=>{const t=vt(h);if(!t)return;if(e.detail.isTap){let e=!1;if(t.bitmap?(vn&&(e=!0),d&&(e=!0)):e=!0,e)return xt(h)}const n=$t(h);De(n)}}}return a||s||vw(e)?{start:n=>{const{origin:r}=n.detail;t=u(fy(r));const i=nt(t),o=l?eB(i,Ae):i,s=-1*Tt(ve,we,xe),c={...e,rotation:s,...o};c.flipX=we,c.flipY=xe,delete c.position,c.opacity=0,(a?["rx","ry"]:["width","height"]).forEach((e=>{c[e]=l?"0%":0})),wt(c,h)},update:e=>{const n=vt(h);if(!n)return;n.opacity=1;let{aspectRatio:r}=n,{translation:i,shiftKey:o,ctrlKey:s}=e.detail;!r&&o&&(r=1);const l=u(hy(t.x+i.x,t.y+i.y)),c=nt(t),d=nt(l);if(r){const e=nb([c,d]),t=wb(e,r),n=d.x<c.x?-1:1,i=d.y<c.y?-1:1;d.x=c.x+t.width*n,d.y=c.y+t.height*i}const p={x:c.x+.5*(d.x-c.x),y:c.y+.5*(d.y-c.y)},f=Tt(ve,we,xe);my(c,f,p),my(d,f,p);const g=Math.min(c.x,d.x),m=Math.min(c.y,d.y);let y=Math.max(c.x,d.x)-g,b=Math.max(c.y,d.y)-m,v={};a?(s?(v.x=c.x,v.y=c.y):(v.x=g+.5*y,v.y=m+.5*b),v.rx=.5*y,v.ry=.5*b):(s?(v.x=c.x-.5*y,v.y=c.y-.5*b):(v.x=g,v.y=m),v.width=y,v.height=b),St(v,h,((e,t)=>At(e,t,Ae)))},release:e=>{e.detail.preventInertia()},cancel:()=>{xt(h)},end:e=>{const n=vt(h);if(n){if(e.detail.isTap){if(mw(n)&&st&&An)return xt(h);if(!mw(n)||!st||vn)return xt(h);delete n.width,delete n.height,!1!==n.disableNewline&&delete n.textAlign;const e=sx({...n},Ae),r=Yv(n.text,e),i=nt({x:t.x,y:t.y-.5*r.height}),o=nt({x:t.x+r.width,y:t.y+.5*r.height}),a={x:i.x+.5*(o.x-i.x),y:i.y+.5*(o.y-i.y)},s=Tt(ve,we,xe);my(i,s,a),my(o,s,a);let l=Math.min(i.x,o.x),c=Math.min(i.y,o.y);l<0&&(l=0),c<0&&(c=0),l+r.width>Ae.width&&(l=Ae.width-r.width),c+r.height>Ae.height&&(c=Ae.height-r.height),n.x=Em(n.x)?Dv(l,Ae.width):l,n.y=Em(n.y)?Dv(c,Ae.height):c}if(n.opacity=1,mw(n))De(n);else{const e=$t(h);De(e)}Ow(n)&&ln(n),mw(n)&&un(n)}}}:xw(e)?{start:n=>{const{origin:r}=n.detail,i=nt(u(r)),o=xy(i,PE);t=fy(r),wt({...e,x1:l?Dv(o.x,Ae.width):o.x,y1:l?Dv(o.y,Ae.height):o.y,x2:l?Dv(o.x,Ae.width):o.x,y2:l?Dv(o.y,Ae.height):o.y,opacity:0},h)},update:e=>{if(!vt(h))return;const{translation:n}=e.detail,r=u($y(fy(t),n));if(ce.includes(16)){const e=Py(t,r),n=vy(t,r),i=Math.PI/4,o=i*Math.round(n/i);r.x=t.x+e*Math.cos(o),r.y=t.y+e*Math.sin(o)}const i=nt(r);St({x2:l?Dv(i.x,Ae.width):i.x,y2:l?Dv(i.y,Ae.height):i.y,opacity:1},h)},release:e=>e.detail.preventInertia(),cancel:()=>{xt(h)},end:e=>{const t=vt(h);if(!t)return;if(e.detail.isTap)return xt(h);t.opacity=1;const n=$t(h);De(n),Ow(t)&&ln(n)}}:void 0},()=>{let e,t;const n=it*it,r=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=Ty(e,t);if(!r&&i<2)return!1;const o=ae.filter((e=>!e.disableErase));let a;return a=i<n?gn(ae,nt(t),it):mn(o,nt(e),nt(t),it),hn(a).forEach(je),!0};return{start:n=>{e=hy(Math.round(n.detail.origin.x),Math.round(n.detail.origin.y)),r(e,e,!0),t=e},update:n=>{const{translation:i}=n.detail,o=hy(Math.round(e.x+i.x),Math.round(e.y+i.y));r(t,o)&&(t=fy(o))},release:e=>e.detail.preventInertia(),cancel:()=>{xt(collection)},end:()=>{}}},Wt,Vt,e=>{if(!Wt())return Iw(e),kt(e)},Gt,Qt,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:Mm(),...e}},qt,Kt,Zt,Xt,function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];ae.forEach((n=>Xt(n,e,t,!1))),n&&qt()},Jt,Yt,en,tn,an,cn,un,dn,hn,pn,fn,gn,mn,Mt,It,wn,Cn,Dn,kr,h,Z,i,G,q,Q,W,K,V,X,k,re,J,te,ee,A,Y,a,o,O,c,F,_,N,L,I,r,P,R,M,f,x,E,p,l,v,g,s,ae,le,ce,ue,function(t){W$.call(this,e,t)},e=>ln(me[e]),function(e){G$[e?"unshift":"push"]((()=>{tr=e,n(8,tr)}))},function(){z=this.value,n(24,z),n(11,B),n(148,i),n(170,L),n(0,ge),n(184,ae)},function(e){G$[e?"unshift":"push"]((()=>{tr=e,n(8,tr)}))},()=>{Tr&&Tr.focus()},e=>n(9,xr=e.detail),function(e){G$[e?"unshift":"push"]((()=>{Tr=e,n(20,Tr)}))},e=>VL(e,Ce)]}class hB extends CS{constructor(e){super(),AS(this,e,dB,cB,Gx,{uid:58,ui:59,disabled:0,shapes:1,selection:60,offset:2,contextRotation:61,contextFlipX:62,contextFlipY:63,contextZoom:64,active:65,opacity:66,parentRect:67,rootRect:3,utilRect:68,hoverColor:69,caretColor:70,gridColor:71,snapColor:72,textInputMode:4,oninteractionstart:73,oninteractionupdate:74,oninteractionrelease:75,oninteractionend:76,oninteractioncancel:77,onaddshape:78,onupdateshape:79,onselectshape:80,onblurshape:81,onremoveshape:82,ontapshape:83,onhovershape:84,ontriggerhistorywrite:85,onhovercanvas:86,ontapcanvas:87,onleavecanvas:88,beforeSelectShape:89,beforeDeselectShape:90,beforeRemoveShape:91,beforeUpdateShape:92,willRenderShapeControls:93,willRenderShapeTextControls:94,willStartInteraction:95,mapEditorPointToImagePoint:96,mapImagePointToEditorPoint:97,eraseRadius:98,selectRadius:99,enableButtonFlipVertical:100,enableTapToAddText:101,enableMultiSelect:102,enableTextStyleControls:5,locale:6,snapThreshold:103,snapPointer:104,enableSnapToContext:105,gridSize:106,syncShapeCollection:107,getShapeDraft:108,addShapeDraft:109,discardShapeDraft:110,confirmShapeDraft:111,updateShapeDraft:112,addShape:113,createShape:114,eraseShape:115,getMarkupItemDraft:116,getMarkupItemDraftIndex:117,addMarkupItemDraft:118,confirmMarkupItemDraft:119,discardMarkupItemDraft:120,createMarkupItem:121,syncShapes:122,removeMarkupShapeProps:123,updateMarkupShape:124,updateMarkupShapeProperty:125,updateMarkupItemsShapeProperty:126,updateMarkupShapeItems:127,getActiveMarkupItems:128,getActiveMarkupItem:129,hasActiveMarkupItem:130,blurShapes:131,selectShape:7,deselectMarkupItem:132,editMarkupItem:133,finishEditMarkupItem:134,removeMarkupItems:135,getTextShapeRect:136,getMarkupShapeRect:137,getShapesNearPosition:138,getShapesBetweenPoints:139},null,[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1])}get syncShapeCollection(){return this.$$.ctx[107]}get getShapeDraft(){return this.$$.ctx[108]}get addShapeDraft(){return this.$$.ctx[109]}get discardShapeDraft(){return this.$$.ctx[110]}get confirmShapeDraft(){return this.$$.ctx[111]}get updateShapeDraft(){return this.$$.ctx[112]}get addShape(){return this.$$.ctx[113]}get createShape(){return this.$$.ctx[114]}get eraseShape(){return this.$$.ctx[115]}get getMarkupItemDraft(){return this.$$.ctx[116]}get getMarkupItemDraftIndex(){return this.$$.ctx[117]}get addMarkupItemDraft(){return this.$$.ctx[118]}get confirmMarkupItemDraft(){return this.$$.ctx[119]}get discardMarkupItemDraft(){return this.$$.ctx[120]}get createMarkupItem(){return this.$$.ctx[121]}get syncShapes(){return this.$$.ctx[122]}get removeMarkupShapeProps(){return this.$$.ctx[123]}get updateMarkupShape(){return this.$$.ctx[124]}get updateMarkupShapeProperty(){return this.$$.ctx[125]}get updateMarkupItemsShapeProperty(){return this.$$.ctx[126]}get updateMarkupShapeItems(){return this.$$.ctx[127]}get getActiveMarkupItems(){return this.$$.ctx[128]}get getActiveMarkupItem(){return this.$$.ctx[129]}get hasActiveMarkupItem(){return this.$$.ctx[130]}get blurShapes(){return this.$$.ctx[131]}get selectShape(){return this.$$.ctx[7]}get deselectMarkupItem(){return this.$$.ctx[132]}get editMarkupItem(){return this.$$.ctx[133]}get finishEditMarkupItem(){return this.$$.ctx[134]}get removeMarkupItems(){return this.$$.ctx[135]}get getTextShapeRect(){return this.$$.ctx[136]}get getMarkupShapeRect(){return this.$$.ctx[137]}get getShapesNearPosition(){return this.$$.ctx[138]}get getShapesBetweenPoints(){return this.$$.ctx[139]}}function pB(e){let t,n,r;return n=new tR({props:{items:e[2]}}),{c(){t=m$("ul"),$S(n.$$.fragment),k$(t,"class","PinturaShapeStyleList")},m(e,i){f$(e,t,i),SS(n,t,null),r=!0},p(e,t){const r={};4&t&&(r.items=e[2]),n.$set(r)},i(e){r||(dS(n.$$.fragment,e),r=!0)},o(e){hS(n.$$.fragment,e),r=!1},d(e){e&&g$(t),kS(n)}}}function fB(e){let t,n;return t=new lE({props:{class:"PinturaShapeStyles",elasticity:e[0],$$slots:{default:[gB]},$$scope:{ctx:e}}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.elasticity=e[0]),131076&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function gB(e){let t,n,r;return n=new tR({props:{items:e[2]}}),{c(){t=m$("ul"),$S(n.$$.fragment),k$(t,"class","PinturaShapeStyleList")},m(e,i){f$(e,t,i),SS(n,t,null),r=!0},p(e,t){const r={};4&t&&(r.items=e[2]),n.$set(r)},i(e){r||(dS(n.$$.fragment,e),r=!0)},o(e){hS(n.$$.fragment,e),r=!1},d(e){e&&g$(t),kS(n)}}}function mB(e){let t,n,r,i;const o=[fB,pB],a=[];function s(e,t){return e[1]?0:1}return n=s(e),r=a[n]=o[n](e),{c(){t=m$("div"),r.c(),k$(t,"style",e[3])},m(e,r){f$(e,t,r),a[n].m(t,null),i=!0},p(e,l){let[c]=l,u=n;n=s(e),n===u?a[n].p(e,c):(cS(),hS(a[u],1,1,(()=>{a[u]=null})),uS(),r=a[n],r?r.p(e,c):(r=a[n]=o[n](e),r.c()),dS(r,1),r.m(t,null)),(!i||8&c)&&k$(t,"style",e[3])},i(e){i||(dS(r),i=!0)},o(e){hS(r),i=!1},d(e){e&&g$(t),a[n].d()}}}function yB(e,t,n){let r,i,o,a,s,l,{isActive:c=!1}=t,{controls:u=[]}=t,{locale:d}=t,{scrollElasticity:h}=t,{scrollEnable:p=!0}=t,{hideTitles:f=!1}=t,{willRenderControls:g=Qm}=t;const m=H$("redrawTrigger");Kx(e,m,(e=>n(14,a=e)));const y=H$("env");Kx(e,y,(e=>n(13,o=e)));const b=H$("isAnimated");Kx(e,b,(e=>n(16,l=e)));const v=jA(0,{stiffness:.25,damping:.9});return Kx(e,v,(e=>n(15,s=e))),e.$$set=e=>{"isActive"in e&&n(8,c=e.isActive),"controls"in e&&n(9,u=e.controls),"locale"in e&&n(10,d=e.locale),"scrollElasticity"in e&&n(0,h=e.scrollElasticity),"scrollEnable"in e&&n(1,p=e.scrollEnable),"hideTitles"in e&&n(11,f=e.hideTitles),"willRenderControls"in e&&n(12,g=e.willRenderControls)},e.$$.update=()=>{65792&e.$$.dirty&&v.set(c?1:0,{hard:!1===l}),33024&e.$$.dirty&&n(3,r="opacity:".concat(s,";").concat(c?"":"pointer-events:none;").concat(s<=0?"visibility:hidden":"")),32256&e.$$.dirty&&n(2,i=a&&g(u.map((e=>["ShapeStyle",e.id,{title:e.componentProps.title,locale:d,hideTitle:f,items:[[e.component,e.id,e.componentProps]]}])),o,(()=>m.set({}))))},[h,p,i,r,m,y,b,v,c,u,d,f,g,o,a,s,l]}class bB extends CS{constructor(e){super(),AS(this,e,yB,mB,Gx,{isActive:8,controls:9,locale:10,scrollElasticity:0,scrollEnable:1,hideTitles:11,willRenderControls:12})}}function vB(e,t,n){const r=e.slice();return r[15]=t[n].key,r[6]=t[n].controls,r[16]=t[n].isActive,r}function wB(e,t){let n,r,i;return r=new bB({props:{isActive:t[16],controls:t[6],locale:t[1],scrollElasticity:t[2],scrollEnable:t[3],hideTitles:t[4],willRenderControls:t[5]}}),{key:e,first:null,c(){n=w$(),$S(r.$$.fragment),this.first=n},m(e,t){f$(e,n,t),SS(r,e,t),i=!0},p(e,n){t=e;const i={};128&n&&(i.isActive=t[16]),128&n&&(i.controls=t[6]),2&n&&(i.locale=t[1]),4&n&&(i.scrollElasticity=t[2]),8&n&&(i.scrollEnable=t[3]),16&n&&(i.hideTitles=t[4]),32&n&&(i.willRenderControls=t[5]),r.$set(i)},i(e){i||(dS(r.$$.fragment,e),i=!0)},o(e){hS(r.$$.fragment,e),i=!1},d(e){e&&g$(n),kS(r,e)}}}function xB(e){let t,n,r,i=[],o=new Map,a=e[7];const s=e=>e[15];for(let l=0;l<a.length;l+=1){let t=vB(e,a,l),n=s(t);o.set(n,i[l]=wB(n,t))}return{c(){t=m$("div");for(let e=0;e<i.length;e+=1)i[e].c();k$(t,"class",n=gC(["PinturaShapeStyleEditor",!e[3]&&"PinturaShapeStyleEditorOverflow",e[0]]))},m(e,n){f$(e,t,n);for(let r=0;r<i.length;r+=1)i[r].m(t,null);r=!0},p(e,l){let[c]=l;190&c&&(a=e[7],cS(),i=bS(i,c,s,1,e,a,o,t,yS,wB,null,vB),uS()),(!r||9&c&&n!==(n=gC(["PinturaShapeStyleEditor",!e[3]&&"PinturaShapeStyleEditorOverflow",e[0]])))&&k$(t,"class",n)},i(e){if(!r){for(let e=0;e<a.length;e+=1)dS(i[e]);r=!0}},o(e){for(let t=0;t<i.length;t+=1)hS(i[t]);r=!1},d(e){e&&g$(t);for(let t=0;t<i.length;t+=1)i[t].d()}}}function $B(e,t,n){let r,i,o,{class:a}=t,{controls:s={}}=t,{shapeProps:l}=t,{onchange:c}=t,{locale:u}=t,{scrollElasticity:d}=t,{scrollEnable:h=!0}=t,{hideTitles:p=!1}=t,{willRenderControls:f}=t;const g=[];return e.$$set=e=>{"class"in e&&n(0,a=e.class),"controls"in e&&n(6,s=e.controls),"shapeProps"in e&&n(8,l=e.shapeProps),"onchange"in e&&n(9,c=e.onchange),"locale"in e&&n(1,u=e.locale),"scrollElasticity"in e&&n(2,d=e.scrollElasticity),"scrollEnable"in e&&n(3,h=e.scrollEnable),"hideTitles"in e&&n(4,p=e.hideTitles),"willRenderControls"in e&&n(5,f=e.willRenderControls)},e.$$.update=()=>{64&e.$$.dirty&&n(11,r=Object.keys(s).filter((e=>s[e]))),2304&e.$$.dirty&&n(10,i=l&&Object.keys(l).length&&r&&Bw(l)?(e=>r.filter((t=>t.split("_").every((t=>Rv(e,t)&&Bw(e,t))))).map((t=>{const n=(e.settings&&e.settings[t]||{}).control||t,r=t.split("_"),i=r.length>1?r.map((t=>e[t])):e[t];if(Tm(s[n])){const{title:r,component:o}=s[n](i,(e=>{c({[t]:e})}),{selectedShapeId:e.id});return{id:n,component:tR,componentProps:{title:r,items:o}}}let[o,a]=s[n];if(Em(o)&&s[o]){const e={...a};[o,a]=s[o],a={...a,...e}}const l=Tm(a.options)?a.options(e):a.options;return"RadioGroup"===o&&(a.selectedIndex=-1),{id:n,component:o,componentProps:{...a,options:l,locale:u,value:i,optionLabelClass:"PinturaButtonLabel",onchange:n=>{const i=km(n)&&!Mv(n)?n.value:n;a.onchange&&a.onchange(i,e);const o=r.length>1?r.reduce(((e,t,n)=>({...e,[t]:Array.isArray(i)?i[n]:i})),{}):{[t]:i};c(o)}}}})).filter(Boolean))(l):[]),1280&e.$$.dirty&&n(7,o=((e,t)=>{let n=g.find((t=>t.key===e));return n||(n={key:e,controls:t},g.push(n)),g.forEach((e=>e.isActive=!1)),n.controls=t,n.isActive=!0,g})(l&&Object.keys(l).length?Object.keys(l).join("_"):"none",i||[]))},[a,u,d,h,p,f,s,o,l,c,i,r]}class SB extends CS{constructor(e){super(),AS(this,e,$B,xB,Gx,{class:0,controls:6,shapeProps:8,onchange:9,locale:1,scrollElasticity:2,scrollEnable:3,hideTitles:4,willRenderControls:5})}}var kB=e=>/<svg /.test(e);function AB(e){let t,n;return t=new tR({props:{items:e[10]}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};1024&n&&(r.items=e[10]),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function CB(e){let t,n,r,i;const o=[TB,EB],a=[];function s(e,t){return e[8]?0:1}return t=s(e),n=a[t]=o[t](e),{c(){n.c(),r=w$()},m(e,n){a[t].m(e,n),f$(e,r,n),i=!0},p(e,i){let l=t;t=s(e),t===l?a[t].p(e,i):(cS(),hS(a[l],1,1,(()=>{a[l]=null})),uS(),n=a[t],n?n.p(e,i):(n=a[t]=o[t](e),n.c()),dS(n,1),n.m(r.parentNode,r))},i(e){i||(dS(n),i=!0)},o(e){hS(n),i=!1},d(e){a[t].d(e),e&&g$(r)}}}function EB(e){let t,n,r,i,o=e[10]&&PB(e);return r=new lE({props:{scrollAutoCancel:e[9],elasticity:e[0],$$slots:{default:[RB]},$$scope:{ctx:e}}}),{c(){t=m$("div"),o&&o.c(),n=v$(),$S(r.$$.fragment),k$(t,"class","PinturaShapePresetsFlat")},m(e,a){f$(e,t,a),o&&o.m(t,null),d$(t,n),SS(r,t,null),i=!0},p(e,i){e[10]?o?(o.p(e,i),1024&i&&dS(o,1)):(o=PB(e),o.c(),dS(o,1),o.m(t,n)):o&&(cS(),hS(o,1,1,(()=>{o=null})),uS());const a={};512&i&&(a.scrollAutoCancel=e[9]),1&i&&(a.elasticity=e[0]),536871070&i&&(a.$$scope={dirty:i,ctx:e}),r.$set(a)},i(e){i||(dS(o),dS(r.$$.fragment,e),i=!0)},o(e){hS(o),hS(r.$$.fragment,e),i=!1},d(e){e&&g$(t),o&&o.d(),kS(r)}}}function TB(e){let t,n,r,i,o;n=new lE({props:{elasticity:e[0],class:"PinturaShapePresetsGroups",$$slots:{default:[FB]},$$scope:{ctx:e}}});const a=[{class:"PinturaControlPanels"},{panelClass:"PinturaControlPanel"},{panels:e[11]},e[12]];let s={$$slots:{default:[DB,e=>{let{panel:t,panelIsActive:n}=e;return{26:t,27:n}},e=>{let{panel:t,panelIsActive:n}=e;return(t?67108864:0)|(n?134217728:0)}]},$$scope:{ctx:e}};for(let l=0;l<a.length;l+=1)s=Ux(s,a[l]);return i=new OC({props:s}),{c(){t=m$("div"),$S(n.$$.fragment),r=v$(),$S(i.$$.fragment),k$(t,"class","PinturaShapePresetsGrouped")},m(e,a){f$(e,t,a),SS(n,t,null),d$(t,r),SS(i,t,null),o=!0},p(e,t){const r={};1&t&&(r.elasticity=e[0]),536876128&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const o=6144&t?vS(a,[a[0],a[1],2048&t&&{panels:e[11]},4096&t&&wS(e[12])]):{};738206239&t&&(o.$$scope={dirty:t,ctx:e}),i.$set(o)},i(e){o||(dS(n.$$.fragment,e),dS(i.$$.fragment,e),o=!0)},o(e){hS(n.$$.fragment,e),hS(i.$$.fragment,e),o=!1},d(e){e&&g$(t),kS(n),kS(i)}}}function PB(e){let t,n;return t=new tR({props:{items:e[10]}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};1024&n&&(r.items=e[10]),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function RB(e){let t,n;return t=new CE({props:{items:e[7],onclickitem:e[1],ongrabitem:e[2],ondragitem:e[3],ondropitem:e[4]}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.items=e[7]),2&n&&(r.onclickitem=e[1]),4&n&&(r.ongrabitem=e[2]),8&n&&(r.ondragitem=e[3]),16&n&&(r.ondropitem=e[4]),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function MB(e){let t,n;return t=new tR({props:{items:e[10]}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};1024&n&&(r.items=e[10]),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function IB(e){let t,n;return t=new HC({props:{$$slots:{default:[LB]},$$scope:{ctx:e}}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};805306368&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function LB(e){let t,n=e[28].icon+"";return{c(){t=y$("g")},m(e,r){f$(e,t,r),t.innerHTML=n},p(e,r){268435456&r&&n!==(n=e[28].icon+"")&&(t.innerHTML=n)},d(e){e&&g$(t)}}}function BB(e){let t,n,r=e[28].label+"";return{c(){t=m$("span"),n=b$(r)},m(e,r){f$(e,t,r),d$(t,n)},p(e,t){268435456&t&&r!==(r=e[28].label+"")&&E$(n,r)},d(e){e&&g$(t)}}}function OB(e){let t,n,r,i=e[28].icon&&IB(e),o=!e[28].hideLabel&&BB(e);return{c(){i&&i.c(),t=v$(),o&&o.c(),n=w$()},m(e,a){i&&i.m(e,a),f$(e,t,a),o&&o.m(e,a),f$(e,n,a),r=!0},p(e,r){e[28].icon?i?(i.p(e,r),268435456&r&&dS(i,1)):(i=IB(e),i.c(),dS(i,1),i.m(t.parentNode,t)):i&&(cS(),hS(i,1,1,(()=>{i=null})),uS()),e[28].hideLabel?o&&(o.d(1),o=null):o?o.p(e,r):(o=BB(e),o.c(),o.m(n.parentNode,n))},i(e){r||(dS(i),r=!0)},o(e){hS(i),r=!1},d(e){i&&i.d(e),e&&g$(t),o&&o.d(e),e&&g$(n)}}}function FB(e){let t,n,r,i=e[10]&&MB(e);const o=[{class:"PinturaControlList"},{tabs:e[5]},e[12],{layout:"compact"}];let a={$$slots:{default:[OB,e=>{let{tab:t}=e;return{28:t}},e=>{let{tab:t}=e;return t?268435456:0}]},$$scope:{ctx:e}};for(let s=0;s<o.length;s+=1)a=Ux(a,o[s]);return n=new SC({props:a}),n.$on("select",e[18]),{c(){i&&i.c(),t=v$(),$S(n.$$.fragment)},m(e,o){i&&i.m(e,o),f$(e,t,o),SS(n,e,o),r=!0},p(e,r){e[10]?i?(i.p(e,r),1024&r&&dS(i,1)):(i=MB(e),i.c(),dS(i,1),i.m(t.parentNode,t)):i&&(cS(),hS(i,1,1,(()=>{i=null})),uS());const a=4128&r?vS(o,[o[0],32&r&&{tabs:e[5]},4096&r&&wS(e[12]),o[3]]):{};805306368&r&&(a.$$scope={dirty:r,ctx:e}),n.$set(a)},i(e){r||(dS(i),dS(n.$$.fragment,e),r=!0)},o(e){hS(i),hS(n.$$.fragment,e),r=!1},d(e){i&&i.d(e),e&&g$(t),kS(n,e)}}}function NB(e){let t,n;return t=new CE({props:{items:e[13][e[26]].items,disabled:e[13][e[26]].disabled,onclickitem:e[1],ongrabitem:e[2],ondragitem:e[3],ondropitem:e[4]}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};67117056&n&&(r.items=e[13][e[26]].items),67117056&n&&(r.disabled=e[13][e[26]].disabled),2&n&&(r.onclickitem=e[1]),4&n&&(r.ongrabitem=e[2]),8&n&&(r.ondragitem=e[3]),16&n&&(r.ondropitem=e[4]),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function DB(e){let t,n;return t=new lE({props:{scroll:e[27]?{scrollOffset:0,animate:!1}:void 0,scrollAutoCancel:e[9],elasticity:e[0],$$slots:{default:[NB]},$$scope:{ctx:e}}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};134217728&n&&(r.scroll=e[27]?{scrollOffset:0,animate:!1}:void 0),512&n&&(r.scrollAutoCancel=e[9]),1&n&&(r.elasticity=e[0]),603987998&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function zB(e){let t,n,r,i;const o=[CB,AB],a=[];function s(e,t){return e[9]?0:e[10]?1:-1}return~(n=s(e))&&(r=a[n]=o[n](e)),{c(){t=m$("div"),r&&r.c(),k$(t,"class","PinturaShapePresetsPalette")},m(e,r){f$(e,t,r),~n&&a[n].m(t,null),i=!0},p(e,i){let[l]=i,c=n;n=s(e),n===c?~n&&a[n].p(e,l):(r&&(cS(),hS(a[c],1,1,(()=>{a[c]=null})),uS()),~n?(r=a[n],r?r.p(e,l):(r=a[n]=o[n](e),r.c()),dS(r,1),r.m(t,null)):r=null)},i(e){i||(dS(r),i=!0)},o(e){hS(r),i=!1},d(e){e&&g$(t),~n&&a[n].d()}}}function _B(e,t,n){let r,i,o,a,s,l,c,u,d,{locale:h}=t,{presets:p}=t,{scrollElasticity:f}=t,{enableSelectImage:g=!0}=t,{willRenderPresetToolbar:m=Qm}=t,{onaddpreset:y=om}=t,{ongrabpreset:b}=t,{ondragpreset:v}=t,{ondroppreset:w}=t;const x="presets-"+Mm(),$=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return kB(e)?e:Pv(e)?Fv(e,t):'<img src="'.concat(e,'" alt="').concat(t,'"/>')},S=e=>jm(jb(e)),k=["src","alt","thumb","shape","id","mount","disabled"],A=e=>e.map((e=>(e=>Mv(e)&&Em(e[0])&&Mv(e[1]))(e)?{...e[2],id:"".concat(x,"-").concat(e[0].toLowerCase()),label:e[0],items:A(e[1])}:(e=>{let t,n,r,i,o,a,s,l=e;return Em(e)?Pv(e)?(t=e,o=e,i=$(t,o)):(t=e,o=S(t),i=$(t,o)):(t=e.src,o=e.alt||(Em(t)?S(t):Em(e.thumb)?S(e.thumb):void 0),i=$(e.thumb||t,o),n=e.shape,a=e.mount,s=e.disabled,r=Object.keys(e).reduce(((t,n)=>(k.includes(n)||(t[n]=e[n]),t)),{})),{id:l,src:t,thumb:i,shape:n,shapeProps:r,alt:o,title:o,mount:a,disabled:s}})(e)));return e.$$set=e=>{"locale"in e&&n(14,h=e.locale),"presets"in e&&n(15,p=e.presets),"scrollElasticity"in e&&n(0,f=e.scrollElasticity),"enableSelectImage"in e&&n(16,g=e.enableSelectImage),"willRenderPresetToolbar"in e&&n(17,m=e.willRenderPresetToolbar),"onaddpreset"in e&&n(1,y=e.onaddpreset),"ongrabpreset"in e&&n(2,b=e.ongrabpreset),"ondragpreset"in e&&n(3,v=e.ondragpreset),"ondroppreset"in e&&n(4,w=e.ondroppreset)},e.$$.update=()=>{32768&e.$$.dirty&&n(7,r=A(p)),128&e.$$.dirty&&n(9,i=r.length),640&e.$$.dirty&&n(8,o=i&&r.some((e=>!!e.items))),384&e.$$.dirty&&n(5,a=o&&r),384&e.$$.dirty&&n(13,s=o&&r.reduce(((e,t)=>(e[t.id]=t,e)),{})),96&e.$$.dirty&&n(6,l=l||a&&(a.find((e=>!e.disabled))||{}).id),64&e.$$.dirty&&n(12,c={name:x,selected:l}),32&e.$$.dirty&&n(11,u=a&&a.map((e=>e.id))),212994&e.$$.dirty&&n(10,d=h&&m([g&&["Button","browse",{label:h.shapeLabelButtonSelectSticker,icon:h.shapeIconButtonSelectSticker,onclick:()=>{$R().then((e=>{e&&y(e)}))}}]]))},[f,y,b,v,w,a,l,r,o,i,d,u,c,s,h,p,g,m,e=>{let{detail:t}=e;return n(6,l=t)}]}class UB extends CS{constructor(e){super(),AS(this,e,_B,zB,Gx,{locale:14,presets:15,scrollElasticity:0,enableSelectImage:16,willRenderPresetToolbar:17,onaddpreset:1,ongrabpreset:2,ondragpreset:3,ondroppreset:4})}}function jB(e){let t,n,r,i;return t=new tR({props:{items:e[30]}}),r=new SB({props:{locale:e[4],shapeProps:e[49],onchange:e[85],controls:e[9],scrollEnable:!1,hideTitles:!0,willRenderControls:e[165]}}),{c(){$S(t.$$.fragment),n=v$(),$S(r.$$.fragment)},m(e,o){SS(t,e,o),f$(e,n,o),SS(r,e,o),i=!0},p(e,n){const i={};1073741824&n[0]&&(i.items=e[30]),t.$set(i);const o={};16&n[0]&&(o.locale=e[4]),262144&n[1]&&(o.shapeProps=e[49]),512&n[0]&&(o.controls=e[9]),r.$set(o)},i(e){i||(dS(t.$$.fragment,e),dS(r.$$.fragment,e),i=!0)},o(e){hS(t.$$.fragment,e),hS(r.$$.fragment,e),i=!1},d(e){kS(t,e),e&&g$(n),kS(r,e)}}}function HB(e){let t,n,r;return n=new hI({props:{$$slots:{default:[jB]},$$scope:{ctx:e}}}),{c(){t=m$("div"),$S(n.$$.fragment),k$(t,"slot","header")},m(e,i){f$(e,t,i),SS(n,t,null),r=!0},p(e,t){const r={};1073742352&t[0]|262144&t[1]|67108864&t[6]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(dS(n.$$.fragment,e),r=!0)},o(e){hS(n.$$.fragment,e),r=!1},d(e){e&&g$(t),kS(n)}}}function WB(e){let t,n;const r=[{locale:e[4]},{ui:e[69]},{shapes:e[5]},{selection:e[58]},{uid:e[20]},{parentRect:e[37]},{rootRect:e[55]},{utilRect:e[39]},{offset:e[50]},{disabled:e[38]},{contextRotation:e[23]},{contextFlipX:e[24]},{contextFlipY:e[25]},{contextZoom:e[36]?e[36].scale:void 0},{active:e[35]},{opacity:e[56]},{hoverColor:e[57]},{caretColor:e[57]},{snapColor:e[57]},{gridColor:[1,1,1,.125]},{eraseRadius:e[47]},{selectRadius:e[6]},{enableButtonFlipVertical:e[10]},{enableMultiSelect:e[14]},{mapEditorPointToImagePoint:e[21]},{mapImagePointToEditorPoint:e[22]},{enableTapToAddText:e[13]},{textInputMode:e[8]},{snapThreshold:e[16]},{snapPointer:!e[48]},{enableSnapToContext:e[17]},{gridSize:e[15]},{willStartInteraction:e[95]},{oninteractionstart:e[79]},{oninteractionupdate:e[80]},{oninteractionrelease:e[81]},{oninteractionend:e[83]},{oninteractioncancel:e[82]},{onleavecanvas:e[87]},{onhovercanvas:e[86]},{onhovershape:e[89]},{ontapcanvas:e[88]},{onaddshape:e[156]},{onselectshape:e[157]},{onblurshape:e[158]},{ontapshape:e[159]},{onupdateshape:e[160]},{onremoveshape:e[161]},{ontriggerhistorywrite:e[162]},e[42]];let i={};for(let o=0;o<r.length;o+=1)i=Ux(i,r[o]);return t=new hB({props:i}),e[163](t),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const i=66315632&n[0]|252381681&n[1]|255721600&n[2]|12&n[3]?vS(r,[16&n[0]&&{locale:e[4]},128&n[2]&&{ui:e[69]},32&n[0]&&{shapes:e[5]},134217728&n[1]&&{selection:e[58]},1048576&n[0]&&{uid:e[20]},64&n[1]&&{parentRect:e[37]},16777216&n[1]&&{rootRect:e[55]},256&n[1]&&{utilRect:e[39]},524288&n[1]&&{offset:e[50]},128&n[1]&&{disabled:e[38]},8388608&n[0]&&{contextRotation:e[23]},16777216&n[0]&&{contextFlipX:e[24]},33554432&n[0]&&{contextFlipY:e[25]},32&n[1]&&{contextZoom:e[36]?e[36].scale:void 0},16&n[1]&&{active:e[35]},33554432&n[1]&&{opacity:e[56]},67108864&n[1]&&{hoverColor:e[57]},67108864&n[1]&&{caretColor:e[57]},67108864&n[1]&&{snapColor:e[57]},r[19],65536&n[1]&&{eraseRadius:e[47]},64&n[0]&&{selectRadius:e[6]},1024&n[0]&&{enableButtonFlipVertical:e[10]},16384&n[0]&&{enableMultiSelect:e[14]},2097152&n[0]&&{mapEditorPointToImagePoint:e[21]},4194304&n[0]&&{mapImagePointToEditorPoint:e[22]},8192&n[0]&&{enableTapToAddText:e[13]},256&n[0]&&{textInputMode:e[8]},65536&n[0]&&{snapThreshold:e[16]},131072&n[1]&&{snapPointer:!e[48]},131072&n[0]&&{enableSnapToContext:e[17]},32768&n[0]&&{gridSize:e[15]},4&n[3]&&{willStartInteraction:e[95]},131072&n[2]&&{oninteractionstart:e[79]},262144&n[2]&&{oninteractionupdate:e[80]},524288&n[2]&&{oninteractionrelease:e[81]},2097152&n[2]&&{oninteractionend:e[83]},1048576&n[2]&&{oninteractioncancel:e[82]},33554432&n[2]&&{onleavecanvas:e[87]},16777216&n[2]&&{onhovercanvas:e[86]},134217728&n[2]&&{onhovershape:e[89]},67108864&n[2]&&{ontapcanvas:e[88]},1&n[1]|8&n[3]&&{onaddshape:e[156]},1&n[1]&&{onselectshape:e[157]},1&n[1]&&{onblurshape:e[158]},1&n[1]&&{ontapshape:e[159]},1&n[1]|8&n[3]&&{onupdateshape:e[160]},1&n[1]|8&n[3]&&{onremoveshape:e[161]},8&n[3]&&{ontriggerhistorywrite:e[162]},2048&n[1]&&wS(e[42])]):{};t.$set(i)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(n){e[163](null),kS(t,n)}}}function VB(e){let t,n,r,i,o,a=e[51]&&WB(e);return{c(){t=m$("div"),a&&a.c(),k$(t,"slot","main"),k$(t,"style",n="cursor:"+e[46])},m(n,s){f$(n,t,s),a&&a.m(t,null),e[164](t),r=!0,i||(o=[x$(t,"keydown",e[84]),i$(sC.call(null,t)),x$(t,"dropfiles",(function(){Vx(e[12]?e[94]:om)&&(e[12]?e[94]:om).apply(this,arguments)})),i$(iC.call(null,t)),x$(t,"measure",e[152])],i=!0)},p(i,o){(e=i)[51]?a?(a.p(e,o),1048576&o[1]&&dS(a,1)):(a=WB(e),a.c(),dS(a,1),a.m(t,null)):a&&(cS(),hS(a,1,1,(()=>{a=null})),uS()),(!r||32768&o[1]&&n!==(n="cursor:"+e[46]))&&k$(t,"style",n)},i(e){r||(dS(a),r=!0)},o(e){hS(a),r=!1},d(n){n&&g$(t),a&&a.d(),e[164](null),i=!1,Wx(o)}}}function GB(e){let t,n;return t=new UB({props:{locale:e[4],presets:e[19],enableSelectImage:e[11],willRenderPresetToolbar:e[43],onaddpreset:e[93],ongrabpreset:e[90],ondragpreset:e[91],ondroppreset:e[92],scrollElasticity:e[44]}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};16&n[0]&&(r.locale=e[4]),524288&n[0]&&(r.presets=e[19]),2048&n[0]&&(r.enableSelectImage=e[11]),4096&n[1]&&(r.willRenderPresetToolbar=e[43]),8192&n[1]&&(r.scrollElasticity=e[44]),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function QB(e){let t,n,r,i="stack"===e[7]&&qB(e),o=(e[53]&&e[34]||"row"===e[7])&&XB(e);return{c(){i&&i.c(),t=v$(),o&&o.c(),n=w$()},m(e,a){i&&i.m(e,a),f$(e,t,a),o&&o.m(e,a),f$(e,n,a),r=!0},p(e,r){"stack"===e[7]?i?(i.p(e,r),128&r[0]&&dS(i,1)):(i=qB(e),i.c(),dS(i,1),i.m(t.parentNode,t)):i&&(cS(),hS(i,1,1,(()=>{i=null})),uS()),e[53]&&e[34]||"row"===e[7]?o?(o.p(e,r),128&r[0]|4194312&r[1]&&dS(o,1)):(o=XB(e),o.c(),dS(o,1),o.m(n.parentNode,n)):o&&(cS(),hS(o,1,1,(()=>{o=null})),uS())},i(e){r||(dS(i),dS(o),r=!0)},o(e){hS(i),hS(o),r=!1},d(e){i&&i.d(e),e&&g$(t),o&&o.d(e),e&&g$(n)}}}function qB(e){let t,n,r,i;const o=[ZB,KB],a=[];function s(e,t){return e[45]?0:1}return n=s(e),r=a[n]=o[n](e),{c(){t=m$("div"),r.c(),k$(t,"class","PinturaControlPanels")},m(e,r){f$(e,t,r),a[n].m(t,null),i=!0},p(e,i){let l=n;n=s(e),n===l?a[n].p(e,i):(cS(),hS(a[l],1,1,(()=>{a[l]=null})),uS(),r=a[n],r?r.p(e,i):(r=a[n]=o[n](e),r.c()),dS(r,1),r.m(t,null))},i(e){i||(dS(r),i=!0)},o(e){hS(r),i=!1},d(e){e&&g$(t),a[n].d()}}}function KB(e){let t,n,r;return n=new SB({props:{locale:e[4],shapeProps:e[49],onchange:e[85],controls:e[9],scrollElasticity:e[44],willRenderControls:e[18]}}),{c(){t=m$("div"),$S(n.$$.fragment),k$(t,"class","PinturaControlPanel")},m(e,i){f$(e,t,i),SS(n,t,null),r=!0},p(e,t){const r={};16&t[0]&&(r.locale=e[4]),262144&t[1]&&(r.shapeProps=e[49]),512&t[0]&&(r.controls=e[9]),8192&t[1]&&(r.scrollElasticity=e[44]),262144&t[0]&&(r.willRenderControls=e[18]),n.$set(r)},i(e){r||(dS(n.$$.fragment,e),r=!0)},o(e){hS(n.$$.fragment,e),r=!1},d(e){e&&g$(t),kS(n)}}}function ZB(e){let t,n,r;return n=new UB({props:{locale:e[4],presets:e[19],enableSelectImage:e[11],willRenderPresetToolbar:e[43],onaddpreset:e[93],ongrabpreset:e[90],ondragpreset:e[91],ondroppreset:e[92],scrollElasticity:e[44]}}),{c(){t=m$("div"),$S(n.$$.fragment),k$(t,"class","PinturaControlPanel")},m(e,i){f$(e,t,i),SS(n,t,null),r=!0},p(e,t){const r={};16&t[0]&&(r.locale=e[4]),524288&t[0]&&(r.presets=e[19]),2048&t[0]&&(r.enableSelectImage=e[11]),4096&t[1]&&(r.willRenderPresetToolbar=e[43]),8192&t[1]&&(r.scrollElasticity=e[44]),n.$set(r)},i(e){r||(dS(n.$$.fragment,e),r=!0)},o(e){hS(n.$$.fragment,e),r=!1},d(e){e&&g$(t),kS(n)}}}function XB(e){let t,n;return t=new lE({props:{class:"PinturaControlListScroller",elasticity:e[44],$$slots:{default:[iO]},$$scope:{ctx:e}}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};8192&n[1]&&(r.elasticity=e[44]),262801&n[0]|262154&n[1]|67108864&n[6]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function JB(e){let t,n;return t=new kT({props:{locale:e[4],class:"PinturaControlList",optionClass:"PinturaControlListOption",layout:"row",options:e[32],selectedIndex:e[32].findIndex(e[153]),onchange:e[78],$$slots:{option:[nO,e=>{let{option:t}=e;return{211:t}},e=>{let{option:t}=e;return[0,0,0,0,0,0,t?33554432:0]}]},$$scope:{ctx:e}}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};16&n[0]&&(r.locale=e[4]),2&n[1]&&(r.options=e[32]),1&n[0]|2&n[1]&&(r.selectedIndex=e[32].findIndex(e[153])),16&n[0]|100663296&n[6]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function YB(e){let t,n;return t=new HC({props:{$$slots:{default:[eO]},$$scope:{ctx:e}}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};16&n[0]|100663296&n[6]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function eO(e){let t,n=(Tm(e[211].icon)?e[211].icon(e[4]):e[211].icon)+"";return{c(){t=y$("g")},m(e,r){f$(e,t,r),t.innerHTML=n},p(e,r){16&r[0]|33554432&r[6]&&n!==(n=(Tm(e[211].icon)?e[211].icon(e[4]):e[211].icon)+"")&&(t.innerHTML=n)},d(e){e&&g$(t)}}}function tO(e){let t,n,r=(Tm(e[211].label)?e[211].label(e[4]):e[211].label)+"";return{c(){t=m$("span"),n=b$(r)},m(e,r){f$(e,t,r),d$(t,n)},p(e,t){16&t[0]|33554432&t[6]&&r!==(r=(Tm(e[211].label)?e[211].label(e[4]):e[211].label)+"")&&E$(n,r)},d(e){e&&g$(t)}}}function nO(e){let t,n,r,i=e[211].icon&&YB(e),o=!e[211].hideLabel&&tO(e);return{c(){t=m$("div"),i&&i.c(),n=v$(),o&&o.c(),k$(t,"slot","option")},m(e,a){f$(e,t,a),i&&i.m(t,null),d$(t,n),o&&o.m(t,null),r=!0},p(e,r){e[211].icon?i?(i.p(e,r),33554432&r[6]&&dS(i,1)):(i=YB(e),i.c(),dS(i,1),i.m(t,n)):i&&(cS(),hS(i,1,1,(()=>{i=null})),uS()),e[211].hideLabel?o&&(o.d(1),o=null):o?o.p(e,r):(o=tO(e),o.c(),o.m(t,null))},i(e){r||(dS(i),r=!0)},o(e){hS(i),r=!1},d(e){e&&g$(t),i&&i.d(),o&&o.d()}}}function rO(e){let t,n;return t=new SB({props:{locale:e[4],shapeProps:e[49],onchange:e[85],controls:e[9],scrollEnable:!1,hideTitles:!0,willRenderControls:e[154]}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};16&n[0]&&(r.locale=e[4]),262144&n[1]&&(r.shapeProps=e[49]),512&n[0]&&(r.controls=e[9]),262144&n[0]&&(r.willRenderControls=e[154]),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function iO(e){let t,n,r,i=e[34]&&JB(e),o="row"===e[7]&&rO(e);return{c(){i&&i.c(),t=v$(),o&&o.c(),n=w$()},m(e,a){i&&i.m(e,a),f$(e,t,a),o&&o.m(e,a),f$(e,n,a),r=!0},p(e,r){e[34]?i?(i.p(e,r),8&r[1]&&dS(i,1)):(i=JB(e),i.c(),dS(i,1),i.m(t.parentNode,t)):i&&(cS(),hS(i,1,1,(()=>{i=null})),uS()),"row"===e[7]?o?(o.p(e,r),128&r[0]&&dS(o,1)):(o=rO(e),o.c(),dS(o,1),o.m(n.parentNode,n)):o&&(cS(),hS(o,1,1,(()=>{o=null})),uS())},i(e){r||(dS(i),dS(o),r=!0)},o(e){hS(i),hS(o),r=!1},d(e){i&&i.d(e),e&&g$(t),o&&o.d(e),e&&g$(n)}}}function oO(e){let t,n;return t=new lE({props:{class:"PinturaControlListScroller",elasticity:e[44],$$slots:{default:[cO]},$$scope:{ctx:e}}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};8192&n[1]&&(r.elasticity=e[44]),134217744&n[0]|8388608&n[1]|67108864&n[6]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function aO(e){let t,n;return t=new HC({props:{$$slots:{default:[sO]},$$scope:{ctx:e}}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};16&n[0]|100663296&n[6]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function sO(e){let t,n=(Tm(e[211].icon)?e[211].icon(e[4]):e[211].icon)+"";return{c(){t=y$("g")},m(e,r){f$(e,t,r),t.innerHTML=n},p(e,r){16&r[0]|33554432&r[6]&&n!==(n=(Tm(e[211].icon)?e[211].icon(e[4]):e[211].icon)+"")&&(t.innerHTML=n)},d(e){e&&g$(t)}}}function lO(e){let t,n,r,i,o,a=(Tm(e[211].label)?e[211].label(e[4]):e[211].label)+"",s=e[211].icon&&aO(e);return{c(){t=m$("div"),s&&s.c(),n=v$(),r=m$("span"),i=b$(a),k$(t,"slot","option")},m(e,a){f$(e,t,a),s&&s.m(t,null),d$(t,n),d$(t,r),d$(r,i),o=!0},p(e,r){e[211].icon?s?(s.p(e,r),33554432&r[6]&&dS(s,1)):(s=aO(e),s.c(),dS(s,1),s.m(t,n)):s&&(cS(),hS(s,1,1,(()=>{s=null})),uS()),(!o||16&r[0]|33554432&r[6])&&a!==(a=(Tm(e[211].label)?e[211].label(e[4]):e[211].label)+"")&&E$(i,a)},i(e){o||(dS(s),o=!0)},o(e){hS(s),o=!1},d(e){e&&g$(t),s&&s.d()}}}function cO(e){let t,n;return t=new kT({props:{locale:e[4],class:"PinturaControlList",optionClass:"PinturaControlListOption",layout:"row",options:e[54],selectedIndex:e[54].findIndex(e[155]),onchange:e[77],$$slots:{option:[lO,e=>{let{option:t}=e;return{211:t}},e=>{let{option:t}=e;return[0,0,0,0,0,0,t?33554432:0]}]},$$scope:{ctx:e}}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};16&n[0]&&(r.locale=e[4]),8388608&n[1]&&(r.options=e[54]),134217728&n[0]|8388608&n[1]&&(r.selectedIndex=e[54].findIndex(e[155])),16&n[0]|100663296&n[6]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function uO(e){let t,n,r,i,o;const a=[QB,GB],s=[];function l(e,t){return e[52]?0:e[45]?1:-1}~(n=l(e))&&(r=s[n]=a[n](e));let c=e[33]&&oO(e);return{c(){t=m$("div"),r&&r.c(),i=v$(),c&&c.c(),k$(t,"slot","footer"),k$(t,"style",e[40])},m(e,r){f$(e,t,r),~n&&s[n].m(t,null),d$(t,i),c&&c.m(t,null),o=!0},p(e,u){let d=n;n=l(e),n===d?~n&&s[n].p(e,u):(r&&(cS(),hS(s[d],1,1,(()=>{s[d]=null})),uS()),~n?(r=s[n],r?r.p(e,u):(r=s[n]=a[n](e),r.c()),dS(r,1),r.m(t,i)):r=null),e[33]?c?(c.p(e,u),4&u[1]&&dS(c,1)):(c=oO(e),c.c(),dS(c,1),c.m(t,null)):c&&(cS(),hS(c,1,1,(()=>{c=null})),uS()),(!o||512&u[1])&&k$(t,"style",e[40])},i(e){o||(dS(r),dS(c),o=!0)},o(e){hS(r),hS(c),o=!1},d(e){e&&g$(t),~n&&s[n].d(),c&&c.d()}}}function dO(e){let t,n;return t=new CI({props:{hasHeader:e[41],$$slots:{footer:[uO],main:[VB],header:[HB]},$$scope:{ctx:e}}}),t.$on("measure",e[166]),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};1024&n[1]&&(r.hasHeader=e[41]),2080374769&n[0]|134216703&n[1]|67108864&n[6]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function hO(e,t,n){let r,i,o,a,s,l,c,u,d,h,p,f,g,m,y,b,v,w,x,$,S,k,A,C,E,T,P,R,M,I,L,B,O,F,N,D,z,_,U,j,H,W,V,G,Q,q,K,Z,X,J,Y,ee,te,ne,re,ie,oe,ae,se,le,ce,ue,de,he,pe,fe,ge,me,ye=zx,be=()=>(ye(),ye=Qx(Ee,(e=>n(35,Q=e))),Ee),ve=zx,we=()=>(ve(),ve=Qx(Ie,(e=>n(145,X=e))),Ie),xe=zx,$e=()=>(xe(),xe=Qx(dt,(e=>n(37,ie=e))),dt),Se=zx,ke=()=>(Se(),Se=Qx(Pe,(e=>n(151,he=e))),Pe),Ae=zx,Ce=()=>(Ae(),Ae=Qx(Te,(e=>n(56,ge=e))),Te);e.$$.on_destroy.push((()=>ye())),e.$$.on_destroy.push((()=>ve())),e.$$.on_destroy.push((()=>xe())),e.$$.on_destroy.push((()=>Se())),e.$$.on_destroy.push((()=>Ae()));let{isActive:Ee}=t;be();let{isActiveFraction:Te}=t;Ce();let{isVisible:Pe}=t;ke();let{stores:Re}=t,{locale:Me={}}=t,{shapes:Ie}=t;we();let{toolbar:Le=[]}=t,{toolShapes:Be={}}=t,{toolActive:Oe}=t,{toolSelectRadius:Fe}=t,{toolRetainStyles:Ne=!1}=t,{toolbarLayout:De="stack"}=t,{textInputMode:ze}=t,{shapeControls:_e={}}=t,{enableButtonFlipVertical:Ue=!1}=t,{enablePresetSelectImage:je=!0}=t,{enablePresetDropImage:He=!0}=t,{enableSelectToolToAddShape:We=!1}=t,{enableAutoSelectMoveTool:Ve=["line","arrow","path","rectangle","ellipse","text"]}=t,{enableTapToAddText:Ge=!1}=t,{enableMoveTool:Qe=!1}=t,{enableViewTool:qe=!1}=t,{enableToolShareStyles:Ke=!0}=t,{enableMultiSelect:Ze=!1}=t,{gridSize:Xe=0}=t,{snapThreshold:Je=0}=t,{enableSnapToContext:Ye=!0}=t,{willRenderHeaderTools:et=Qm}=t,{willRenderPresetToolbar:tt}=t,{willRenderShapeStyleControls:nt}=t,{willStartInteraction:rt}=t,{shapePresets:it=[]}=t,{utilKey:ot}=t,{mapScreenPointToImagePoint:at}=t,{mapImagePointToScreenPoint:st}=t,{imageRotation:lt=0}=t,{imageFlipX:ct=!1}=t,{imageFlipY:ut=!1}=t,{parentRect:dt}=t;$e();let{hooks:ht={}}=t;const pt=H$("selection");Kx(e,pt,(e=>n(150,ce=e)));const ft=H$("isAnimated");Kx(e,ft,(e=>n(142,q=e)));const gt=H$("elasticityMultiplier");Kx(e,gt,(e=>n(146,J=e)));const mt=H$("ui");Kx(e,mt,(e=>n(176,ue=e)));const yt=H$("keysPressed");let bt;Kx(e,yt,(e=>n(149,le=e)));const{env:vt,history:wt,rootRect:xt,rootColorSecondary:$t,enablePanInput:St,enablePanInputStatus:kt,enableZoomInput:At,stageRect:Ct,utilRectPadded:Et,scrollElasticity:Tt,imageOverlayMarkup:Pt,imagePreviewModifiers:Rt,imageCropRect:Mt,shapePreprocessor:It,stageScalar:Lt,imageSelectionRect:Bt,imageTransformsInterpolated:Ot,imageSelectionPan:Ft,imageSize:Nt,allowPan:Dt,allowZoom:zt,allowZoomControls:_t,allowPlayPause:Ut}=Re;Kx(e,vt,(e=>n(143,K=e))),Kx(e,xt,(e=>n(55,fe=e))),Kx(e,$t,(e=>n(57,me=e))),Kx(e,kt,(e=>n(38,ae=e))),Kx(e,Ct,(e=>n(147,Y=e))),Kx(e,Et,(e=>n(39,de=e))),Kx(e,Rt,(e=>n(177,pe=e))),Kx(e,Mt,(e=>n(175,oe=e))),Kx(e,Lt,(e=>n(173,ne=e))),Kx(e,Bt,(e=>n(174,re=e))),Kx(e,Ot,(e=>n(36,ee=e))),Kx(e,Ft,(e=>n(172,te=e))),Kx(e,Nt,(e=>n(148,se=e)));let jt=0,Ht={};const Wt=e=>at(VL(e,fe));let Vt,Gt,Qt,qt={};const Kt=e=>{if(!$w(e)||!Rv(e,"pathClose"))return;const t=[...e.strokeColor];t[3]=1,Vt.updateMarkupShape(e,{pathClose:!1,strokeColor:t},!1),Vt.removeMarkupShapeProps(e,["backgroundColor"],!1),Vt.confirmMarkupItemDraft(),Vt.selectShape(e),z("addshape",e),wt.write()};let Zt;const Xt=(e,t)=>Tv(e)?e:e.endsWith("%")?parseFloat(e)/100*t.width:void 0;let Jt,Yt,en;const tn=(e,t,n)=>{let r=!1;t||(r=!0,t=D?at(ab(Y)):ab(oe)),t.x-=ie.x||0,t.y-=ie.y||0,(ct||ut)&&(e.flipX=ct,e.flipY=ut);const i=Vt.getShapesNearPosition(X,t);if(r&&i.length){const e=.1*Math.min(oe.width,oe.height);t.x+=Math.round(-e+Math.random()*e*2),t.y+=Math.round(-e+Math.random()*e*2)}if(0!==lt&&(e.rotation=ct&&ut?-lt:ct||ut?lt:-lt),Rv(e,"width")&&Rv(e,"height")){const{width:n,height:r}=ux(e,["width","height"],ie);dx(e,{x:t.x-.5*n,y:t.y-.5*r},ie)}else if(ww(e))dx(e,{x:t.x,y:t.y},ie);else if(xw(e)){const{x1:r,y1:i,x2:o,y2:a}=ux(e,["x1","y1","x2","y2"],ie),s=Py(hy(r,i),hy(o,a)),l=Em(n)?ex(n,ie.width):s;dx(e,{x1:t.x-l,y1:t.y+l,x2:t.x+l,y2:t.y-l},ie)}else if($w(e)){const{points:n}=ux(e,["points"],ie),r=Ry(n);dx(e,{points:n.map((e=>({x:e.x+t.x-r.x,y:e.y+t.y-r.y})))},ie)}return e},nn=(e,t)=>{const n=tn(pw(e,oe),t);return e.shape&&(Rv(e.shape,"x")&&(n.x=e.shape.x),Rv(e.shape,"y")&&(n.y=e.shape.y)),rn(n)},rn=e=>{const{beforeAddShape:t=(()=>!0)}=ht;if(t(e))return Vt.addShape(e),Vt.selectShape(e),z("addshape",e),wt.write(),e};let on=!1;const an=()=>{wt.write()};let sn;const ln=H$("redrawTrigger");Kx(e,ln,(e=>n(144,Z=e)));const cn=[],un=jA(q?20:0);return Kx(e,un,(e=>n(141,G=e))),e.$$set=e=>{"isActive"in e&&be(n(1,Ee=e.isActive)),"isActiveFraction"in e&&Ce(n(2,Te=e.isActiveFraction)),"isVisible"in e&&ke(n(3,Pe=e.isVisible)),"stores"in e&&n(100,Re=e.stores),"locale"in e&&n(4,Me=e.locale),"shapes"in e&&we(n(5,Ie=e.shapes)),"toolbar"in e&&n(101,Le=e.toolbar),"toolShapes"in e&&n(102,Be=e.toolShapes),"toolActive"in e&&n(0,Oe=e.toolActive),"toolSelectRadius"in e&&n(6,Fe=e.toolSelectRadius),"toolRetainStyles"in e&&n(103,Ne=e.toolRetainStyles),"toolbarLayout"in e&&n(7,De=e.toolbarLayout),"textInputMode"in e&&n(8,ze=e.textInputMode),"shapeControls"in e&&n(9,_e=e.shapeControls),"enableButtonFlipVertical"in e&&n(10,Ue=e.enableButtonFlipVertical),"enablePresetSelectImage"in e&&n(11,je=e.enablePresetSelectImage),"enablePresetDropImage"in e&&n(12,He=e.enablePresetDropImage),"enableSelectToolToAddShape"in e&&n(104,We=e.enableSelectToolToAddShape),"enableAutoSelectMoveTool"in e&&n(105,Ve=e.enableAutoSelectMoveTool),"enableTapToAddText"in e&&n(13,Ge=e.enableTapToAddText),"enableMoveTool"in e&&n(106,Qe=e.enableMoveTool),"enableViewTool"in e&&n(107,qe=e.enableViewTool),"enableToolShareStyles"in e&&n(108,Ke=e.enableToolShareStyles),"enableMultiSelect"in e&&n(14,Ze=e.enableMultiSelect),"gridSize"in e&&n(15,Xe=e.gridSize),"snapThreshold"in e&&n(16,Je=e.snapThreshold),"enableSnapToContext"in e&&n(17,Ye=e.enableSnapToContext),"willRenderHeaderTools"in e&&n(109,et=e.willRenderHeaderTools),"willRenderPresetToolbar"in e&&n(110,tt=e.willRenderPresetToolbar),"willRenderShapeStyleControls"in e&&n(18,nt=e.willRenderShapeStyleControls),"willStartInteraction"in e&&n(111,rt=e.willStartInteraction),"shapePresets"in e&&n(19,it=e.shapePresets),"utilKey"in e&&n(20,ot=e.utilKey),"mapScreenPointToImagePoint"in e&&n(21,at=e.mapScreenPointToImagePoint),"mapImagePointToScreenPoint"in e&&n(22,st=e.mapImagePointToScreenPoint),"imageRotation"in e&&n(23,lt=e.imageRotation),"imageFlipX"in e&&n(24,ct=e.imageFlipX),"imageFlipY"in e&&n(25,ut=e.imageFlipY),"parentRect"in e&&$e(n(26,dt=e.parentRect)),"hooks"in e&&n(112,ht=e.hooks)},e.$$.update=()=>{var t,te,ne,re;if(33554432&e.$$.dirty[4]&&n(124,r=le.includes(18)),1049088&e.$$.dirty[3]&&(bt&&Be===bt||n(113,bt=Be)),16&e.$$.dirty[1]&&Dt.set(Q),16&e.$$.dirty[1]&&zt.set(Q),16&e.$$.dirty[1]&&_t.set(Q),256&e.$$.dirty[3]&&n(33,i=Array.isArray(Le)&&Le.length>1&&Array.isArray(Le[0][1])),4&e.$$.dirty[1]|256&e.$$.dirty[3]&&n(54,o=i?Le.map(((e,t)=>[t,e[0]])):[]),134217728&e.$$.dirty[0]|4&e.$$.dirty[1]|256&e.$$.dirty[3]&&n(140,a=i?Le[jt][1]:Le),524288&e.$$.dirty[0]|155648&e.$$.dirty[3]|65536&e.$$.dirty[4]&&n(32,s=((e,t)=>{let{willRenderPresetToolbar:n,shapePresets:r,enableViewTool:o,enableMoveTool:a}=t,s=0!==r.length||n?e:e.filter((e=>"preset"!==e[0]));return i&&(s=[["move",e=>e.shapeLabelToolMove,{icon:e=>e.shapeIconToolMove}],["view",e=>e.shapeLabelToolView,{icon:e=>e.shapeIconToolView}],...s]),s=a?s:s.filter((e=>"move"!==e[0])),o?s:s.filter((e=>"view"!==e[0]))})(a,{willRenderPresetToolbar:tt,shapePresets:it,enableMoveTool:Qe,enableViewTool:qe})),2&e.$$.dirty[1]&&n(138,u=!!s.length),1&e.$$.dirty[0]|2&e.$$.dirty[1]|16384&e.$$.dirty[4]&&u&&void 0===Oe&&n(0,Oe=s[0][0]),134217729&e.$$.dirty[0]|4&e.$$.dirty[1]|2097152&e.$$.dirty[3]|65536&e.$$.dirty[4]&&i&&n(114,Ht={...Ht,[jt]:a.map((e=>{let[t]=e;return t})).includes(Oe)?Oe:Ht[jt]||a[0][0]}),512&e.$$.dirty[0]&&n(137,l=!!Object.keys(_e).length),2&e.$$.dirty[1]&&n(34,c=s.length>1),12&e.$$.dirty[1]&&n(53,d=c||i),1&e.$$.dirty[0]&&n(139,h=void 0!==Oe),57344&e.$$.dirty[4]&&n(52,p=(!h||u)&&l),536870912&e.$$.dirty[0]&&n(31,z=sn&&(t=sn,(e,n)=>{t.dispatchEvent(dR(e,n))})),1&e.$$.dirty[0]|17&e.$$.dirty[1]&&Q&&z&&z("selectcontrol",Oe),16&e.$$.dirty[1]&&(Q?r$(Rt,pe[ot]={maskMarkupOpacity:.85},pe):delete pe[ot]),1&e.$$.dirty[0]|1048576&e.$$.dirty[3]&&n(136,f=Oe&&bt[Oe]?bt[Oe][1]:void 0),4096&e.$$.dirty[4]&&n(125,g=f&&f.isSelection?"selection":"shapes"),3&e.$$.dirty[4]&&(e=>{if(!Vt)return;const t=Vt.getShapeDraft(pt);t&&(e&&(Gt=t.drawMode),Vt.updateShapeDraft({drawMode:e?"subtract":Gt},pt))})("selection"===g&&r),268435457&e.$$.dirty[0]&&Oe&&Vt){const e=Vt.getMarkupItemDraft();e&&Kt(e)}if(1&e.$$.dirty[0]&&Oe&&Vt&&"move"!==Oe&&Vt.blurShapes(),16&e.$$.dirty[1]|134217728&e.$$.dirty[4]&&n(51,m=he&&Q),256&e.$$.dirty[1]|8388608&e.$$.dirty[4]&&n(50,y=de&&hy(Y.x-de.x,Y.y-de.y)),512&e.$$.dirty[0]&&n(135,b=Object.keys(_e)),16384&e.$$.dirty[0]|16&e.$$.dirty[1]|2097152&e.$$.dirty[4]&&n(122,v=Ze?Q&&X.filter(Aw):[]),536870912&e.$$.dirty[3]&&n(123,w=v.length>1),16&e.$$.dirty[1]|2097152&e.$$.dirty[4]&&n(119,x=Q&&X.filter(Aw)[0]),16&e.$$.dirty[1]|2097152&e.$$.dirty[4]&&n(130,$=Q&&X.find((e=>Cw(e)))),16&e.$$.dirty[1]|2097152&e.$$.dirty[4]&&n(133,S=Q&&X.find((e=>Ew(e)))),1&e.$$.dirty[0]|16&e.$$.dirty[1]|1048576&e.$$.dirty[3]&&n(127,k=Q&&bt[Oe]?Jw(cw({...bt[Oe][0],...ue[ot]?ue[ot][Oe]:{}})):{}),1048576&e.$$.dirty[3]&&bt&&n(115,qt={}),1&e.$$.dirty[0]|4227072&e.$$.dirty[3]|2056&e.$$.dirty[4]&&n(126,A=k&&Object.keys(k).reduce(((e,t)=>{const n="disableStyle"===t,r="settings"===t,i=!!b.find((e=>e.split("_").includes(t)));if(!n&&!r&&!i)return e;if(void 0===k[t])return e;if(!0===k.disableStyle)return e;if(k.disableStyle&&k.disableStyle.includes(t))return e;if("strokeWidth"===t&&Object.keys(qt).includes("strokeWidth")&&void 0===qt[t]&&Rv(k,"points"))return e[t]=k[t],e;const{share:o=!0}=k.settings&&k.settings[t]||{},a=Ke&&o?qt:qt[Oe]||{};return e[t]=Rv(a,t)?a[t]:k[t],e}),{})),1048577&e.$$.dirty[0]|1024&e.$$.dirty[3]|4&e.$$.dirty[4]&&(Ne?((e,t,n)=>{const r=ue[e],i=r?r[t]:{};mt.set({...ue,[e]:{...r,[t]:{...i,...n}}})})(ot,Oe,A):(te=ot,mt.set({[te]:{}}))),16&e.$$.dirty[1]|67108864&e.$$.dirty[3]|67108868&e.$$.dirty[4]&&n(134,C=ce&&Q?x||A:void 0),1610612736&e.$$.dirty[3]|1536&e.$$.dirty[4]&&n(49,E=w?function(e){const t={};return e.forEach((e=>{Object.entries(e).filter((e=>{let[t]=e;return!t.startsWith("_")})).forEach((e=>{let[n,r]=e;Rv(t,n)?"disableStyle"===n&&t[n].push(...r):t[n]=r}))})),t}(v):C||S),1&e.$$.dirty[0]|8&e.$$.dirty[4]&&n(48,T=Rv(k,"eraseRadius")||Rv(k,"points")&&!Rv(k,"pathClose")||"move"===Oe||"view"===Oe),64&e.$$.dirty[1]|8&e.$$.dirty[4]&&n(47,P=k&&void 0!==k.eraseRadius?Xt(k.eraseRadius,ie):void 0),16&e.$$.dirty[1]|33554432&e.$$.dirty[4]&&n(131,R=Q&&le.includes(32)),1&e.$$.dirty[0]|16&e.$$.dirty[1]&&n(132,M=Q&&"view"===Oe),384&e.$$.dirty[4]&&n(129,I=M||R),96&e.$$.dirty[4]&&n(128,L=!!I&&(!!$||IE(document.activeElement))),16&e.$$.dirty[1]|48&e.$$.dirty[4]&&St.set(!Q||I&&!L),16&e.$$.dirty[1]|16&e.$$.dirty[4]&&At.set(!Q||!L),64&e.$$.dirty[1]|12&e.$$.dirty[4]&&n(120,B=k.cursorStyle?((e,t,n)=>{let r,{cursorStyle:i,cursorSize:o}=e;const a=t[o];if(void 0===a?r=Xt(o,n):Tv(a)?r=a:Em(a)&&(r=ix(o,t[o],n),"strokeWidth"===o&&(r*=.5)),!(r<=0||void 0===r))return{size:r,style:i}})(k,{...k,...A},ie):void 0),33554432&e.$$.dirty[3]|16777216&e.$$.dirty[4]&&n(121,O=en&&(re=se,(ne=en).x>=0&&ne.y>=0&&ne.x<=re.width&&ne.y<=re.height)),1048576&e.$$.dirty[0]|160&e.$$.dirty[1]|427819008&e.$$.dirty[3]|3&e.$$.dirty[4])if(O&&!Jt&&B&&!ae){const e=B.size*ee.scale,t={id:"cursor-"+ot,x:Yt.x,y:Yt.y,strokeWidth:.5,strokeColor:[0,0,0]};"ellipse"===B.style&&(t.rx=e,t.ry=e);const n={strokeWidth:2.5,strokeColor:[1,1,1],opacity:.75},i=[{...t,...n},t];if("selection"===g&&r){const t=e,r=Yt.x+t,o=Yt.y+t+4,a={id:"cursor-"+ot,strokeWidth:.75,strokeColor:[0,0,0],points:[{x:r,y:o},{x:r+4,y:o}]};i.push({...a,...n,strokeWidth:2,points:[{x:r-.5,y:o},{x:r+4.5,y:o}]},a)}(e=>{Pt.update((t=>[...t.filter((e=>e.id!=="cursor-"+ot)),...e]))})(i)}else Pt.update((e=>e.filter((e=>e.id!=="cursor-"+ot))));1&e.$$.dirty[0]|128&e.$$.dirty[1]|478150656&e.$$.dirty[3]&&n(46,F=O?((e,t,n,r,i,o)=>{if(r)return"grab";if(e&&!t)return"none";if(!t)return"move"===o?"default":"crosshair";let a=t||n;return Aw(a)?Cw(a)?"modal"===ze?"default":"text":!Ww(a)||w&&!v.every(Ww)?"default":"move":"default"})(B,Jt,x,ae,0,Oe):"default"),526337&e.$$.dirty[0]|131072&e.$$.dirty[3]&&n(45,N="preset"===Oe&&(it.length>0||je||tt)),64&e.$$.dirty[1]&&(D=!Rv(ie,"x")&&!Rv(ie,"y")),4194304&e.$$.dirty[4]&&n(44,_=J*Tt),131072&e.$$.dirty[3]|1572864&e.$$.dirty[4]&&n(43,U=Z&&tt?e=>SR((()=>tt(e,nn,{...K},(()=>ln.set({}))))):Qm),524288&e.$$.dirty[3]&&n(42,j=Object.keys(ht).reduce(((e,t)=>("beforeAddShape"===t||void 0===ht[t]||(e[t]=ht[t]),e)),{})),16&e.$$.dirty[1]&&(e=>{X&&Ie.update((t=>t.map((t=>(t._prerender=!!e&&Cw(t),t)))))})(Q),65536&e.$$.dirty[3]|1572864&e.$$.dirty[4]&&n(30,H=Z&&et([],K,(()=>ln.set({})))),1073742336&e.$$.dirty[0]&&n(41,W=!!H.length||!!Object.keys(_e).some((e=>cn.includes(e)))),16&e.$$.dirty[1]|262144&e.$$.dirty[4]&&q&&un.set(Q?0:20),131072&e.$$.dirty[4]&&n(40,V=G?"transform: translateY(".concat(G,"px)"):void 0)},Ut.set(!1),[Oe,Ee,Te,Pe,Me,Ie,Fe,De,ze,_e,Ue,je,He,Ge,Ze,Xe,Je,Ye,nt,it,ot,at,st,lt,ct,ut,dt,jt,Vt,sn,H,z,s,i,c,Q,ee,ie,ae,de,V,W,j,U,_,N,F,P,T,E,y,m,p,d,o,fe,ge,me,pt,ft,gt,mt,yt,vt,xt,$t,kt,Ct,Et,Pt,Rt,Mt,Lt,Bt,Ot,Ft,Nt,(e,t)=>{let{index:r}=e;n(27,jt=r),n(0,Oe=Ht[r])},(e,t)=>{let{value:r}=e;n(0,Oe=r),(We||/enter/i.test(t.key))&&(e=>{const[t,n]=bt[e];let r,i,o="relative"===n.position;const a=o?"0%":0,s=o?"0%":0;vw(t)||mw(t)?(i=o?"20%":.2*ie.width,r=cw(t),r.x=a,r.y=s,dx(r,{width:i,height:i},ie)):ww(t)?(i=o?"10%":.1*ie.width,r=cw(t),r.x=a,r.y=s,dx(r,{rx:i,ry:i},ie)):xw(t)&&(i=o?"10%":.1*ie.width,r=cw(t),r.x1=a,r.y1=s,r.x2=a,r.y2=s),r&&Promise.resolve().then((()=>{rn(tn(r,void 0,i))}))})(r)},e=>{if("eraser"===Oe)Qt=Vt.eraseShape();else if(Oe&&bt[Oe]){const[e,t={}]=bt[Oe],{drawMode:n}=C;"selection"===g&&"new"===n&&pt.set([]);let i={};"selection"===g&&(z("selectiondown",[...ce]),r&&(Gt=e.drawMode,i.drawMode="subtract")),Qt=Vt.createShape({...e,...A,...i},t)}else Qt=void 0;return!!Qt&&(Qt.start(e),!0)},e=>!!Qt&&(Qt.update(e),!0),e=>!!Qt&&(Qt.release(e),!0),e=>!!Qt&&(Qt.cancel(e),Qt=void 0,!0),e=>{if(!Qt)return!1;if(Qt.end(e),Qt=void 0,"selection"===g){if(e.detail.isTap){const[e]=bt[Oe];e.bitmap||pt.set([])}z("selectionup",[...ce])}const t=Vt.getMarkupItemDraft(),r=Qe&&(!0===Ve||Array.isArray(Ve)&&Ve.includes(Oe));return t&&!t.isEditing||!r||n(0,Oe="move"),!0},e=>{const{key:t}=e,n=Vt.getMarkupItemDraft();/escape/i.test(t)&&n&&(e.preventDefault(),e.stopPropagation(),Vt.discardMarkupItemDraft(),Qt=void 0),/enter/i.test(t)&&n&&(e.preventDefault(),e.stopPropagation(),Kt(n),Qt=void 0)},function(e){Object.keys(e).forEach((t=>{const{retain:r=!0,share:i=!0}=k.settings&&k.settings[t]||{};r&&(Ke&&i?n(115,qt[t]=e[t],qt):(qt[Oe]||n(115,qt[Oe]={},qt),n(115,qt[Oe][t]=e[t],qt)))})),z("selectstyle",e),x&&(w?v.forEach((t=>{Vt.updateMarkupShape(t,((e,t)=>{const n={};return Object.entries(e).forEach((e=>{let[r,i]=e;Rv(t,r)&&(n[r]=i)})),n})(e,t))})):Vt.updateMarkupShape(x,e),clearTimeout(Zt),Zt=setTimeout((()=>{an()}),200))},(e,t,r)=>{n(117,Yt=t),n(118,en=r)},()=>{n(118,en=void 0),n(117,Yt=void 0)},e=>{z("markuptap",e)},e=>n(116,Jt=e),()=>{on=!1},(e,t)=>{if(on)return;const{beforeAddShape:n=(()=>!0)}=ht,r=Wt(t),i=Vt.getMarkupItemDraft(),o=bb(oe,{x:r.x+(ie.x||0),y:r.y+(ie.y||0)});if(i&&!o&&Vt.discardMarkupItemDraft(),o){if(!i){const i=pw(e,oe),o=tn(i,r);return n(o)?(Iw(o),void Vt.addShape(o)):(on=!0,void t.preventDefault())}vw(i)&&(r.x-=.5*i.width,r.y-=.5*i.height),e.shape&&(Rv(e.shape,"x")&&(r.x=e.shape.x),Rv(e.shape,"y")&&(r.y=e.shape.y)),Vt.updateMarkupShape(i,r)}},(e,t)=>{if(on)return;const n=Wt(t);if(!bb(oe,{x:n.x+(ie.x||0),y:n.y+(ie.y||0)}))return void Vt.discardMarkupItemDraft();const r=Vt.confirmMarkupItemDraft();Vt.selectShape(r),z("addshape",r),wt.write()},e=>nn(e),e=>{return t=e.detail.resources,n=Wt(e.detail.event),t.forEach((e=>nn(e,n)));var t,n},e=>{if(!rt)return!0;const t=rectClone(re);return rectScale(t,1/ne),rectTranslate(t,te),rectScale(t,ee.scale),rt(e,{...t,x:t.x+Y.x,y:t.y+Y.y})},an,ln,cn,un,Re,Le,Be,Ne,We,Ve,Qe,qe,Ke,et,tt,rt,ht,bt,Ht,qt,Jt,Yt,en,x,B,O,v,w,r,g,A,k,L,I,$,R,M,S,C,b,f,l,u,h,a,G,q,K,Z,X,J,Y,se,le,ce,he,function(t){W$.call(this,e,t)},e=>e[0]===Oe,(e,t,n)=>{const r=e.filter((e=>{let[,t]=e;return!cn.includes(t)}));return nt?nt(r,t,n):r},e=>e[0]===jt,e=>{Promise.resolve().then((()=>{z("addshape",e),an()}))},e=>{z("selectshape",e)},e=>{Promise.resolve().then((()=>{z("blurshape",e)}))},e=>{z("tapshape",e)},e=>{z("updateshape",e),an()},e=>{z("removeshape",e),an()},()=>{an()},function(e){G$[e?"unshift":"push"]((()=>{Vt=e,n(28,Vt)}))},function(e){G$[e?"unshift":"push"]((()=>{sn=e,n(29,sn)}))},e=>e.filter((e=>{let[,t]=e;return cn.includes(t)})),function(t){W$.call(this,e,t)}]}class pO extends CS{constructor(e){super(),AS(this,e,hO,dO,Gx,{isActive:1,isActiveFraction:2,isVisible:3,stores:100,locale:4,shapes:5,toolbar:101,toolShapes:102,toolActive:0,toolSelectRadius:6,toolRetainStyles:103,toolbarLayout:7,textInputMode:8,shapeControls:9,enableButtonFlipVertical:10,enablePresetSelectImage:11,enablePresetDropImage:12,enableSelectToolToAddShape:104,enableAutoSelectMoveTool:105,enableTapToAddText:13,enableMoveTool:106,enableViewTool:107,enableToolShareStyles:108,enableMultiSelect:14,gridSize:15,snapThreshold:16,enableSnapToContext:17,willRenderHeaderTools:109,willRenderPresetToolbar:110,willRenderShapeStyleControls:18,willStartInteraction:111,shapePresets:19,utilKey:20,mapScreenPointToImagePoint:21,mapImagePointToScreenPoint:22,imageRotation:23,imageFlipX:24,imageFlipY:25,parentRect:26,hooks:112},null,[-1,-1,-1,-1,-1,-1,-1])}get isActive(){return this.$$.ctx[1]}set isActive(e){this.$$set({isActive:e}),iS()}get isActiveFraction(){return this.$$.ctx[2]}set isActiveFraction(e){this.$$set({isActiveFraction:e}),iS()}get isVisible(){return this.$$.ctx[3]}set isVisible(e){this.$$set({isVisible:e}),iS()}get stores(){return this.$$.ctx[100]}set stores(e){this.$$set({stores:e}),iS()}get locale(){return this.$$.ctx[4]}set locale(e){this.$$set({locale:e}),iS()}get shapes(){return this.$$.ctx[5]}set shapes(e){this.$$set({shapes:e}),iS()}get toolbar(){return this.$$.ctx[101]}set toolbar(e){this.$$set({toolbar:e}),iS()}get toolShapes(){return this.$$.ctx[102]}set toolShapes(e){this.$$set({toolShapes:e}),iS()}get toolActive(){return this.$$.ctx[0]}set toolActive(e){this.$$set({toolActive:e}),iS()}get toolSelectRadius(){return this.$$.ctx[6]}set toolSelectRadius(e){this.$$set({toolSelectRadius:e}),iS()}get toolRetainStyles(){return this.$$.ctx[103]}set toolRetainStyles(e){this.$$set({toolRetainStyles:e}),iS()}get toolbarLayout(){return this.$$.ctx[7]}set toolbarLayout(e){this.$$set({toolbarLayout:e}),iS()}get textInputMode(){return this.$$.ctx[8]}set textInputMode(e){this.$$set({textInputMode:e}),iS()}get shapeControls(){return this.$$.ctx[9]}set shapeControls(e){this.$$set({shapeControls:e}),iS()}get enableButtonFlipVertical(){return this.$$.ctx[10]}set enableButtonFlipVertical(e){this.$$set({enableButtonFlipVertical:e}),iS()}get enablePresetSelectImage(){return this.$$.ctx[11]}set enablePresetSelectImage(e){this.$$set({enablePresetSelectImage:e}),iS()}get enablePresetDropImage(){return this.$$.ctx[12]}set enablePresetDropImage(e){this.$$set({enablePresetDropImage:e}),iS()}get enableSelectToolToAddShape(){return this.$$.ctx[104]}set enableSelectToolToAddShape(e){this.$$set({enableSelectToolToAddShape:e}),iS()}get enableAutoSelectMoveTool(){return this.$$.ctx[105]}set enableAutoSelectMoveTool(e){this.$$set({enableAutoSelectMoveTool:e}),iS()}get enableTapToAddText(){return this.$$.ctx[13]}set enableTapToAddText(e){this.$$set({enableTapToAddText:e}),iS()}get enableMoveTool(){return this.$$.ctx[106]}set enableMoveTool(e){this.$$set({enableMoveTool:e}),iS()}get enableViewTool(){return this.$$.ctx[107]}set enableViewTool(e){this.$$set({enableViewTool:e}),iS()}get enableToolShareStyles(){return this.$$.ctx[108]}set enableToolShareStyles(e){this.$$set({enableToolShareStyles:e}),iS()}get enableMultiSelect(){return this.$$.ctx[14]}set enableMultiSelect(e){this.$$set({enableMultiSelect:e}),iS()}get gridSize(){return this.$$.ctx[15]}set gridSize(e){this.$$set({gridSize:e}),iS()}get snapThreshold(){return this.$$.ctx[16]}set snapThreshold(e){this.$$set({snapThreshold:e}),iS()}get enableSnapToContext(){return this.$$.ctx[17]}set enableSnapToContext(e){this.$$set({enableSnapToContext:e}),iS()}get willRenderHeaderTools(){return this.$$.ctx[109]}set willRenderHeaderTools(e){this.$$set({willRenderHeaderTools:e}),iS()}get willRenderPresetToolbar(){return this.$$.ctx[110]}set willRenderPresetToolbar(e){this.$$set({willRenderPresetToolbar:e}),iS()}get willRenderShapeStyleControls(){return this.$$.ctx[18]}set willRenderShapeStyleControls(e){this.$$set({willRenderShapeStyleControls:e}),iS()}get willStartInteraction(){return this.$$.ctx[111]}set willStartInteraction(e){this.$$set({willStartInteraction:e}),iS()}get shapePresets(){return this.$$.ctx[19]}set shapePresets(e){this.$$set({shapePresets:e}),iS()}get utilKey(){return this.$$.ctx[20]}set utilKey(e){this.$$set({utilKey:e}),iS()}get mapScreenPointToImagePoint(){return this.$$.ctx[21]}set mapScreenPointToImagePoint(e){this.$$set({mapScreenPointToImagePoint:e}),iS()}get mapImagePointToScreenPoint(){return this.$$.ctx[22]}set mapImagePointToScreenPoint(e){this.$$set({mapImagePointToScreenPoint:e}),iS()}get imageRotation(){return this.$$.ctx[23]}set imageRotation(e){this.$$set({imageRotation:e}),iS()}get imageFlipX(){return this.$$.ctx[24]}set imageFlipX(e){this.$$set({imageFlipX:e}),iS()}get imageFlipY(){return this.$$.ctx[25]}set imageFlipY(e){this.$$set({imageFlipY:e}),iS()}get parentRect(){return this.$$.ctx[26]}set parentRect(e){this.$$set({parentRect:e}),iS()}get hooks(){return this.$$.ctx[112]}set hooks(e){this.$$set({hooks:e}),iS()}}var fO=(e,t,n,r,i,o,a,s,l)=>{const c=fy(e),u=.5*n.width,d=.5*n.height,h=.5*t.width,p=.5*t.height,f=i.x+r.x,g=i.y+r.y;s&&(c.x=n.width-c.x),l&&(c.y=n.height-c.y);const m=Math.cos(o),y=Math.sin(o);c.x-=u,c.y-=d;const b=c.x*m-c.y*y,v=c.x*y+c.y*m;c.x=u+b,c.y=d+v,c.x*=a,c.y*=a,c.x+=h,c.y+=p,c.x+=f,c.y+=g,c.x-=u*a,c.y-=d*a;const w=(i.x-f)*a,x=(i.y-g)*a,$=w*m-x*y,S=w*y+x*m;return c.x+=$,c.y+=S,c},gO=(e,t,n,r,i,o,a,s,l)=>{const c=fy(e),u=jy(n),d=jy(t),h=hy(i.x+r.x,i.y+r.y),p=Math.cos(o),f=Math.sin(o);c.x-=d.x,c.y-=d.y;const g=(i.x-h.x)*a,m=(i.y-h.y)*a,y=g*p-m*f,b=g*f+m*p;c.x-=y,c.y-=b,c.x-=h.x,c.y-=h.y,c.x/=a,c.y/=a;const v=c.x*p+c.y*f,w=c.x*f-c.y*p;return c.x=v,c.y=-w,c.x+=u.x,c.y+=u.y,s&&(c.x=n.width-c.x),l&&(c.y=n.height-c.y),c},mO=e=>"boolean"==typeof e;function yO(e){let t,n,r;function i(t){e[60](t)}let o={utilKey:e[1],stores:e[5],locale:e[6],isActive:e[2],isActiveFraction:e[3],isVisible:e[4],mapScreenPointToImagePoint:e[46],mapImagePointToScreenPoint:e[45],imageRotation:e[47],imageFlipX:e[44],imageFlipY:e[43],shapes:e[49],toolbar:e[21]||e[7],toolShapes:e[22]||e[8],toolRetainStyles:e[9],enableSelectToolToAddShape:e[31],enableTapToAddText:e[32],enableViewTool:e[30],enableMoveTool:e[34],enableAutoSelectMoveTool:e[33],enableMultiSelect:e[35],snapThreshold:e[16],gridSize:Tv(e[18])?e[18]:e[15],enableSnapToContext:mO(e[19])?e[19]:e[17],enableToolShareStyles:e[13],shapeControls:e[23]||e[10],shapePresets:e[27],enableButtonFlipVertical:e[24],parentRect:e[50],enablePresetDropImage:e[26],enablePresetSelectImage:e[25],toolSelectRadius:e[11],textInputMode:e[12],willStartInteraction:e[14],willRenderPresetToolbar:e[28]||e[20],willRenderShapeStyleControls:e[29],hooks:{willRenderShapeControls:e[36],willRenderShapeTextControls:e[37],beforeAddShape:e[38],beforeRemoveShape:e[39],beforeDeselectShape:e[40],beforeSelectShape:e[41],beforeUpdateShape:e[42]}};return void 0!==e[0]&&(o.toolActive=e[0]),t=new pO({props:o}),G$.push((()=>xS(t,"toolActive",i))),t.$on("measure",e[61]),{c(){$S(t.$$.fragment)},m(e,n){SS(t,e,n),r=!0},p(e,r){const i={};32&r[0]&&(i.stores=e[5]),64&r[0]&&(i.locale=e[6]),4&r[0]&&(i.isActive=e[2]),8&r[0]&&(i.isActiveFraction=e[3]),16&r[0]&&(i.isVisible=e[4]),32768&r[1]&&(i.mapScreenPointToImagePoint=e[46]),16384&r[1]&&(i.mapImagePointToScreenPoint=e[45]),65536&r[1]&&(i.imageRotation=e[47]),8192&r[1]&&(i.imageFlipX=e[44]),4096&r[1]&&(i.imageFlipY=e[43]),2097280&r[0]&&(i.toolbar=e[21]||e[7]),4194560&r[0]&&(i.toolShapes=e[22]||e[8]),512&r[0]&&(i.toolRetainStyles=e[9]),1&r[1]&&(i.enableSelectToolToAddShape=e[31]),2&r[1]&&(i.enableTapToAddText=e[32]),1073741824&r[0]&&(i.enableViewTool=e[30]),8&r[1]&&(i.enableMoveTool=e[34]),4&r[1]&&(i.enableAutoSelectMoveTool=e[33]),16&r[1]&&(i.enableMultiSelect=e[35]),65536&r[0]&&(i.snapThreshold=e[16]),294912&r[0]&&(i.gridSize=Tv(e[18])?e[18]:e[15]),655360&r[0]&&(i.enableSnapToContext=mO(e[19])?e[19]:e[17]),8192&r[0]&&(i.enableToolShareStyles=e[13]),8389632&r[0]&&(i.shapeControls=e[23]||e[10]),134217728&r[0]&&(i.shapePresets=e[27]),16777216&r[0]&&(i.enableButtonFlipVertical=e[24]),67108864&r[0]&&(i.enablePresetDropImage=e[26]),33554432&r[0]&&(i.enablePresetSelectImage=e[25]),2048&r[0]&&(i.toolSelectRadius=e[11]),4096&r[0]&&(i.textInputMode=e[12]),16384&r[0]&&(i.willStartInteraction=e[14]),269484032&r[0]&&(i.willRenderPresetToolbar=e[28]||e[20]),536870912&r[0]&&(i.willRenderShapeStyleControls=e[29]),4064&r[1]&&(i.hooks={willRenderShapeControls:e[36],willRenderShapeTextControls:e[37],beforeAddShape:e[38],beforeRemoveShape:e[39],beforeDeselectShape:e[40],beforeSelectShape:e[41],beforeUpdateShape:e[42]}),!n&&1&r[0]&&(n=!0,i.toolActive=e[0],eS((()=>n=!1))),t.$set(i)},i(e){r||(dS(t.$$.fragment,e),r=!0)},o(e){hS(t.$$.fragment,e),r=!1},d(e){kS(t,e)}}}function bO(e,t,n){let r,i,o,a,s,l,c,u,d,{isActive:h}=t,{isActiveFraction:p}=t,{isVisible:f}=t,{stores:g}=t,{locale:m={}}=t,{markupEditorToolbar:y}=t,{markupEditorToolStyles:b}=t,{markupEditorToolRetainStyles:v}=t,{markupEditorShapeStyleControls:w}=t,{markupEditorToolSelectRadius:x}=t,{markupEditorTextInputMode:$}=t,{markupEditorToolShareStyles:S}=t,{markupEditorWillStartInteraction:k}=t,{markupEditorGridSize:A=0}=t,{markupEditorSnapThreshold:C=0}=t,{markupEditorSnapToContext:E=!1}=t,{annotateGridSize:T}=t,{annotateSnapToContext:P}=t,{willRenderShapePresetToolbar:R}=t,{annotateTools:M}=t,{annotateToolShapes:I}=t,{annotateShapeControls:L}=t,{annotateActiveTool:B}=t,{annotateEnableButtonFlipVertical:O=!1}=t,{annotateEnableSelectImagePreset:F=!1}=t,{annotateEnableDropImagePreset:N=!0}=t,{annotatePresets:D=[]}=t,{annotateWillRenderShapePresetToolbar:z}=t,{annotateWillRenderShapeStyleControls:_}=t,{enableViewTool:U}=t,{enableSelectToolToAddShape:j}=t,{enableTapToAddText:H}=t,{enableAutoSelectMoveTool:W}=t,{enableMoveTool:V}=t,{enableMultiSelect:G}=t,{willRenderShapeControls:Q}=t,{willRenderShapeTextControls:q}=t,{beforeAddShape:K}=t,{beforeRemoveShape:Z}=t,{beforeDeselectShape:X}=t,{beforeSelectShape:J}=t,{beforeUpdateShape:Y}=t;const{rootRect:ee,imageAnnotation:te,imageSize:ne,imageRotation:re,imageFlipX:ie,imageFlipY:oe,imageTransforms:ae,imageTransformsInterpolated:se}=g;return Kx(e,ee,(e=>n(59,u=e))),Kx(e,ne,(e=>n(58,c=e))),Kx(e,re,(e=>n(47,d=e))),Kx(e,ie,(e=>n(44,a=e))),Kx(e,oe,(e=>n(43,o=e))),Kx(e,ae,(e=>n(57,l=e))),Kx(e,se,(e=>n(56,s=e))),e.$$set=e=>{"isActive"in e&&n(2,h=e.isActive),"isActiveFraction"in e&&n(3,p=e.isActiveFraction),"isVisible"in e&&n(4,f=e.isVisible),"stores"in e&&n(5,g=e.stores),"locale"in e&&n(6,m=e.locale),"markupEditorToolbar"in e&&n(7,y=e.markupEditorToolbar),"markupEditorToolStyles"in e&&n(8,b=e.markupEditorToolStyles),"markupEditorToolRetainStyles"in e&&n(9,v=e.markupEditorToolRetainStyles),"markupEditorShapeStyleControls"in e&&n(10,w=e.markupEditorShapeStyleControls),"markupEditorToolSelectRadius"in e&&n(11,x=e.markupEditorToolSelectRadius),"markupEditorTextInputMode"in e&&n(12,$=e.markupEditorTextInputMode),"markupEditorToolShareStyles"in e&&n(13,S=e.markupEditorToolShareStyles),"markupEditorWillStartInteraction"in e&&n(14,k=e.markupEditorWillStartInteraction),"markupEditorGridSize"in e&&n(15,A=e.markupEditorGridSize),"markupEditorSnapThreshold"in e&&n(16,C=e.markupEditorSnapThreshold),"markupEditorSnapToContext"in e&&n(17,E=e.markupEditorSnapToContext),"annotateGridSize"in e&&n(18,T=e.annotateGridSize),"annotateSnapToContext"in e&&n(19,P=e.annotateSnapToContext),"willRenderShapePresetToolbar"in e&&n(20,R=e.willRenderShapePresetToolbar),"annotateTools"in e&&n(21,M=e.annotateTools),"annotateToolShapes"in e&&n(22,I=e.annotateToolShapes),"annotateShapeControls"in e&&n(23,L=e.annotateShapeControls),"annotateActiveTool"in e&&n(0,B=e.annotateActiveTool),"annotateEnableButtonFlipVertical"in e&&n(24,O=e.annotateEnableButtonFlipVertical),"annotateEnableSelectImagePreset"in e&&n(25,F=e.annotateEnableSelectImagePreset),"annotateEnableDropImagePreset"in e&&n(26,N=e.annotateEnableDropImagePreset),"annotatePresets"in e&&n(27,D=e.annotatePresets),"annotateWillRenderShapePresetToolbar"in e&&n(28,z=e.annotateWillRenderShapePresetToolbar),"annotateWillRenderShapeStyleControls"in e&&n(29,_=e.annotateWillRenderShapeStyleControls),"enableViewTool"in e&&n(30,U=e.enableViewTool),"enableSelectToolToAddShape"in e&&n(31,j=e.enableSelectToolToAddShape),"enableTapToAddText"in e&&n(32,H=e.enableTapToAddText),"enableAutoSelectMoveTool"in e&&n(33,W=e.enableAutoSelectMoveTool),"enableMoveTool"in e&&n(34,V=e.enableMoveTool),"enableMultiSelect"in e&&n(35,G=e.enableMultiSelect),"willRenderShapeControls"in e&&n(36,Q=e.willRenderShapeControls),"willRenderShapeTextControls"in e&&n(37,q=e.willRenderShapeTextControls),"beforeAddShape"in e&&n(38,K=e.beforeAddShape),"beforeRemoveShape"in e&&n(39,Z=e.beforeRemoveShape),"beforeDeselectShape"in e&&n(40,X=e.beforeDeselectShape),"beforeSelectShape"in e&&n(41,J=e.beforeSelectShape),"beforeUpdateShape"in e&&n(42,Y=e.beforeUpdateShape)},e.$$.update=()=>{503328768&e.$$.dirty[1]&&n(46,r=e=>gO(e,u,c,s.origin,s.translation,l.rotation.z,s.scale,a,o)),503328768&e.$$.dirty[1]&&n(45,i=e=>fO(e,u,c,s.origin,s.translation,l.rotation.z,s.scale,a,o))},[B,"annotate",h,p,f,g,m,y,b,v,w,x,$,S,k,A,C,E,T,P,R,M,I,L,O,F,N,D,z,_,U,j,H,W,V,G,Q,q,K,Z,X,J,Y,o,a,i,r,d,ee,te,ne,re,ie,oe,ae,se,s,l,c,u,function(e){B=e,n(0,B)},function(t){W$.call(this,e,t)}]}var vO={util:["annotate",class extends CS{constructor(e){super(),AS(this,e,bO,yO,Gx,{name:1,isActive:2,isActiveFraction:3,isVisible:4,stores:5,locale:6,markupEditorToolbar:7,markupEditorToolStyles:8,markupEditorToolRetainStyles:9,markupEditorShapeStyleControls:10,markupEditorToolSelectRadius:11,markupEditorTextInputMode:12,markupEditorToolShareStyles:13,markupEditorWillStartInteraction:14,markupEditorGridSize:15,markupEditorSnapThreshold:16,markupEditorSnapToContext:17,annotateGridSize:18,annotateSnapToContext:19,willRenderShapePresetToolbar:20,annotateTools:21,annotateToolShapes:22,annotateShapeControls:23,annotateActiveTool:0,annotateEnableButtonFlipVertical:24,annotateEnableSelectImagePreset:25,annotateEnableDropImagePreset:26,annotatePresets:27,annotateWillRenderShapePresetToolbar:28,annotateWillRenderShapeStyleControls:29,enableViewTool:30,enableSelectToolToAddShape:31,enableTapToAddText:32,enableAutoSelectMoveTool:33,enableMoveTool:34,enableMultiSelect:35,willRenderShapeControls:36,willRenderShapeTextControls:37,beforeAddShape:38,beforeRemoveShape:39,beforeDeselectShape:40,beforeSelectShape:41,beforeUpdateShape:42},null,[-1,-1])}get name(){return this.$$.ctx[1]}get isActive(){return this.$$.ctx[2]}set isActive(e){this.$$set({isActive:e}),iS()}get isActiveFraction(){return this.$$.ctx[3]}set isActiveFraction(e){this.$$set({isActiveFraction:e}),iS()}get isVisible(){return this.$$.ctx[4]}set isVisible(e){this.$$set({isVisible:e}),iS()}get stores(){return this.$$.ctx[5]}set stores(e){this.$$set({stores:e}),iS()}get locale(){return this.$$.ctx[6]}set locale(e){this.$$set({locale:e}),iS()}get markupEditorToolbar(){return this.$$.ctx[7]}set markupEditorToolbar(e){this.$$set({markupEditorToolbar:e}),iS()}get markupEditorToolStyles(){return this.$$.ctx[8]}set markupEditorToolStyles(e){this.$$set({markupEditorToolStyles:e}),iS()}get markupEditorToolRetainStyles(){return this.$$.ctx[9]}set markupEditorToolRetainStyles(e){this.$$set({markupEditorToolRetainStyles:e}),iS()}get markupEditorShapeStyleControls(){return this.$$.ctx[10]}set markupEditorShapeStyleControls(e){this.$$set({markupEditorShapeStyleControls:e}),iS()}get markupEditorToolSelectRadius(){return this.$$.ctx[11]}set markupEditorToolSelectRadius(e){this.$$set({markupEditorToolSelectRadius:e}),iS()}get markupEditorTextInputMode(){return this.$$.ctx[12]}set markupEditorTextInputMode(e){this.$$set({markupEditorTextInputMode:e}),iS()}get markupEditorToolShareStyles(){return this.$$.ctx[13]}set markupEditorToolShareStyles(e){this.$$set({markupEditorToolShareStyles:e}),iS()}get markupEditorWillStartInteraction(){return this.$$.ctx[14]}set markupEditorWillStartInteraction(e){this.$$set({markupEditorWillStartInteraction:e}),iS()}get markupEditorGridSize(){return this.$$.ctx[15]}set markupEditorGridSize(e){this.$$set({markupEditorGridSize:e}),iS()}get markupEditorSnapThreshold(){return this.$$.ctx[16]}set markupEditorSnapThreshold(e){this.$$set({markupEditorSnapThreshold:e}),iS()}get markupEditorSnapToContext(){return this.$$.ctx[17]}set markupEditorSnapToContext(e){this.$$set({markupEditorSnapToContext:e}),iS()}get annotateGridSize(){return this.$$.ctx[18]}set annotateGridSize(e){this.$$set({annotateGridSize:e}),iS()}get annotateSnapToContext(){return this.$$.ctx[19]}set annotateSnapToContext(e){this.$$set({annotateSnapToContext:e}),iS()}get willRenderShapePresetToolbar(){return this.$$.ctx[20]}set willRenderShapePresetToolbar(e){this.$$set({willRenderShapePresetToolbar:e}),iS()}get annotateTools(){return this.$$.ctx[21]}set annotateTools(e){this.$$set({annotateTools:e}),iS()}get annotateToolShapes(){return this.$$.ctx[22]}set annotateToolShapes(e){this.$$set({annotateToolShapes:e}),iS()}get annotateShapeControls(){return this.$$.ctx[23]}set annotateShapeControls(e){this.$$set({annotateShapeControls:e}),iS()}get annotateActiveTool(){return this.$$.ctx[0]}set annotateActiveTool(e){this.$$set({annotateActiveTool:e}),iS()}get annotateEnableButtonFlipVertical(){return this.$$.ctx[24]}set annotateEnableButtonFlipVertical(e){this.$$set({annotateEnableButtonFlipVertical:e}),iS()}get annotateEnableSelectImagePreset(){return this.$$.ctx[25]}set annotateEnableSelectImagePreset(e){this.$$set({annotateEnableSelectImagePreset:e}),iS()}get annotateEnableDropImagePreset(){return this.$$.ctx[26]}set annotateEnableDropImagePreset(e){this.$$set({annotateEnableDropImagePreset:e}),iS()}get annotatePresets(){return this.$$.ctx[27]}set annotatePresets(e){this.$$set({annotatePresets:e}),iS()}get annotateWillRenderShapePresetToolbar(){return this.$$.ctx[28]}set annotateWillRenderShapePresetToolbar(e){this.$$set({annotateWillRenderShapePresetToolbar:e}),iS()}get annotateWillRenderShapeStyleControls(){return this.$$.ctx[29]}set annotateWillRenderShapeStyleControls(e){this.$$set({annotateWillRenderShapeStyleControls:e}),iS()}get enableViewTool(){return this.$$.ctx[30]}set enableViewTool(e){this.$$set({enableViewTool:e}),iS()}get enableSelectToolToAddShape(){return this.$$.ctx[31]}set enableSelectToolToAddShape(e){this.$$set({enableSelectToolToAddShape:e}),iS()}get enableTapToAddText(){return this.$$.ctx[32]}set enableTapToAddText(e){this.$$set({enableTapToAddText:e}),iS()}get enableAutoSelectMoveTool(){return this.$$.ctx[33]}set enableAutoSelectMoveTool(e){this.$$set({enableAutoSelectMoveTool:e}),iS()}get enableMoveTool(){return this.$$.ctx[34]}set enableMoveTool(e){this.$$set({enableMoveTool:e}),iS()}get enableMultiSelect(){return this.$$.ctx[35]}set enableMultiSelect(e){this.$$set({enableMultiSelect:e}),iS()}get willRenderShapeControls(){return this.$$.ctx[36]}set willRenderShapeControls(e){this.$$set({willRenderShapeControls:e}),iS()}get willRenderShapeTextControls(){return this.$$.ctx[37]}set willRenderShapeTextControls(e){this.$$set({willRenderShapeTextControls:e}),iS()}get beforeAddShape(){return this.$$.ctx[38]}set beforeAddShape(e){this.$$set({beforeAddShape:e}),iS()}get beforeRemoveShape(){return this.$$.ctx[39]}set beforeRemoveShape(e){this.$$set({beforeRemoveShape:e}),iS()}get beforeDeselectShape(){return this.$$.ctx[40]}set beforeDeselectShape(e){this.$$set({beforeDeselectShape:e}),iS()}get beforeSelectShape(){return this.$$.ctx[41]}set beforeSelectShape(e){this.$$set({beforeSelectShape:e}),iS()}get beforeUpdateShape(){return this.$$.ctx[42]}set beforeUpdateShape(e){this.$$set({beforeUpdateShape:e}),iS()}}]};function wO(e){let t,n,r;function i(t){e[52](t)}let o={utilKey:e[1],stores:e[5],locale:e[6],isActive:e[2],isActiveFraction:e[3],isVisible:e[4],mapScreenPointToImagePoint:e[44],mapImagePointToScreenPoint:e[43],shapes:e[46],toolbar:e[20]||e[7],toolShapes:e[21]||e[8],toolRetainStyles:e[9],shapeControls:e[22]||e[10],shapePresets:e[26],enableSelectToolToAddShape:e[29],enableTapToAddText:e[30],enableViewTool:e[31],enableMoveTool:e[32],enableAutoSelectMoveTool:e[33],enableMultiSelect:e[34],snapThreshold:e[16],gridSize:Tv(e[18])?e[18]:e[15],enableSnapToContext:mO(e[19])?e[19]:e[17],enableToolShareStyles:e[13],enablePresetSelectImage:e[24],enablePresetDropImage:e[25],enableButtonFlipVertical:e[23],parentRect:e[45],toolSelectRadius:e[11],textInputMode:e[12],willStartInteraction:e[42],willRenderPresetToolbar:e[27]||e[14],willRenderShapeStyleControls:e[28],hooks:{willRenderShapeControls:e[35],willRenderShapeTextControls:e[36],beforeAddShape:e[37],beforeRemoveShape:e[38],beforeDeselectShape:e[39],beforeSelectShape:e[40],beforeUpdateShape:e[41]}};return void 0!==e[0]&&(o.toolActive=e[0]),t=new pO({props:o}),G$.push((()=>xS(t,"toolActive",i))),t.$on("measure",e[53]),{c(){$S(t.$$.fragment)},m(e,n){SS(t,e,n),r=!0},p(e,r){const i={};32&r[0]&&(i.stores=e[5]),64&r[0]&&(i.locale=e[6]),4&r[0]&&(i.isActive=e[2]),8&r[0]&&(i.isActiveFraction=e[3]),16&r[0]&&(i.isVisible=e[4]),8192&r[1]&&(i.mapScreenPointToImagePoint=e[44]),4096&r[1]&&(i.mapImagePointToScreenPoint=e[43]),1048704&r[0]&&(i.toolbar=e[20]||e[7]),2097408&r[0]&&(i.toolShapes=e[21]||e[8]),512&r[0]&&(i.toolRetainStyles=e[9]),4195328&r[0]&&(i.shapeControls=e[22]||e[10]),67108864&r[0]&&(i.shapePresets=e[26]),536870912&r[0]&&(i.enableSelectToolToAddShape=e[29]),1073741824&r[0]&&(i.enableTapToAddText=e[30]),1&r[1]&&(i.enableViewTool=e[31]),2&r[1]&&(i.enableMoveTool=e[32]),4&r[1]&&(i.enableAutoSelectMoveTool=e[33]),8&r[1]&&(i.enableMultiSelect=e[34]),65536&r[0]&&(i.snapThreshold=e[16]),294912&r[0]&&(i.gridSize=Tv(e[18])?e[18]:e[15]),655360&r[0]&&(i.enableSnapToContext=mO(e[19])?e[19]:e[17]),8192&r[0]&&(i.enableToolShareStyles=e[13]),16777216&r[0]&&(i.enablePresetSelectImage=e[24]),33554432&r[0]&&(i.enablePresetDropImage=e[25]),8388608&r[0]&&(i.enableButtonFlipVertical=e[23]),2048&r[0]&&(i.toolSelectRadius=e[11]),4096&r[0]&&(i.textInputMode=e[12]),2048&r[1]&&(i.willStartInteraction=e[42]),134234112&r[0]&&(i.willRenderPresetToolbar=e[27]||e[14]),268435456&r[0]&&(i.willRenderShapeStyleControls=e[28]),2032&r[1]&&(i.hooks={willRenderShapeControls:e[35],willRenderShapeTextControls:e[36],beforeAddShape:e[37],beforeRemoveShape:e[38],beforeDeselectShape:e[39],beforeSelectShape:e[40],beforeUpdateShape:e[41]}),!n&&1&r[0]&&(n=!0,i.toolActive=e[0],eS((()=>n=!1))),t.$set(i)},i(e){r||(dS(t.$$.fragment,e),r=!0)},o(e){hS(t.$$.fragment,e),r=!1},d(e){kS(t,e)}}}function xO(e,t,n){let r,i,o,a,s,{isActive:l}=t,{isActiveFraction:c}=t,{isVisible:u}=t,{stores:d}=t,{locale:h={}}=t,{markupEditorToolbar:p}=t,{markupEditorToolStyles:f}=t,{markupEditorToolRetainStyles:g}=t,{markupEditorShapeStyleControls:m}=t,{markupEditorToolSelectRadius:y}=t,{markupEditorTextInputMode:b}=t,{markupEditorToolShareStyles:v}=t,{willRenderShapePresetToolbar:w}=t,{markupEditorGridSize:x}=t,{markupEditorSnapThreshold:$}=t,{markupEditorSnapToContext:S=!0}=t,{decorateGridSize:k}=t,{decorateSnapToContext:A}=t,{decorateTools:C}=t,{decorateToolShapes:E}=t,{decorateShapeControls:T}=t,{decorateActiveTool:P}=t,{decorateEnableButtonFlipVertical:R=!1}=t,{decorateEnableSelectImagePreset:M=!1}=t,{decorateEnableDropImagePreset:I=!0}=t,{decoratePresets:L=[]}=t,{decorateWillRenderShapePresetToolbar:B}=t,{decorateWillRenderShapeStyleControls:O}=t,{enableSelectToolToAddShape:F}=t,{enableTapToAddText:N}=t,{enableViewTool:D}=t,{enableMoveTool:z}=t,{enableAutoSelectMoveTool:_}=t,{enableMultiSelect:U}=t,{willRenderShapeControls:j}=t,{willRenderShapeTextControls:H}=t,{beforeAddShape:W}=t,{beforeRemoveShape:V}=t,{beforeDeselectShape:G}=t,{beforeSelectShape:Q}=t,{beforeUpdateShape:q}=t,{markupEditorWillStartInteraction:K}=t;const{imageCropRect:Z,imageDecoration:X,imageSelectionRectPresentation:J,imageTransformsInterpolated:Y}=d;return Kx(e,J,(e=>n(50,a=e))),Kx(e,Y,(e=>n(51,s=e))),e.$$set=e=>{"isActive"in e&&n(2,l=e.isActive),"isActiveFraction"in e&&n(3,c=e.isActiveFraction),"isVisible"in e&&n(4,u=e.isVisible),"stores"in e&&n(5,d=e.stores),"locale"in e&&n(6,h=e.locale),"markupEditorToolbar"in e&&n(7,p=e.markupEditorToolbar),"markupEditorToolStyles"in e&&n(8,f=e.markupEditorToolStyles),"markupEditorToolRetainStyles"in e&&n(9,g=e.markupEditorToolRetainStyles),"markupEditorShapeStyleControls"in e&&n(10,m=e.markupEditorShapeStyleControls),"markupEditorToolSelectRadius"in e&&n(11,y=e.markupEditorToolSelectRadius),"markupEditorTextInputMode"in e&&n(12,b=e.markupEditorTextInputMode),"markupEditorToolShareStyles"in e&&n(13,v=e.markupEditorToolShareStyles),"willRenderShapePresetToolbar"in e&&n(14,w=e.willRenderShapePresetToolbar),"markupEditorGridSize"in e&&n(15,x=e.markupEditorGridSize),"markupEditorSnapThreshold"in e&&n(16,$=e.markupEditorSnapThreshold),"markupEditorSnapToContext"in e&&n(17,S=e.markupEditorSnapToContext),"decorateGridSize"in e&&n(18,k=e.decorateGridSize),"decorateSnapToContext"in e&&n(19,A=e.decorateSnapToContext),"decorateTools"in e&&n(20,C=e.decorateTools),"decorateToolShapes"in e&&n(21,E=e.decorateToolShapes),"decorateShapeControls"in e&&n(22,T=e.decorateShapeControls),"decorateActiveTool"in e&&n(0,P=e.decorateActiveTool),"decorateEnableButtonFlipVertical"in e&&n(23,R=e.decorateEnableButtonFlipVertical),"decorateEnableSelectImagePreset"in e&&n(24,M=e.decorateEnableSelectImagePreset),"decorateEnableDropImagePreset"in e&&n(25,I=e.decorateEnableDropImagePreset),"decoratePresets"in e&&n(26,L=e.decoratePresets),"decorateWillRenderShapePresetToolbar"in e&&n(27,B=e.decorateWillRenderShapePresetToolbar),"decorateWillRenderShapeStyleControls"in e&&n(28,O=e.decorateWillRenderShapeStyleControls),"enableSelectToolToAddShape"in e&&n(29,F=e.enableSelectToolToAddShape),"enableTapToAddText"in e&&n(30,N=e.enableTapToAddText),"enableViewTool"in e&&n(31,D=e.enableViewTool),"enableMoveTool"in e&&n(32,z=e.enableMoveTool),"enableAutoSelectMoveTool"in e&&n(33,_=e.enableAutoSelectMoveTool),"enableMultiSelect"in e&&n(34,U=e.enableMultiSelect),"willRenderShapeControls"in e&&n(35,j=e.willRenderShapeControls),"willRenderShapeTextControls"in e&&n(36,H=e.willRenderShapeTextControls),"beforeAddShape"in e&&n(37,W=e.beforeAddShape),"beforeRemoveShape"in e&&n(38,V=e.beforeRemoveShape),"beforeDeselectShape"in e&&n(39,G=e.beforeDeselectShape),"beforeSelectShape"in e&&n(40,Q=e.beforeSelectShape),"beforeUpdateShape"in e&&n(41,q=e.beforeUpdateShape),"markupEditorWillStartInteraction"in e&&n(42,K=e.markupEditorWillStartInteraction)},e.$$.update=()=>{1048576&e.$$.dirty[1]&&n(49,r=s?s.scale:1),786432&e.$$.dirty[1]&&n(44,i=e=>{const t=fy(e);return t.x-=a.x,t.y-=a.y,t.x/=r,t.y/=r,t}),786432&e.$$.dirty[1]&&n(43,o=e=>{const t=fy(e);return t.x*=r,t.y*=r,t.x+=a.x,t.y+=a.y,t})},[P,"decorate",l,c,u,d,h,p,f,g,m,y,b,v,w,x,$,S,k,A,C,E,T,R,M,I,L,B,O,F,N,D,z,_,U,j,H,W,V,G,Q,q,K,o,i,Z,X,J,Y,r,a,s,function(e){P=e,n(0,P)},function(t){W$.call(this,e,t)}]}var $O={util:["decorate",class extends CS{constructor(e){super(),AS(this,e,xO,wO,Gx,{name:1,isActive:2,isActiveFraction:3,isVisible:4,stores:5,locale:6,markupEditorToolbar:7,markupEditorToolStyles:8,markupEditorToolRetainStyles:9,markupEditorShapeStyleControls:10,markupEditorToolSelectRadius:11,markupEditorTextInputMode:12,markupEditorToolShareStyles:13,willRenderShapePresetToolbar:14,markupEditorGridSize:15,markupEditorSnapThreshold:16,markupEditorSnapToContext:17,decorateGridSize:18,decorateSnapToContext:19,decorateTools:20,decorateToolShapes:21,decorateShapeControls:22,decorateActiveTool:0,decorateEnableButtonFlipVertical:23,decorateEnableSelectImagePreset:24,decorateEnableDropImagePreset:25,decoratePresets:26,decorateWillRenderShapePresetToolbar:27,decorateWillRenderShapeStyleControls:28,enableSelectToolToAddShape:29,enableTapToAddText:30,enableViewTool:31,enableMoveTool:32,enableAutoSelectMoveTool:33,enableMultiSelect:34,willRenderShapeControls:35,willRenderShapeTextControls:36,beforeAddShape:37,beforeRemoveShape:38,beforeDeselectShape:39,beforeSelectShape:40,beforeUpdateShape:41,markupEditorWillStartInteraction:42},null,[-1,-1])}get name(){return this.$$.ctx[1]}get isActive(){return this.$$.ctx[2]}set isActive(e){this.$$set({isActive:e}),iS()}get isActiveFraction(){return this.$$.ctx[3]}set isActiveFraction(e){this.$$set({isActiveFraction:e}),iS()}get isVisible(){return this.$$.ctx[4]}set isVisible(e){this.$$set({isVisible:e}),iS()}get stores(){return this.$$.ctx[5]}set stores(e){this.$$set({stores:e}),iS()}get locale(){return this.$$.ctx[6]}set locale(e){this.$$set({locale:e}),iS()}get markupEditorToolbar(){return this.$$.ctx[7]}set markupEditorToolbar(e){this.$$set({markupEditorToolbar:e}),iS()}get markupEditorToolStyles(){return this.$$.ctx[8]}set markupEditorToolStyles(e){this.$$set({markupEditorToolStyles:e}),iS()}get markupEditorToolRetainStyles(){return this.$$.ctx[9]}set markupEditorToolRetainStyles(e){this.$$set({markupEditorToolRetainStyles:e}),iS()}get markupEditorShapeStyleControls(){return this.$$.ctx[10]}set markupEditorShapeStyleControls(e){this.$$set({markupEditorShapeStyleControls:e}),iS()}get markupEditorToolSelectRadius(){return this.$$.ctx[11]}set markupEditorToolSelectRadius(e){this.$$set({markupEditorToolSelectRadius:e}),iS()}get markupEditorTextInputMode(){return this.$$.ctx[12]}set markupEditorTextInputMode(e){this.$$set({markupEditorTextInputMode:e}),iS()}get markupEditorToolShareStyles(){return this.$$.ctx[13]}set markupEditorToolShareStyles(e){this.$$set({markupEditorToolShareStyles:e}),iS()}get willRenderShapePresetToolbar(){return this.$$.ctx[14]}set willRenderShapePresetToolbar(e){this.$$set({willRenderShapePresetToolbar:e}),iS()}get markupEditorGridSize(){return this.$$.ctx[15]}set markupEditorGridSize(e){this.$$set({markupEditorGridSize:e}),iS()}get markupEditorSnapThreshold(){return this.$$.ctx[16]}set markupEditorSnapThreshold(e){this.$$set({markupEditorSnapThreshold:e}),iS()}get markupEditorSnapToContext(){return this.$$.ctx[17]}set markupEditorSnapToContext(e){this.$$set({markupEditorSnapToContext:e}),iS()}get decorateGridSize(){return this.$$.ctx[18]}set decorateGridSize(e){this.$$set({decorateGridSize:e}),iS()}get decorateSnapToContext(){return this.$$.ctx[19]}set decorateSnapToContext(e){this.$$set({decorateSnapToContext:e}),iS()}get decorateTools(){return this.$$.ctx[20]}set decorateTools(e){this.$$set({decorateTools:e}),iS()}get decorateToolShapes(){return this.$$.ctx[21]}set decorateToolShapes(e){this.$$set({decorateToolShapes:e}),iS()}get decorateShapeControls(){return this.$$.ctx[22]}set decorateShapeControls(e){this.$$set({decorateShapeControls:e}),iS()}get decorateActiveTool(){return this.$$.ctx[0]}set decorateActiveTool(e){this.$$set({decorateActiveTool:e}),iS()}get decorateEnableButtonFlipVertical(){return this.$$.ctx[23]}set decorateEnableButtonFlipVertical(e){this.$$set({decorateEnableButtonFlipVertical:e}),iS()}get decorateEnableSelectImagePreset(){return this.$$.ctx[24]}set decorateEnableSelectImagePreset(e){this.$$set({decorateEnableSelectImagePreset:e}),iS()}get decorateEnableDropImagePreset(){return this.$$.ctx[25]}set decorateEnableDropImagePreset(e){this.$$set({decorateEnableDropImagePreset:e}),iS()}get decoratePresets(){return this.$$.ctx[26]}set decoratePresets(e){this.$$set({decoratePresets:e}),iS()}get decorateWillRenderShapePresetToolbar(){return this.$$.ctx[27]}set decorateWillRenderShapePresetToolbar(e){this.$$set({decorateWillRenderShapePresetToolbar:e}),iS()}get decorateWillRenderShapeStyleControls(){return this.$$.ctx[28]}set decorateWillRenderShapeStyleControls(e){this.$$set({decorateWillRenderShapeStyleControls:e}),iS()}get enableSelectToolToAddShape(){return this.$$.ctx[29]}set enableSelectToolToAddShape(e){this.$$set({enableSelectToolToAddShape:e}),iS()}get enableTapToAddText(){return this.$$.ctx[30]}set enableTapToAddText(e){this.$$set({enableTapToAddText:e}),iS()}get enableViewTool(){return this.$$.ctx[31]}set enableViewTool(e){this.$$set({enableViewTool:e}),iS()}get enableMoveTool(){return this.$$.ctx[32]}set enableMoveTool(e){this.$$set({enableMoveTool:e}),iS()}get enableAutoSelectMoveTool(){return this.$$.ctx[33]}set enableAutoSelectMoveTool(e){this.$$set({enableAutoSelectMoveTool:e}),iS()}get enableMultiSelect(){return this.$$.ctx[34]}set enableMultiSelect(e){this.$$set({enableMultiSelect:e}),iS()}get willRenderShapeControls(){return this.$$.ctx[35]}set willRenderShapeControls(e){this.$$set({willRenderShapeControls:e}),iS()}get willRenderShapeTextControls(){return this.$$.ctx[36]}set willRenderShapeTextControls(e){this.$$set({willRenderShapeTextControls:e}),iS()}get beforeAddShape(){return this.$$.ctx[37]}set beforeAddShape(e){this.$$set({beforeAddShape:e}),iS()}get beforeRemoveShape(){return this.$$.ctx[38]}set beforeRemoveShape(e){this.$$set({beforeRemoveShape:e}),iS()}get beforeDeselectShape(){return this.$$.ctx[39]}set beforeDeselectShape(e){this.$$set({beforeDeselectShape:e}),iS()}get beforeSelectShape(){return this.$$.ctx[40]}set beforeSelectShape(e){this.$$set({beforeSelectShape:e}),iS()}get beforeUpdateShape(){return this.$$.ctx[41]}set beforeUpdateShape(e){this.$$set({beforeUpdateShape:e}),iS()}get markupEditorWillStartInteraction(){return this.$$.ctx[42]}set markupEditorWillStartInteraction(e){this.$$set({markupEditorWillStartInteraction:e}),iS()}}]};function SO(e){let t,n;return t=new pO({props:{stores:e[3],locale:e[4],isActive:e[0],isActiveFraction:e[1],isVisible:e[2],mapScreenPointToImagePoint:e[26],mapImagePointToScreenPoint:e[25],utilKey:"sticker",shapePresets:e[5],shapes:e[6]?e[35]:e[36],toolActive:"preset",imageFlipX:!!e[6]&&e[24],imageFlipY:!!e[6]&&e[23],imageRotation:e[6]?e[31]:0,parentRect:e[6]?e[37]:e[33],snapThreshold:e[29],gridSize:e[28],enableMultiSelect:e[12],enableSnapToContext:e[27],enablePresetDropImage:e[7],enablePresetSelectImage:e[30],enableButtonFlipVertical:e[10]||e[8],toolSelectRadius:e[15],willStartInteraction:e[22],willRenderPresetToolbar:e[11]||e[9]||e[16],hooks:{willRenderShapeControls:e[13],willRenderShapeTextControls:e[14],beforeAddShape:e[17],beforeRemoveShape:e[18],beforeDeselectShape:e[19],beforeSelectShape:e[20],beforeUpdateShape:e[21]}}}),t.$on("measure",e[60]),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};8&n[0]&&(r.stores=e[3]),16&n[0]&&(r.locale=e[4]),1&n[0]&&(r.isActive=e[0]),2&n[0]&&(r.isActiveFraction=e[1]),4&n[0]&&(r.isVisible=e[2]),67108864&n[0]&&(r.mapScreenPointToImagePoint=e[26]),33554432&n[0]&&(r.mapImagePointToScreenPoint=e[25]),32&n[0]&&(r.shapePresets=e[5]),64&n[0]&&(r.shapes=e[6]?e[35]:e[36]),16777280&n[0]&&(r.imageFlipX=!!e[6]&&e[24]),8388672&n[0]&&(r.imageFlipY=!!e[6]&&e[23]),64&n[0]|1&n[1]&&(r.imageRotation=e[6]?e[31]:0),64&n[0]&&(r.parentRect=e[6]?e[37]:e[33]),536870912&n[0]&&(r.snapThreshold=e[29]),268435456&n[0]&&(r.gridSize=e[28]),4096&n[0]&&(r.enableMultiSelect=e[12]),134217728&n[0]&&(r.enableSnapToContext=e[27]),128&n[0]&&(r.enablePresetDropImage=e[7]),1073741824&n[0]&&(r.enablePresetSelectImage=e[30]),1280&n[0]&&(r.enableButtonFlipVertical=e[10]||e[8]),32768&n[0]&&(r.toolSelectRadius=e[15]),4194304&n[0]&&(r.willStartInteraction=e[22]),68096&n[0]&&(r.willRenderPresetToolbar=e[11]||e[9]||e[16]),4087808&n[0]&&(r.hooks={willRenderShapeControls:e[13],willRenderShapeTextControls:e[14],beforeAddShape:e[17],beforeRemoveShape:e[18],beforeDeselectShape:e[19],beforeSelectShape:e[20],beforeUpdateShape:e[21]}),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function kO(e,t,n){let r,i,o,a,s,l,c,u,d,h,p,f,g,m,y,{isActive:b}=t,{isActiveFraction:v}=t,{isVisible:w}=t,{stores:x}=t,{locale:$={}}=t,{stickers:S=[]}=t,{stickerForceEnable:k=!1}=t,{stickerStickToImage:A=!1}=t,{stickerEnableSelectImagePreset:C=!0}=t,{stickerEnableDropImagePreset:E=!0}=t,{stickerEnableButtonFlipVertical:T=!1}=t,{stickerWillRenderShapePresetToolbar:P}=t,{stickerEnableSelectImage:R=!0}=t,{stickersEnableButtonFlipVertical:M=!1}=t,{stickersWillRenderShapePresetToolbar:I}=t,{markupEditorGridSize:L=0}=t,{markupEditorSnapThreshold:B=0}=t,{markupEditorSnapToContext:O=!1}=t,{enableMultiSelect:F}=t,{annotateGridSize:N}=t,{annotateSnapToContext:D}=t,{decorateGridSize:z}=t,{decorateSnapToContext:_}=t,{willRenderShapeControls:U}=t,{willRenderShapeTextControls:j}=t,{markupEditorToolSelectRadius:H}=t,{willRenderShapePresetToolbar:W}=t,{beforeAddShape:V}=t,{beforeRemoveShape:G}=t,{beforeDeselectShape:Q}=t,{beforeSelectShape:q}=t,{beforeUpdateShape:K}=t,{markupEditorWillStartInteraction:Z}=t;const{rootRect:X,imageCropRect:J,imageSelectionRectPresentation:Y,imageAnnotation:ee,imageDecoration:te,imageSize:ne,imageTransforms:re,imageTransformsInterpolated:ie,imageRotation:oe,imageFlipX:ae,imageFlipY:se}=x;return Kx(e,X,(e=>n(59,m=e))),Kx(e,Y,(e=>n(55,u=e))),Kx(e,ne,(e=>n(58,g=e))),Kx(e,re,(e=>n(57,f=e))),Kx(e,ie,(e=>n(56,p=e))),Kx(e,oe,(e=>n(31,y=e))),Kx(e,ae,(e=>n(24,h=e))),Kx(e,se,(e=>n(23,d=e))),e.$$set=e=>{"isActive"in e&&n(0,b=e.isActive),"isActiveFraction"in e&&n(1,v=e.isActiveFraction),"isVisible"in e&&n(2,w=e.isVisible),"stores"in e&&n(3,x=e.stores),"locale"in e&&n(4,$=e.locale),"stickers"in e&&n(5,S=e.stickers),"stickerForceEnable"in e&&n(44,k=e.stickerForceEnable),"stickerStickToImage"in e&&n(6,A=e.stickerStickToImage),"stickerEnableSelectImagePreset"in e&&n(45,C=e.stickerEnableSelectImagePreset),"stickerEnableDropImagePreset"in e&&n(7,E=e.stickerEnableDropImagePreset),"stickerEnableButtonFlipVertical"in e&&n(8,T=e.stickerEnableButtonFlipVertical),"stickerWillRenderShapePresetToolbar"in e&&n(9,P=e.stickerWillRenderShapePresetToolbar),"stickerEnableSelectImage"in e&&n(46,R=e.stickerEnableSelectImage),"stickersEnableButtonFlipVertical"in e&&n(10,M=e.stickersEnableButtonFlipVertical),"stickersWillRenderShapePresetToolbar"in e&&n(11,I=e.stickersWillRenderShapePresetToolbar),"markupEditorGridSize"in e&&n(47,L=e.markupEditorGridSize),"markupEditorSnapThreshold"in e&&n(48,B=e.markupEditorSnapThreshold),"markupEditorSnapToContext"in e&&n(49,O=e.markupEditorSnapToContext),"enableMultiSelect"in e&&n(12,F=e.enableMultiSelect),"annotateGridSize"in e&&n(50,N=e.annotateGridSize),"annotateSnapToContext"in e&&n(51,D=e.annotateSnapToContext),"decorateGridSize"in e&&n(52,z=e.decorateGridSize),"decorateSnapToContext"in e&&n(53,_=e.decorateSnapToContext),"willRenderShapeControls"in e&&n(13,U=e.willRenderShapeControls),"willRenderShapeTextControls"in e&&n(14,j=e.willRenderShapeTextControls),"markupEditorToolSelectRadius"in e&&n(15,H=e.markupEditorToolSelectRadius),"willRenderShapePresetToolbar"in e&&n(16,W=e.willRenderShapePresetToolbar),"beforeAddShape"in e&&n(17,V=e.beforeAddShape),"beforeRemoveShape"in e&&n(18,G=e.beforeRemoveShape),"beforeDeselectShape"in e&&n(19,Q=e.beforeDeselectShape),"beforeSelectShape"in e&&n(20,q=e.beforeSelectShape),"beforeUpdateShape"in e&&n(21,K=e.beforeUpdateShape),"markupEditorWillStartInteraction"in e&&n(22,Z=e.markupEditorWillStartInteraction)},e.$$.update=()=>{33554432&e.$$.dirty[1]&&n(54,r=p?p.scale:1),49152&e.$$.dirty[1]&&n(30,i=!1!==C&&R),131072&e.$$.dirty[1]&&n(29,o=B),64&e.$$.dirty[0]|2686976&e.$$.dirty[1]&&n(28,a=A?Tv(N)?N:L:Tv(z)?z:L),64&e.$$.dirty[0]|5505024&e.$$.dirty[1]&&n(27,s=A?mO(D)?D:O:mO(_)?_:O),25165888&e.$$.dirty[0]|528482304&e.$$.dirty[1]&&n(26,l=A?e=>gO(e,m,g,p.origin,p.translation,f.rotation.z,p.scale,h,d):e=>{const t=fy(e);return t.x-=u.x,t.y-=u.y,t.x/=r,t.y/=r,t}),25165888&e.$$.dirty[0]|528482304&e.$$.dirty[1]&&n(25,c=A?e=>fO(e,m,g,p.origin,p.translation,f.rotation.z,p.scale,h,d):e=>{const t=fy(e);return t.x*=r,t.y*=r,t.x+=u.x,t.y+=u.y,t})},[b,v,w,x,$,S,A,E,T,P,M,I,F,U,j,H,W,V,G,Q,q,K,Z,d,h,c,l,s,a,o,i,y,X,J,Y,ee,te,ne,re,ie,oe,ae,se,"sticker",k,C,R,L,B,O,N,D,z,_,r,u,p,f,g,m,function(t){W$.call(this,e,t)}]}var AO={util:["sticker",class extends CS{constructor(e){super(),AS(this,e,kO,SO,Gx,{name:43,isActive:0,isActiveFraction:1,isVisible:2,stores:3,locale:4,stickers:5,stickerForceEnable:44,stickerStickToImage:6,stickerEnableSelectImagePreset:45,stickerEnableDropImagePreset:7,stickerEnableButtonFlipVertical:8,stickerWillRenderShapePresetToolbar:9,stickerEnableSelectImage:46,stickersEnableButtonFlipVertical:10,stickersWillRenderShapePresetToolbar:11,markupEditorGridSize:47,markupEditorSnapThreshold:48,markupEditorSnapToContext:49,enableMultiSelect:12,annotateGridSize:50,annotateSnapToContext:51,decorateGridSize:52,decorateSnapToContext:53,willRenderShapeControls:13,willRenderShapeTextControls:14,markupEditorToolSelectRadius:15,willRenderShapePresetToolbar:16,beforeAddShape:17,beforeRemoveShape:18,beforeDeselectShape:19,beforeSelectShape:20,beforeUpdateShape:21,markupEditorWillStartInteraction:22},null,[-1,-1])}get name(){return this.$$.ctx[43]}get isActive(){return this.$$.ctx[0]}set isActive(e){this.$$set({isActive:e}),iS()}get isActiveFraction(){return this.$$.ctx[1]}set isActiveFraction(e){this.$$set({isActiveFraction:e}),iS()}get isVisible(){return this.$$.ctx[2]}set isVisible(e){this.$$set({isVisible:e}),iS()}get stores(){return this.$$.ctx[3]}set stores(e){this.$$set({stores:e}),iS()}get locale(){return this.$$.ctx[4]}set locale(e){this.$$set({locale:e}),iS()}get stickers(){return this.$$.ctx[5]}set stickers(e){this.$$set({stickers:e}),iS()}get stickerForceEnable(){return this.$$.ctx[44]}set stickerForceEnable(e){this.$$set({stickerForceEnable:e}),iS()}get stickerStickToImage(){return this.$$.ctx[6]}set stickerStickToImage(e){this.$$set({stickerStickToImage:e}),iS()}get stickerEnableSelectImagePreset(){return this.$$.ctx[45]}set stickerEnableSelectImagePreset(e){this.$$set({stickerEnableSelectImagePreset:e}),iS()}get stickerEnableDropImagePreset(){return this.$$.ctx[7]}set stickerEnableDropImagePreset(e){this.$$set({stickerEnableDropImagePreset:e}),iS()}get stickerEnableButtonFlipVertical(){return this.$$.ctx[8]}set stickerEnableButtonFlipVertical(e){this.$$set({stickerEnableButtonFlipVertical:e}),iS()}get stickerWillRenderShapePresetToolbar(){return this.$$.ctx[9]}set stickerWillRenderShapePresetToolbar(e){this.$$set({stickerWillRenderShapePresetToolbar:e}),iS()}get stickerEnableSelectImage(){return this.$$.ctx[46]}set stickerEnableSelectImage(e){this.$$set({stickerEnableSelectImage:e}),iS()}get stickersEnableButtonFlipVertical(){return this.$$.ctx[10]}set stickersEnableButtonFlipVertical(e){this.$$set({stickersEnableButtonFlipVertical:e}),iS()}get stickersWillRenderShapePresetToolbar(){return this.$$.ctx[11]}set stickersWillRenderShapePresetToolbar(e){this.$$set({stickersWillRenderShapePresetToolbar:e}),iS()}get markupEditorGridSize(){return this.$$.ctx[47]}set markupEditorGridSize(e){this.$$set({markupEditorGridSize:e}),iS()}get markupEditorSnapThreshold(){return this.$$.ctx[48]}set markupEditorSnapThreshold(e){this.$$set({markupEditorSnapThreshold:e}),iS()}get markupEditorSnapToContext(){return this.$$.ctx[49]}set markupEditorSnapToContext(e){this.$$set({markupEditorSnapToContext:e}),iS()}get enableMultiSelect(){return this.$$.ctx[12]}set enableMultiSelect(e){this.$$set({enableMultiSelect:e}),iS()}get annotateGridSize(){return this.$$.ctx[50]}set annotateGridSize(e){this.$$set({annotateGridSize:e}),iS()}get annotateSnapToContext(){return this.$$.ctx[51]}set annotateSnapToContext(e){this.$$set({annotateSnapToContext:e}),iS()}get decorateGridSize(){return this.$$.ctx[52]}set decorateGridSize(e){this.$$set({decorateGridSize:e}),iS()}get decorateSnapToContext(){return this.$$.ctx[53]}set decorateSnapToContext(e){this.$$set({decorateSnapToContext:e}),iS()}get willRenderShapeControls(){return this.$$.ctx[13]}set willRenderShapeControls(e){this.$$set({willRenderShapeControls:e}),iS()}get willRenderShapeTextControls(){return this.$$.ctx[14]}set willRenderShapeTextControls(e){this.$$set({willRenderShapeTextControls:e}),iS()}get markupEditorToolSelectRadius(){return this.$$.ctx[15]}set markupEditorToolSelectRadius(e){this.$$set({markupEditorToolSelectRadius:e}),iS()}get willRenderShapePresetToolbar(){return this.$$.ctx[16]}set willRenderShapePresetToolbar(e){this.$$set({willRenderShapePresetToolbar:e}),iS()}get beforeAddShape(){return this.$$.ctx[17]}set beforeAddShape(e){this.$$set({beforeAddShape:e}),iS()}get beforeRemoveShape(){return this.$$.ctx[18]}set beforeRemoveShape(e){this.$$set({beforeRemoveShape:e}),iS()}get beforeDeselectShape(){return this.$$.ctx[19]}set beforeDeselectShape(e){this.$$set({beforeDeselectShape:e}),iS()}get beforeSelectShape(){return this.$$.ctx[20]}set beforeSelectShape(e){this.$$set({beforeSelectShape:e}),iS()}get beforeUpdateShape(){return this.$$.ctx[21]}set beforeUpdateShape(e){this.$$set({beforeUpdateShape:e}),iS()}get markupEditorWillStartInteraction(){return this.$$.ctx[22]}set markupEditorWillStartInteraction(e){this.$$set({markupEditorWillStartInteraction:e}),iS()}},e=>{let{stickers:t,stickerEnableSelectImage:n,stickerEnableSelectImagePreset:r,stickerEnableDropImagePreset:i,stickerForceEnable:o}=e;return t&&t.length||n||r||i||o}]};function CO(e){let t,n,r,i,o,a=(e[14](e[34].value)||"")+"",s=(Tm(e[34].label)?e[34].label(e[1]):e[34].label)+"";return{c(){t=m$("div"),n=new R$(!1),r=v$(),i=m$("span"),o=b$(s),n.a=r,k$(t,"slot","option")},m(e,s){f$(e,t,s),n.m(a,t),d$(t,r),d$(t,i),d$(i,o)},p(e,t){8&t[1]&&a!==(a=(e[14](e[34].value)||"")+"")&&n.p(a),2&t[0]|8&t[1]&&s!==(s=(Tm(e[34].label)?e[34].label(e[1]):e[34].label)+"")&&E$(o,s)},d(e){e&&g$(t)}}}function EO(e){let t,n;return t=new kT({props:{locale:e[1],class:"PinturaControlList",layout:"row",options:e[2],selectedIndex:e[6],onchange:e[12],$$slots:{option:[CO,e=>{let{option:t}=e;return{34:t}},e=>{let{option:t}=e;return[0,t?8:0]}]},$$scope:{ctx:e}}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};2&n[0]&&(r.locale=e[1]),4&n[0]&&(r.options=e[2]),64&n[0]&&(r.selectedIndex=e[6]),2&n[0]|24&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function TO(e){let t,n,r,i,o;return n=new SB({props:{locale:e[1],class:"PinturaControlPanels",shapeProps:e[4],onchange:e[13],controls:e[3],scrollElasticity:e[7]}}),i=new lE({props:{elasticity:e[10],$$slots:{default:[EO]},$$scope:{ctx:e}}}),{c(){t=m$("div"),$S(n.$$.fragment),r=v$(),$S(i.$$.fragment),k$(t,"slot","footer"),k$(t,"style",e[5])},m(e,a){f$(e,t,a),SS(n,t,null),d$(t,r),SS(i,t,null),o=!0},p(e,r){const a={};2&r[0]&&(a.locale=e[1]),16&r[0]&&(a.shapeProps=e[4]),8&r[0]&&(a.controls=e[3]),128&r[0]&&(a.scrollElasticity=e[7]),n.$set(a);const s={};70&r[0]|16&r[1]&&(s.$$scope={dirty:r,ctx:e}),i.$set(s),(!o||32&r[0])&&k$(t,"style",e[5])},i(e){o||(dS(n.$$.fragment,e),dS(i.$$.fragment,e),o=!0)},o(e){hS(n.$$.fragment,e),hS(i.$$.fragment,e),o=!1},d(e){e&&g$(t),kS(n),kS(i)}}}function PO(e){let t,n;return t=new CI({props:{$$slots:{footer:[TO]},$$scope:{ctx:e}}}),t.$on("measure",e[23]),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};254&n[0]|16&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function RO(e,t,n){let r,i,o,a,s,l,c,u,d=zx,h=()=>(d(),d=Qx(p,(e=>n(20,s=e))),p);e.$$.on_destroy.push((()=>d()));let{isActive:p}=t;h();let{stores:f}=t,{locale:g={}}=t,{frameStyles:m={}}=t,{frameOptions:y=[]}=t,{markupEditorShapeStyleControls:b}=t;const v=H$("elasticityMultiplier");Kx(e,v,(e=>n(22,u=e)));const{history:w,animation:x,scrollElasticity:$,imageFrame:S,allowPan:k,allowZoom:A,allowZoomControls:C,allowPlayPause:E}=f;Kx(e,x,(e=>n(21,l=e))),Kx(e,S,(e=>n(4,c=e)));let T,P={};const R=jA(l?20:0);return Kx(e,R,(e=>n(19,a=e))),e.$$set=e=>{"isActive"in e&&h(n(0,p=e.isActive)),"stores"in e&&n(17,f=e.stores),"locale"in e&&n(1,g=e.locale),"frameStyles"in e&&n(18,m=e.frameStyles),"frameOptions"in e&&n(2,y=e.frameOptions),"markupEditorShapeStyleControls"in e&&n(3,b=e.markupEditorShapeStyleControls)},e.$$.update=()=>{1048576&e.$$.dirty[0]&&k.set(s),1048576&e.$$.dirty[0]&&A.set(s),1048576&e.$$.dirty[0]&&C.set(s),1048576&e.$$.dirty[0]&&s&&E.set(!0),4194304&e.$$.dirty[0]&&n(7,r=u*$),20&e.$$.dirty[0]&&n(6,i=c?y.findIndex((e=>{let[t]=e;return t===c.id})):0),3145728&e.$$.dirty[0]&&l&&R.set(s?0:20),524288&e.$$.dirty[0]&&n(5,o=a?"transform: translateY(".concat(a,"px)"):void 0)},[p,g,y,b,c,o,i,r,v,x,$,S,e=>{let{value:t}=e;const n=m[t];if(!n||!n.shape)return S.set(void 0),void w.write();const{shape:r}=n,i={id:t,...cw(r),...Object.keys(P).reduce(((e,t)=>r[t]?(e[t]=P[t],e):e),{})};S.set(i),w.write()},function(e){Rv(e,"frameColor")&&(P.frameColor=e.frameColor),c&&(dx(c,e),S.set(c),clearTimeout(T),T=setTimeout((()=>{w.write()}),200))},e=>{const t=m[e];var n;if(t&&t.thumb)return n=t.thumb,/div/i.test(n)||kB(n)?n:/rect|path|circle|line|<g>/i.test(n)?'<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" stroke-width="1" stroke="currentColor" fill="none" aria-hidden="true" focusable="false" stroke-linecap="round" stroke-linejoin="round">'.concat(n,"</svg>"):'<img src="'.concat(n,'" alt=""/>')},R,"frame",f,m,a,s,l,u,function(t){W$.call(this,e,t)}]}var MO={util:["frame",class extends CS{constructor(e){super(),AS(this,e,RO,PO,Gx,{name:16,isActive:0,stores:17,locale:1,frameStyles:18,frameOptions:2,markupEditorShapeStyleControls:3},null,[-1,-1])}get name(){return this.$$.ctx[16]}get isActive(){return this.$$.ctx[0]}set isActive(e){this.$$set({isActive:e}),iS()}get stores(){return this.$$.ctx[17]}set stores(e){this.$$set({stores:e}),iS()}get locale(){return this.$$.ctx[1]}set locale(e){this.$$set({locale:e}),iS()}get frameStyles(){return this.$$.ctx[18]}set frameStyles(e){this.$$set({frameStyles:e}),iS()}get frameOptions(){return this.$$.ctx[2]}set frameOptions(e){this.$$set({frameOptions:e}),iS()}get markupEditorShapeStyleControls(){return this.$$.ctx[3]}set markupEditorShapeStyleControls(e){this.$$set({markupEditorShapeStyleControls:e}),iS()}},e=>{let{src:t}=e;return t&&!vk(t)}]};function IO(e){let t,n,r,i,o,a,s,l;return{c(){t=m$("div"),n=m$("input"),i=v$(),o=m$("label"),a=b$(e[1]),k$(n,"id",e[0]),k$(n,"type","number"),k$(n,"min","1"),k$(n,"inputmode","numeric"),k$(n,"pattern","[0-9]*"),k$(n,"data-state",e[3]),k$(n,"autocomplete","off"),k$(n,"placeholder",e[4]),n.value=r=void 0===e[5]?"":e[7](e[5]+""),k$(o,"for",e[0]),k$(o,"title",e[2]),k$(o,"aria-label",e[2]),k$(t,"class","PinturaInputDimension")},m(r,c){f$(r,t,c),d$(t,n),d$(t,i),d$(t,o),d$(o,a),s||(l=x$(n,"input",e[8]),s=!0)},p(e,t){let[i]=t;1&i&&k$(n,"id",e[0]),8&i&&k$(n,"data-state",e[3]),16&i&&k$(n,"placeholder",e[4]),160&i&&r!==(r=void 0===e[5]?"":e[7](e[5]+""))&&n.value!==r&&(n.value=r),2&i&&E$(a,e[1]),1&i&&k$(o,"for",e[0]),4&i&&k$(o,"title",e[2]),4&i&&k$(o,"aria-label",e[2])},i:zx,o:zx,d(e){e&&g$(t),s=!1,l()}}}function LO(e,t,n){let{id:r}=t,{label:i}=t,{title:o}=t,{state:a}=t,{placeholder:s}=t,{value:l}=t,{onchange:c}=t,{format:u=(e=>e.replace(/\D/g,""))}=t;return e.$$set=e=>{"id"in e&&n(0,r=e.id),"label"in e&&n(1,i=e.label),"title"in e&&n(2,o=e.title),"state"in e&&n(3,a=e.state),"placeholder"in e&&n(4,s=e.placeholder),"value"in e&&n(5,l=e.value),"onchange"in e&&n(6,c=e.onchange),"format"in e&&n(7,u=e.format)},[r,i,o,a,s,l,c,u,e=>c(u(e.currentTarget.value))]}class BO extends CS{constructor(e){super(),AS(this,e,LO,IO,Gx,{id:0,label:1,title:2,state:3,placeholder:4,value:5,onchange:6,format:7})}}function OO(e){let t;return{c(){t=y$("g")},m(n,r){f$(n,t,r),t.innerHTML=e[2]},p(e,n){4&n&&(t.innerHTML=e[2])},d(e){e&&g$(t)}}}function FO(e){let t,n,r,i,o,a,s,l;return o=new HC({props:{$$slots:{default:[OO]},$$scope:{ctx:e}}}),{c(){t=m$("div"),n=m$("input"),r=v$(),i=m$("label"),$S(o.$$.fragment),k$(n,"id",e[0]),k$(n,"class","implicit"),k$(n,"type","checkbox"),n.checked=e[1],k$(i,"for",e[0]),k$(i,"title",e[3])},m(c,u){f$(c,t,u),d$(t,n),d$(t,r),d$(t,i),SS(o,i,null),a=!0,s||(l=x$(n,"change",e[5]),s=!0)},p(e,t){let[r]=t;(!a||1&r)&&k$(n,"id",e[0]),(!a||2&r)&&(n.checked=e[1]);const s={};68&r&&(s.$$scope={dirty:r,ctx:e}),o.$set(s),(!a||1&r)&&k$(i,"for",e[0]),(!a||8&r)&&k$(i,"title",e[3])},i(e){a||(dS(o.$$.fragment,e),a=!0)},o(e){hS(o.$$.fragment,e),a=!1},d(e){e&&g$(t),kS(o),s=!1,l()}}}function NO(e,t,n){let{id:r}=t,{locked:i}=t,{icon:o}=t,{title:a}=t,{onchange:s}=t;return e.$$set=e=>{"id"in e&&n(0,r=e.id),"locked"in e&&n(1,i=e.locked),"icon"in e&&n(2,o=e.icon),"title"in e&&n(3,a=e.title),"onchange"in e&&n(4,s=e.onchange)},[r,i,o,a,s,e=>s(e.currentTarget.checked)]}class DO extends CS{constructor(e){super(),AS(this,e,NO,FO,Gx,{id:0,locked:1,icon:2,title:3,onchange:4})}}function zO(e){let t;return{c(){t=b$("Save")},m(e,n){f$(e,t,n)},d(e){e&&g$(t)}}}function _O(e){let t,n,r,i,o,a,s,l,c,u,d,h,p,f=e[1].resizeLabelFormCaption+"";return l=new tR({props:{items:e[4]}}),u=new XC({props:{type:"submit",class:"implicit",$$slots:{default:[zO]},$$scope:{ctx:e}}}),{c(){t=m$("form"),n=m$("div"),r=m$("fieldset"),i=m$("legend"),o=b$(f),a=v$(),s=m$("div"),$S(l.$$.fragment),c=v$(),$S(u.$$.fragment),k$(i,"class","implicit"),k$(s,"class","PinturaFieldsetInner"),k$(n,"class","PinturaFormInner"),k$(t,"slot","footer"),k$(t,"style",e[3])},m(f,g){f$(f,t,g),d$(t,n),d$(n,r),d$(r,i),d$(i,o),d$(r,a),d$(r,s),SS(l,s,null),e[65](s),d$(n,c),SS(u,n,null),d=!0,h||(p=[x$(s,"focusin",e[15]),x$(s,"focusout",e[16]),x$(t,"submit",$$(e[17]))],h=!0)},p(e,n){(!d||2&n[0])&&f!==(f=e[1].resizeLabelFormCaption+"")&&E$(o,f);const r={};16&n[0]&&(r.items=e[4]),l.$set(r);const i={};16&n[3]&&(i.$$scope={dirty:n,ctx:e}),u.$set(i),(!d||8&n[0])&&k$(t,"style",e[3])},i(e){d||(dS(l.$$.fragment,e),dS(u.$$.fragment,e),d=!0)},o(e){hS(l.$$.fragment,e),hS(u.$$.fragment,e),d=!1},d(n){n&&g$(t),kS(l),e[65](null),kS(u),h=!1,Wx(p)}}}function UO(e){let t,n;return t=new CI({props:{$$slots:{footer:[_O]},$$scope:{ctx:e}}}),t.$on("measure",e[66]),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};30&n[0]|16&n[3]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function jO(e,t,n){let r,i,o,a,s,l,c,u,d,h,p,f,g,m,y,b,v,w,x,$,S,k,A,C,E,T,P,R,M,I,L=zx,B=()=>(L(),L=Qx(F,(e=>n(49,p=e))),F);e.$$.on_destroy.push((()=>L()));const O=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:9999;if(Em(e)&&!(e=e.replace(/\D/g,"")).length)return;const r=Math.round(e);return Number.isNaN(r)?void 0:qS(r,t,n)};let{isActive:F}=t;B();let{stores:N}=t,{locale:D={}}=t,{resizeMinSize:z=zy(1,1)}=t,{resizeMaxSize:_=zy(9999,9999)}=t,{resizeAspectRatioLocked:U=!1}=t,{resizeEnableButtonLockAspectRatio:j=!0}=t,{resizeSizePresetOptions:H}=t,{resizeWidthPresetOptions:W}=t,{resizeHeightPresetOptions:V}=t,{resizeWillRenderFooter:G=Qm}=t;const Q=jA(0,{stiffness:.15,damping:.3});Kx(e,Q,(e=>n(54,b=e)));const{animation:q,imageSize:K,imageCropRect:Z,imageCropRectAspectRatio:X,imageCropAspectRatio:J,imageOutputSize:Y,imageSelectionZoom:ee,imageSelectionPan:te,history:ne,env:re,allowPan:ie,allowZoom:oe,allowZoomControls:ae,allowPlayPause:se}=N;Kx(e,q,(e=>n(50,f=e))),Kx(e,K,(e=>n(73,R=e))),Kx(e,Z,(e=>n(52,m=e))),Kx(e,X,(e=>n(53,y=e))),Kx(e,J,(e=>n(72,C=e))),Kx(e,Y,(e=>n(61,A=e))),Kx(e,ee,(e=>n(74,M=e))),Kx(e,te,(e=>n(75,I=e))),Kx(e,re,(e=>n(51,g=e)));const le=Mm();let ce,ue,de,he,pe,fe,ge=dy();const me=(e,t,n,r,i)=>null!=e&&n!==t?e>=r[t]&&e<=i[t]?"valid":"invalid":"undetermined",ye=(e,t,n)=>Math.round(null!=e?e/t:n.height),be=()=>{U&&ue&&de&&("width"===he?n(39,de=Math.round(ue/y)):"height"===he?n(38,ue=Math.round(de*y)):("width"===pe?n(39,de=Math.round(ue/y)):"height"===pe&&n(38,ue=Math.round(de*y)),ve()))},ve=e=>{let t=O(ue),r=O(de),i=t,o=r,a=i&&o,s=e||y;if(!i&&!o)return;i&&!o?o=Math.round(i/s):o&&!i&&(i=Math.round(o*s)),s=e||a?Gm(i,o):y;let l=zy(i,o);Wy(_,l)||(l=wb(_,s)),Wy(l,z)||(l=vb(z,s)),n(38,ue=null!=t?Math.round(l.width):void 0),n(39,de=null!=r?Math.round(l.height):void 0)},we=()=>{ve();const{width:e,height:t}=A||{};e===ue&&t===de||(ue||de?(ue&&de&&r$(J,C=ue/de,C),r$(Y,A=zy(ue,de),A)):(r$(J,C=R.width/R.height,C),r$(J,C=void 0,C),r$(Y,A=void 0,A)),ne.write())},xe=Y.subscribe((e=>{if(!e)return n(38,ue=void 0),void n(39,de=void 0);n(38,ue=e.width),n(39,de=e.height),ve()})),$e=J.subscribe((e=>{(ue||de)&&e&&(ue&&de&&Gm(ue,de)!==e?(n(39,de=ue/e),ve(e)):ve())})),Se=e=>Em(e[0])?(e[1]=e[1].map(Se),e):Tv(e)?[e,""+e]:e,ke=e=>{if(Em(e[0]))return e[1]=e[1].map(ke),e;let[t,n]=e;if(Tv(t)&&Tv(n)){const[e,r]=[t,n];n="".concat(e," &times; ").concat(r),t=[e,r]}return[t,n]},Ae=PS();Kx(e,Ae,(e=>n(60,k=e)));const Ce=PS();Kx(e,Ce,(e=>n(64,P=e)));const Ee=PS();Kx(e,Ee,(e=>n(58,$=e)));const Te=PS();Kx(e,Te,(e=>n(63,T=e)));const Pe=PS();Kx(e,Pe,(e=>n(56,w=e)));const Re=PS();Kx(e,Re,(e=>n(62,E=e)));const Me=RS([Y,Ce],((e,t)=>{let[n,r]=e;if(!r)return t(-1);const i=r.findIndex((e=>{let[t]=e;if(!t&&!n)return!0;if(!t)return!1;const[r,i]=t;return n.width===r&&n.height===i}));t(i<0?0:i)}));Kx(e,Me,(e=>n(59,S=e)));const Ie=RS([Y,Te],((e,t)=>{let[n,r]=e;if(!r)return t(-1);const i=r.findIndex((e=>{let[t]=e;return!t&&!n||!!t&&n.width===t}));t(i<0?0:i)}));Kx(e,Ie,(e=>n(57,x=e)));const Le=RS([Y,Re],((e,t)=>{let[n,r]=e;if(!r)return t(-1);const i=r.findIndex((e=>{let[t]=e;return!t&&!n||!!t&&n.height===t}));t(i<0?0:i)}));let Be,Oe;Kx(e,Le,(e=>n(55,v=e)));const Fe=H$("redrawTrigger"),Ne=jA(f?20:0);return Kx(e,Ne,(e=>n(48,h=e))),_$((()=>{xe(),$e()})),e.$$set=e=>{"isActive"in e&&B(n(0,F=e.isActive)),"stores"in e&&n(30,N=e.stores),"locale"in e&&n(1,D=e.locale),"resizeMinSize"in e&&n(31,z=e.resizeMinSize),"resizeMaxSize"in e&&n(32,_=e.resizeMaxSize),"resizeAspectRatioLocked"in e&&n(28,U=e.resizeAspectRatioLocked),"resizeEnableButtonLockAspectRatio"in e&&n(33,j=e.resizeEnableButtonLockAspectRatio),"resizeSizePresetOptions"in e&&n(34,H=e.resizeSizePresetOptions),"resizeWidthPresetOptions"in e&&n(35,W=e.resizeWidthPresetOptions),"resizeHeightPresetOptions"in e&&n(36,V=e.resizeHeightPresetOptions),"resizeWillRenderFooter"in e&&n(37,G=e.resizeWillRenderFooter)},e.$$.update=()=>{262144&e.$$.dirty[1]&&ie.set(!p),262144&e.$$.dirty[1]&&oe.set(!p),262144&e.$$.dirty[1]&&ae.set(!p),262144&e.$$.dirty[1]&&p&&se.set(!0),536870920&e.$$.dirty[1]&&H&&(r$(Ae,k=H.map(ke),k),r$(Ce,P=qE(k),P)),536870912&e.$$.dirty[1]&&n(47,a=!!k),268435456&e.$$.dirty[1]|4&e.$$.dirty[2]&&n(46,r=S>-1&&P[S][1]),134217744&e.$$.dirty[1]&&W&&(r$(Ee,$=W.map(Se),$),r$(Te,T=qE($),T)),134283264&e.$$.dirty[1]&&n(44,s=!a&&$),67108864&e.$$.dirty[1]|2&e.$$.dirty[2]&&n(45,i=x>-1&&T[x][1]),33554464&e.$$.dirty[1]&&V&&(r$(Pe,w=V.map(Se),w),r$(Re,E=qE(w),E)),33619968&e.$$.dirty[1]&&n(43,l=!a&&w),16777216&e.$$.dirty[1]|1&e.$$.dirty[2]&&n(42,o=v>-1&&E[v][1]),77824&e.$$.dirty[1]&&n(41,c=!a&&!s&&!l),268435458&e.$$.dirty[0]|1072824263&e.$$.dirty[1]&&n(4,u=Fe&&SR((()=>{return G([a&&["Dropdown","size-presets",{label:r,options:k,onchange:e=>{return(t=e.value)&&!Be&&(Be={...m},Oe=C),t?(r$(J,C=Gm(t[0],t[1]),C),r$(Y,A=Ny(t),A)):(r$(Z,m=Be,m),r$(J,C=Oe,C),r$(Y,A=void 0,A),Be=void 0,Oe=void 0),void ne.write();var t},selectedIndex:S}],s&&["Dropdown","width-presets",{label:i,options:$,onchange:e=>{n(38,ue=e.value),we()},selectedIndex:x}],s&&l&&["span","times",{class:"PinturaResizeLabel",innerHTML:"&times;"}],l&&["Dropdown","height-presets",{label:o,options:w,onchange:e=>{n(39,de=e.value),we()},selectedIndex:v}],c&&[BO,"width-input",{id:"width-"+le,title:D.resizeTitleInputWidth,label:D.resizeLabelInputWidth,placeholder:(e=O(de),t=y,u=m,Math.round(null!=e?e*t:u.width)),value:ue,state:me(O(ue),"width",he,z,_),onchange:e=>{n(38,ue=e),be()}}],c&&j&&[DO,"aspect-ratio-lock",{id:"aspect-ratio-lock-"+le,title:D.resizeTitleButtonMaintainAspectRatio,icon:Em(D.resizeIconButtonMaintainAspectRatio)?D.resizeIconButtonMaintainAspectRatio:D.resizeIconButtonMaintainAspectRatio(U,b),locked:U,onchange:e=>{n(28,U=e),be()}}],c&&[BO,"height-input",{id:"height-"+le,title:D.resizeTitleInputHeight,label:D.resizeLabelInputHeight,placeholder:ye(O(ue),y,m),value:de,state:me(O(de),"height",he,z,_),onchange:e=>{n(39,de=e),be()}}]].filter(Boolean),{...g},(()=>Fe.set({})));var e,t,u})).filter(Boolean)),268435456&e.$$.dirty[0]&&Q.set(U?1:0),512&e.$$.dirty[1]&&he&&(pe=he),262144&e.$$.dirty[1]&&p&&(ge=I,fe=M),1074003968&e.$$.dirty[1]&&(p?setTimeout((()=>{return e=A,r$(te,I=dy(),I),void r$(ee,M=e&&m?e.width/m.width||e.height/m.height:1,M);var e}),0):(r$(te,I=ge,I),r$(ee,M=fe,M))),786432&e.$$.dirty[1]&&f&&Ne.set(p?0:20),131072&e.$$.dirty[1]&&n(3,d=h?"transform: translateY(".concat(h,"px)"):void 0)},[F,D,ce,d,u,Q,q,K,Z,X,J,Y,ee,te,re,e=>{const t=e.target.id;/width/.test(t)?n(40,he="width"):/height/.test(t)?n(40,he="height"):/aspectRatio/i.test(t)?n(40,he="lock"):n(40,he=void 0)},e=>{ce.contains(e.relatedTarget)||we(),n(40,he=void 0)},we,Ae,Ce,Ee,Te,Pe,Re,Me,Ie,Le,Ne,U,"resize",N,z,_,j,H,W,V,G,ue,de,he,c,o,l,s,i,r,a,h,p,f,g,m,y,b,v,w,x,$,S,k,A,E,T,P,function(e){G$[e?"unshift":"push"]((()=>{ce=e,n(2,ce)}))},function(t){W$.call(this,e,t)}]}var HO={util:["resize",class extends CS{constructor(e){super(),AS(this,e,jO,UO,Gx,{name:29,isActive:0,stores:30,locale:1,resizeMinSize:31,resizeMaxSize:32,resizeAspectRatioLocked:28,resizeEnableButtonLockAspectRatio:33,resizeSizePresetOptions:34,resizeWidthPresetOptions:35,resizeHeightPresetOptions:36,resizeWillRenderFooter:37},null,[-1,-1,-1,-1])}get name(){return this.$$.ctx[29]}get isActive(){return this.$$.ctx[0]}set isActive(e){this.$$set({isActive:e}),iS()}get stores(){return this.$$.ctx[30]}set stores(e){this.$$set({stores:e}),iS()}get locale(){return this.$$.ctx[1]}set locale(e){this.$$set({locale:e}),iS()}get resizeMinSize(){return this.$$.ctx[31]}set resizeMinSize(e){this.$$set({resizeMinSize:e}),iS()}get resizeMaxSize(){return this.$$.ctx[32]}set resizeMaxSize(e){this.$$set({resizeMaxSize:e}),iS()}get resizeAspectRatioLocked(){return this.$$.ctx[28]}set resizeAspectRatioLocked(e){this.$$set({resizeAspectRatioLocked:e}),iS()}get resizeEnableButtonLockAspectRatio(){return this.$$.ctx[33]}set resizeEnableButtonLockAspectRatio(e){this.$$set({resizeEnableButtonLockAspectRatio:e}),iS()}get resizeSizePresetOptions(){return this.$$.ctx[34]}set resizeSizePresetOptions(e){this.$$set({resizeSizePresetOptions:e}),iS()}get resizeWidthPresetOptions(){return this.$$.ctx[35]}set resizeWidthPresetOptions(e){this.$$set({resizeWidthPresetOptions:e}),iS()}get resizeHeightPresetOptions(){return this.$$.ctx[36]}set resizeHeightPresetOptions(e){this.$$set({resizeHeightPresetOptions:e}),iS()}get resizeWillRenderFooter(){return this.$$.ctx[37]}set resizeWillRenderFooter(e){this.$$set({resizeWillRenderFooter:e}),iS()}}]};function WO(e){let t,n;return t=new pO({props:{stores:e[3],locale:e[4],isActive:e[0],isActiveFraction:e[1],isVisible:e[2],mapScreenPointToImagePoint:e[10],mapImagePointToScreenPoint:e[9],enableMultiSelect:e[6],utilKey:"redact",imageRotation:e[11],imageFlipX:e[8],imageFlipY:e[7],shapes:e[12],toolbar:["rect"],toolShapes:{rectangle:[{x:0,y:0,width:0,height:0}]},toolActive:"rectangle",parentRect:e[14],enablePresetDropImage:!1,enablePresetSelectImage:!1,willStartInteraction:e[5],hooks:{willRenderShapeControls:e[25]}}}),t.$on("measure",e[26]),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){let[r]=n;const i={};8&r&&(i.stores=e[3]),16&r&&(i.locale=e[4]),1&r&&(i.isActive=e[0]),2&r&&(i.isActiveFraction=e[1]),4&r&&(i.isVisible=e[2]),1024&r&&(i.mapScreenPointToImagePoint=e[10]),512&r&&(i.mapImagePointToScreenPoint=e[9]),64&r&&(i.enableMultiSelect=e[6]),2048&r&&(i.imageRotation=e[11]),256&r&&(i.imageFlipX=e[8]),128&r&&(i.imageFlipY=e[7]),32&r&&(i.willStartInteraction=e[5]),t.$set(i)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function VO(e,t,n){let r,i,o,a,s,l,c,u,d,{isActive:h}=t,{isActiveFraction:p}=t,{isVisible:f}=t,{stores:g}=t,{locale:m={}}=t,{markupEditorWillStartInteraction:y}=t,{enableMultiSelect:b}=t;const{imageRedaction:v,rootRect:w,imageSize:x,imageRotation:$,imageFlipX:S,imageFlipY:k,imageTransforms:A,imageTransformsInterpolated:C}=g;return Kx(e,w,(e=>n(24,u=e))),Kx(e,x,(e=>n(23,c=e))),Kx(e,$,(e=>n(11,d=e))),Kx(e,S,(e=>n(8,a=e))),Kx(e,k,(e=>n(7,o=e))),Kx(e,A,(e=>n(22,l=e))),Kx(e,C,(e=>n(21,s=e))),e.$$set=e=>{"isActive"in e&&n(0,h=e.isActive),"isActiveFraction"in e&&n(1,p=e.isActiveFraction),"isVisible"in e&&n(2,f=e.isVisible),"stores"in e&&n(3,g=e.stores),"locale"in e&&n(4,m=e.locale),"markupEditorWillStartInteraction"in e&&n(5,y=e.markupEditorWillStartInteraction),"enableMultiSelect"in e&&n(6,b=e.enableMultiSelect)},e.$$.update=()=>{31457664&e.$$.dirty&&n(10,r=e=>gO(e,u,c,s.origin,s.translation,l.rotation.z,s.scale,a,o)),31457664&e.$$.dirty&&n(9,i=e=>fO(e,u,c,s.origin,s.translation,l.rotation.z,s.scale,a,o))},[h,p,f,g,m,y,b,o,a,i,r,d,v,w,x,$,S,k,A,C,"redact",s,l,c,u,e=>(((e,t)=>{const n=vM(e,t);JC(n,(t=>yM(t)===e))})("to-front",bM(e[0])),e),function(t){W$.call(this,e,t)}]}var GO={util:["redact",class extends CS{constructor(e){super(),AS(this,e,VO,WO,Gx,{name:20,isActive:0,isActiveFraction:1,isVisible:2,stores:3,locale:4,markupEditorWillStartInteraction:5,enableMultiSelect:6})}get name(){return this.$$.ctx[20]}get isActive(){return this.$$.ctx[0]}set isActive(e){this.$$set({isActive:e}),iS()}get isActiveFraction(){return this.$$.ctx[1]}set isActiveFraction(e){this.$$set({isActiveFraction:e}),iS()}get isVisible(){return this.$$.ctx[2]}set isVisible(e){this.$$set({isVisible:e}),iS()}get stores(){return this.$$.ctx[3]}set stores(e){this.$$set({stores:e}),iS()}get locale(){return this.$$.ctx[4]}set locale(e){this.$$set({locale:e}),iS()}get markupEditorWillStartInteraction(){return this.$$.ctx[5]}set markupEditorWillStartInteraction(e){this.$$set({markupEditorWillStartInteraction:e}),iS()}get enableMultiSelect(){return this.$$.ctx[6]}set enableMultiSelect(e){this.$$set({enableMultiSelect:e}),iS()}},e=>{let{src:t}=e;return t&&!vk(t)}]};function QO(e){let t,n,r=(Tm(e[32].label)?e[32].label(e[1]):e[32].label)+"";return{c(){t=m$("span"),n=b$(r)},m(e,r){f$(e,t,r),d$(t,n)},p(e,t){2&t[0]|2&t[1]&&r!==(r=(Tm(e[32].label)?e[32].label(e[1]):e[32].label)+"")&&E$(n,r)},d(e){e&&g$(t)}}}function qO(e){let t,n,r,i=(e[11](e[32].value)||"")+"",o=e[32].label&&QO(e);return{c(){t=m$("div"),n=new R$(!1),r=v$(),o&&o.c(),n.a=r,k$(t,"slot","option")},m(e,a){f$(e,t,a),n.m(i,t),d$(t,r),o&&o.m(t,null)},p(e,r){2&r[1]&&i!==(i=(e[11](e[32].value)||"")+"")&&n.p(i),e[32].label?o?o.p(e,r):(o=QO(e),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},d(e){e&&g$(t),o&&o.d()}}}function KO(e){let t,n;return t=new kT({props:{locale:e[1],class:"PinturaControlList",layout:"row",options:e[2],selectedIndex:e[4],onchange:e[10],$$slots:{option:[qO,e=>{let{option:t}=e;return{32:t}},e=>{let{option:t}=e;return[0,t?2:0]}]},$$scope:{ctx:e}}}),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};2&n[0]&&(r.locale=e[1]),4&n[0]&&(r.options=e[2]),16&n[0]&&(r.selectedIndex=e[4]),2&n[0]|6&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function ZO(e){let t,n,r;return n=new lE({props:{elasticity:e[5],$$slots:{default:[KO]},$$scope:{ctx:e}}}),{c(){t=m$("div"),$S(n.$$.fragment),k$(t,"slot","footer"),k$(t,"style",e[3])},m(e,i){f$(e,t,i),SS(n,t,null),r=!0},p(e,i){const o={};32&i[0]&&(o.elasticity=e[5]),22&i[0]|4&i[1]&&(o.$$scope={dirty:i,ctx:e}),n.$set(o),(!r||8&i[0])&&k$(t,"style",e[3])},i(e){r||(dS(n.$$.fragment,e),r=!0)},o(e){hS(n.$$.fragment,e),r=!1},d(e){e&&g$(t),kS(n)}}}function XO(e){let t,n;return t=new CI({props:{$$slots:{footer:[ZO]},$$scope:{ctx:e}}}),t.$on("measure",e[22]),{c(){$S(t.$$.fragment)},m(e,r){SS(t,e,r),n=!0},p(e,n){const r={};62&n[0]|4&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){hS(t.$$.fragment,e),n=!1},d(e){kS(t,e)}}}function JO(e,t,n){let r,i,o,a,s,l,c,u,d,h,p=zx,f=()=>(p(),p=Qx(g,(e=>n(17,l=e))),g);e.$$.on_destroy.push((()=>p()));let{isActive:g}=t;f();let{stores:m}=t,{locale:y={}}=t,{fillOptions:b=[]}=t;const v=e=>e.map((e=>(e=>Mv(e)&&Em(e[0])&&Mv(e[1]))(e)?[e[0],v(e[1]),e[2]]:(e=>[Array.isArray(e)&&3===e.length?[...e,1]:e,void 0,{disabled:!1}])(e))),w=H$("elasticityMultiplier");Kx(e,w,(e=>n(21,h=e)));const{history:x,animation:$,scrollElasticity:S,imageBackgroundColor:k,imageBackgroundImage:A,allowPan:C,allowZoom:E,allowZoomControls:T,allowPlayPause:P}=m;Kx(e,$,(e=>n(18,c=e))),Kx(e,k,(e=>n(20,d=e))),Kx(e,A,(e=>n(19,u=e)));const R=jA(c?20:0);return Kx(e,R,(e=>n(16,s=e))),e.$$set=e=>{"isActive"in e&&f(n(0,g=e.isActive)),"stores"in e&&n(14,m=e.stores),"locale"in e&&n(1,y=e.locale),"fillOptions"in e&&n(15,b=e.fillOptions)},e.$$.update=()=>{32768&e.$$.dirty[0]&&n(2,r=v(b)),131072&e.$$.dirty[0]&&C.set(l),131072&e.$$.dirty[0]&&E.set(l),131072&e.$$.dirty[0]&&T.set(l),131072&e.$$.dirty[0]&&l&&P.set(!0),2097152&e.$$.dirty[0]&&n(5,i=h*S),1572868&e.$$.dirty[0]&&n(4,o=r.findIndex((e=>{let[t]=e;return u?t===u:Array.isArray(t)?YS(t,d):void 0}))||0),393216&e.$$.dirty[0]&&c&&R.set(l?0:20),65536&e.$$.dirty[0]&&n(3,a=s?"transform: translateY(".concat(s,"px)"):void 0)},[g,y,r,a,o,i,w,$,k,A,e=>{let{value:t}=e;Em(t)&&(r$(k,d=void 0,d),r$(A,u=t,u)),Mv(t)&&(r$(k,d=t,d),r$(A,u=void 0,u)),x.write()},e=>{if(Em(e))return'<div class="PinturaFillTile"><img src="'.concat(e,'" alt="" width="48" height="64"/></div>');if(Mv(e)){const[t,n,r,i]=e.map(((e,t)=>t<3?Math.round(255*e):e));return'<div class="PinturaFillTile" data-transparent="'.concat(i<1,'"><div style="background-color:rgba(').concat(t,",").concat(n,",").concat(r,",").concat(i,')"></div></div>')}return"<div></div>"},R,"fill",m,b,s,l,c,u,d,h,function(t){W$.call(this,e,t)}]}var YO={util:["fill",class extends CS{constructor(e){super(),AS(this,e,JO,XO,Gx,{name:13,isActive:0,stores:14,locale:1,fillOptions:15},null,[-1,-1])}get name(){return this.$$.ctx[13]}get isActive(){return this.$$.ctx[0]}set isActive(e){this.$$set({isActive:e}),iS()}get stores(){return this.$$.ctx[14]}set stores(e){this.$$set({stores:e}),iS()}get locale(){return this.$$.ctx[1]}set locale(e){this.$$set({locale:e}),iS()}get fillOptions(){return this.$$.ctx[15]}set fillOptions(e){this.$$set({fillOptions:e}),iS()}},e=>{let{src:t,fillOptions:n}=e;return t&&!vk(t)&&n&&n.length}]};const eF='<g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width=".125em"><path d="M18 6L6 18M6 6l12 12"></path></path></g>',tF='<path fill="none" d="M9 15 L12 9 L15 15 M10 13.5 h3" stroke="currentColor" stroke-width=".125em"/>';var nF={labelReset:"Reset",labelDefault:"Default",labelAuto:"Auto",labelNone:"None",labelEdit:"Edit",labelClose:"Close",labelSupportError:e=>e.join(", ")+" not supported on this browser",labelColor:"Color",labelWidth:"Width",labelSize:"Size",labelOffset:"Offset",labelAmount:"Amount",labelInset:"Inset",labelRadius:"Radius",labelColorPalette:"Color palette",labelSizeExtraSmall:"Extra small",labelSizeSmall:"Small",labelSizeMediumSmall:"Medium small",labelSizeMedium:"Medium",labelSizeMediumLarge:"Medium large",labelSizeLarge:"Large",labelSizeExtraLarge:"Extra large",labelButtonCancel:"Cancel",labelButtonUndo:"Undo",labelButtonRedo:"Redo",labelButtonRevert:"Revert",labelButtonExport:"Done",labelZoom:"Zoom",labelZoomIn:"Zoom in",labelZoomOut:"Zoom out",labelZoomFit:"Fit to view",labelZoomActual:"Actual size",iconZoomIn:'<path stroke="currentColor" stroke-width=".125em" d="M8 12 h8 M12 8 v8" />',iconZoomOut:'<path stroke="currentColor" stroke-width=".125em" d="M9 12 h6" />',iconSupportError:'<g fill="none" stroke="currentColor" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><g><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></g>',iconButtonClose:eF,iconButtonRevert:'<g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width=".125em"><path d="M7.388 18.538a8 8 0 10-2.992-9.03"/><path fill="currentColor" d="M2.794 11.696L2.37 6.714l5.088 3.18z"/><path d="M12 8v4M12 12l4 2"/></g>',iconButtonUndo:'<g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width=".125em"><path d="M10 8h4c2.485 0 5 2 5 5s-2.515 5-5 5h-4"/><path fill="currentColor" d="M5 8l4-3v6z"/></g>',iconButtonRedo:'<g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width=".125em"><path d="M14 8h-4c-2.485 0-5 2-5 5s2.515 5 5 5h4"/><path fill="currentColor" d="M19 8l-4-3v6z"/></g>',iconButtonExport:'<polyline points="20 6 9 17 4 12" fill="none" stroke="currentColor" stroke-width=".125em"></polyline>',statusLabelButtonClose:"Close",statusIconButtonClose:eF,statusLabelLoadImage:e=>e&&e.task?e.error?"IMAGE_TOO_SMALL"===e.error.code?"Minimum image size is {minWidth} &times; {minHeight}":"Error loading image":"blob-to-bitmap"===e.task?"Preparing image&hellip;":"Loading image&hellip;":"Waiting for image",statusLabelProcessImage:e=>{if(e&&e.task)return"store"===e.task?e.error?"Error uploading image":"Uploading image&hellip;":e.error?"Error processing image":"Processing image&hellip;"}};const rF={shapeLabelButtonSelectSticker:"Select image",shapeIconButtonSelectSticker:'<g fill="none" stroke="currentColor" stroke-width="0.0625em"><path d="M8 21 L15 11 L19 15"/><path d="M15 2 v5 h5"/><path d="M8 2 h8 l4 4 v12 q0 4 -4 4 h-8 q-4 0 -4 -4 v-12 q0 -4 4 -4z"/></g><circle fill="currentColor" cx="10" cy="8" r="1.5"/>',shapeIconButtonFlipHorizontal:'<g stroke="currentColor" stroke-width=".125em"><path fill="none" d="M6 6.5h5v11H6z"/><path fill="currentColor" d="M15 6.5h3v11h-3z"/><path d="M11 4v16" fill="currentColor"/></g>',shapeIconButtonFlipVertical:'<g stroke="currentColor" stroke-width=".125em"><rect x="7" y="8" width="11" height="5" fill="none"/><rect x="7" y="17" width="11" height="2" fill="currentColor"/><line x1="5" y1="13" x2="20" y2="13"/></g>',shapeIconButtonRemove:'<g fill="none" fill-rule="evenodd"><path stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M7.5 7h9z"/><path d="M7.916 9h8.168a1 1 0 01.99 1.14l-.972 6.862a2 2 0 01-1.473 1.653c-.877.23-1.753.345-2.629.345-.876 0-1.752-.115-2.628-.345a2 2 0 01-1.473-1.653l-.973-6.862A1 1 0 017.916 9z" fill="currentColor"/><rect fill="currentColor" x="10" y="5" width="4" height="3" rx="1"/></g>',shapeIconButtonDuplicate:'<g fill="none" fill-rule="evenodd"><path d="M15 13.994V16a2 2 0 01-2 2H8a2 2 0 01-2-2v-5a2 2 0 012-2h2.142" stroke="currentColor" stroke-width=".125em"/><path d="M15 9V8a1 1 0 00-2 0v1h-1a1 1 0 000 2h1v1a1 1 0 002 0v-1h1a1 1 0 000-2h-1zm-4-4h6a2 2 0 012 2v6a2 2 0 01-2 2h-6a2 2 0 01-2-2V7a2 2 0 012-2z" fill="currentColor"/></g>',shapeIconButtonMoveToFront:'<g fill="none" fill-rule="evenodd"><rect fill="currentColor" x="11" y="13" width="8" height="2" rx="1"/><rect fill="currentColor" x="9" y="17" width="10" height="2" rx="1"/><path d="M11.364 8H10a5 5 0 000 10M12 6.5L14.5 8 12 9.5z" stroke="currentColor" stroke-width=".125em" stroke-linecap="round"/></g>',shapeIconButtonTextLayoutAutoWidth:""+tF,shapeIconButtonTextLayoutAutoHeight:'<g fill="currentColor"><circle cx="4" cy="12" r="1.5"/><circle cx="20" cy="12" r="1.5"/></g>'+tF,shapeIconButtonTextLayoutFixedSize:'<g fill="currentColor"><circle cx="5" cy="6" r="1.5"/><circle cx="19" cy="6" r="1.5"/><circle cx="19" cy="19" r="1.5"/><circle cx="5" cy="19" r="1.5"/></g>'+tF,shapeTitleButtonTextLayoutAutoWidth:"Auto width",shapeTitleButtonTextLayoutAutoHeight:"Auto height",shapeTitleButtonTextLayoutFixedSize:"Fixed size",shapeTitleButtonFlipHorizontal:"Flip Horizontal",shapeTitleButtonFlipVertical:"Flip Vertical",shapeTitleButtonRemove:"Remove",shapeTitleButtonDuplicate:"Duplicate",shapeTitleButtonMoveToFront:"Move to front",shapeLabelInputText:"Edit text",shapeIconInputCancel:'<g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width=".125em"><path d="M18 6L6 18M6 6l12 12"/></g>',shapeIconInputConfirm:'<g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width=".125em"><polyline points="20 6 9 17 4 12"/></g>',shapeLabelInputCancel:"Cancel",shapeLabelInputConfirm:"Confirm",shapeLabelStrokeNone:"No outline",shapeLabelFontStyleNormal:"Normal",shapeLabelFontStyleBold:"Bold",shapeLabelFontStyleItalic:"Italic",shapeLabelFontStyleItalicBold:"Bold Italic",shapeTitleBackgroundColor:"Fill color",shapeTitleCornerRadius:"Corner radius",shapeTitleFontFamily:"Font",shapeTitleFontSize:"Font size",shapeTitleFontStyle:"Font style",shapeTitleLineHeight:"Line height",shapeTitleLineStart:"Start",shapeTitleLineEnd:"End",shapeTitleStrokeWidth:"Line width",shapeTitleStrokeColor:"Line color",shapeTitleLineDecorationBar:"Bar",shapeTitleLineDecorationCircle:"Circle",shapeTitleLineDecorationSquare:"Square",shapeTitleLineDecorationArrow:"Arrow",shapeTitleLineDecorationCircleSolid:"Circle solid",shapeTitleLineDecorationSquareSolid:"Square solid",shapeTitleLineDecorationArrowSolid:"Arrow solid",shapeIconLineDecorationBar:'<g stroke="currentColor" stroke-linecap="round" stroke-width=".125em"><path d="M5,12 H16"/><path d="M16,8 V16"/></g>',shapeIconLineDecorationCircle:'<g stroke="currentColor" stroke-linecap="round"><path stroke-width=".125em" d="M5,12 H12"/><circle fill="none" stroke-width=".125em" cx="16" cy="12" r="4"/></g>',shapeIconLineDecorationSquare:'<g stroke="currentColor" stroke-linecap="round"><path stroke-width=".125em" d="M5,12 H12"/><rect fill="none" stroke-width=".125em" x="12" y="8" width="8" height="8"/></g>',shapeIconLineDecorationArrow:'<g stroke="currentColor" stroke-linecap="round" stroke-width=".125em"><path d="M5,12 H16 M13,7 l6,5 l-6,5" fill="none"/></g>',shapeIconLineDecorationCircleSolid:'<g stroke="currentColor" stroke-linecap="round"><path stroke-width=".125em" d="M5,12 H12"/><circle fill="currentColor" cx="16" cy="12" r="4"/></g>',shapeIconLineDecorationSquareSolid:'<g stroke="currentColor" stroke-linecap="round"><path stroke-width=".125em" d="M5,12 H12"/><rect fill="currentColor" x="12" y="8" width="8" height="8"/></g>',shapeIconLineDecorationArrowSolid:'<g stroke="currentColor" stroke-linecap="round" stroke-width=".125em"><path d="M5,12 H16"/><path d="M13,7 l6,5 l-6,5z" fill="currentColor"/></g>',shapeTitleColorTransparent:"Transparent",shapeTitleColorWhite:"White",shapeTitleColorSilver:"Silver",shapeTitleColorGray:"Gray",shapeTitleColorBlack:"Black",shapeTitleColorNavy:"Navy",shapeTitleColorBlue:"Blue",shapeTitleColorAqua:"Aqua",shapeTitleColorTeal:"Teal",shapeTitleColorOlive:"Olive",shapeTitleColorGreen:"Green",shapeTitleColorYellow:"Yellow",shapeTitleColorOrange:"Orange",shapeTitleColorRed:"Red",shapeTitleColorMaroon:"Maroon",shapeTitleColorFuchsia:"Fuchsia",shapeTitleColorPurple:"Purple",shapeTitleTextOutline:"Text outline",shapeTitleTextOutlineWidth:"Width",shapeTitleTextShadow:"Text shadow",shapeTitleTextShadowBlur:"Blur",shapeTitleTextColor:"Font color",shapeTitleTextAlign:"Text align",shapeTitleTextAlignLeft:"Left align text",shapeTitleTextAlignCenter:"Center align text",shapeTitleTextAlignRight:"Right align text",shapeIconTextAlignLeft:'<g stroke-width=".125em" stroke="currentColor"><line x1="5" y1="8" x2="15" y2="8"/><line x1="5" y1="12" x2="19" y2="12"/><line x1="5" y1="16" x2="14" y2="16"/></g>',shapeIconTextAlignCenter:'<g stroke-width=".125em" stroke="currentColor"><line x1="7" y1="8" x2="17" y2="8"/><line x1="5" y1="12" x2="19" y2="12"/><line x1="8" y1="16" x2="16" y2="16"/></g>',shapeIconTextAlignRight:'<g stroke-width=".125em" stroke="currentColor"><line x1="9" y1="8" x2="19" y2="8"/><line x1="5" y1="12" x2="19" y2="12"/><line x1="11" y1="16" x2="19" y2="16"/></g>',shapeLabelToolMove:"Move",shapeLabelToolView:"View",shapeLabelToolSharpie:"Sharpie",shapeLabelToolEraser:"Eraser",shapeLabelToolPath:"Path",shapeLabelToolRectangle:"Rectangle",shapeLabelToolEllipse:"Ellipse",shapeLabelToolArrow:"Arrow",shapeLabelToolLine:"Line",shapeLabelToolText:"Text",shapeLabelToolPreset:"Stickers",shapeIconToolView:'<g stroke-width=".125em" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M10.98 9.703V2.567c0-1.19 1.19-1.785 1.784-1.785.595 0 1.784.595 1.784 1.785v3.568"/><path d="M14.548 9.703V4.35c0-1.19 1.19-1.784 1.784-1.784.595 0 1.784.594 1.784 1.784v2.973"/><path d="M18.116 10.244V7.271c0-1.19 1.19-1.784 1.784-1.784.595 0 1.785.595 1.785 1.784 0 1.19 0 8.92-1.19 12.488-1.19 3.569-10.704 4.758-13.678 0-2.973-4.757-2.973-4.757-4.163-6.541-1.189-1.784-1.153-2.974-.594-3.568.558-.595 1.784-1.19 2.973.594 1.277 1.916 2.07 2.907 2.379 2.974V5.487c0-1.19 1.19-1.784 1.784-1.784.595 0 1.784.595 1.784 1.784V8.46"/></g>',shapeIconToolMove:'<g stroke-width=".125em" stroke="currentColor" fill="none"><path d="M6 2 L6 19 L18 13 Z M13 18 L16 24" stroke="currentColor" stroke-width=".125em" fill="none" fill-rule="evenodd" stroke-linejoin="round"/></g>',shapeIconToolSharpie:'<g stroke-width=".125em" stroke="currentColor" fill="none"><path d="M2.025 5c5.616-2.732 8.833-3.857 9.65-3.374C12.903 2.351.518 12.666 2.026 14 3.534 15.334 16.536.566 17.73 2.566 18.924 4.566 3.98 17.187 4.831 18c.851.813 9.848-6 11.643-6 1.087 0-2.53 5.11-2.92 7-.086.41 3.323-1.498 4.773-1 .494.17.64 2.317 1.319 3 .439.443 1.332.776 2.679 1" stroke="currentColor" stroke-width=".125em" fill="none" fill-rule="evenodd" stroke-linejoin="round"/></g>',shapeIconToolEraser:'<g stroke-width=".125em" stroke="currentColor" stroke-linecap="round" fill="none"><g transform="translate(3, 15) rotate(-45)"><rect x="0" y="0" width="18" height="10" rx="3"/></g><line x1="11" y1="21" x2="18" y2="21"/><line x1="20" y1="21" x2="22" y2="21"/></g>',shapeIconToolPath:'<g stroke-width=".125em" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" fill="none"><circle cx="21" cy="3" r="2"/><circle cx="9" cy="9" r="2"/><circle cx="3" cy="21" r="2"/><path d="M19 4 11 8 M8 11 4 19"/></g>',shapeIconToolRectangle:'<g stroke-width=".125em" stroke="currentColor" fill="none"><rect x="1" y="1" width="22" height="22" rx="4"/></g>',shapeIconToolEllipse:'<g stroke-width=".125em" stroke="currentColor" fill="none"><circle cx="12" cy="12" r="11"/></g>',shapeIconToolArrow:'<g stroke-width=".125em" stroke="currentColor" fill="none"><line x1="20" y1="3" x2="6" y2="21"/><path d="m10 6 L21.5 1 L20 13.5" fill="currentColor" stroke="none"/></g>',shapeIconToolLine:'<g stroke-width=".125em" stroke="currentColor" fill="none"><line x1="20" y1="3" x2="6" y2="21"/></g>',shapeIconToolText:'<g stroke="none" fill="currentColor" transform="translate(6,0)"><path d="M8.14 20.085c.459 0 .901-.034 1.329-.102a8.597 8.597 0 001.015-.21v1.984c-.281.135-.695.247-1.242.336a9.328 9.328 0 01-1.477.133c-3.312 0-4.968-1.745-4.968-5.235V6.804H.344v-1.25l2.453-1.078L3.89.819h1.5v3.97h4.97v2.015H5.39v10.078c0 1.031.245 1.823.735 2.375s1.161.828 2.015.828z"/>',shapeIconToolPreset:'<g fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width=".125em"><path d="M12 22c2.773 0 1.189-5.177 3-7 1.796-1.808 7-.25 7-3 0-5.523-4.477-10-10-10S2 6.477 2 12s4.477 10 10 10z"></path><path d="M20 17c-3 3-5 5-8 5"></path></g>',shapeTitleSelectionMode:"Selection mode",shapeTitleBrushSize:"Brush size",shapeLabelSelectionModeNew:"New",shapeLabelSelectionModeAdd:"Add",shapeLabelSelectionModeSubtract:"Remove",shapeLabelToolSelectionBrush:"Brush",shapeLabelToolSelectionLassoo:"Lassoo",shapeLabelToolSelectionRectangle:"Rectangle marquee",shapeLabelToolSelectionEllipse:"Ellipse marquee",shapeIconSelectionModeNew:'<g fill="none" fill-rule="evenodd" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"><path d="M6.5 17H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v1.5"/><rect width="12" height="12" x="9" y="9" fill="currentColor" fill-opacity=".25" rx="2"/></g>',shapeIconSelectionModeAdd:'<g fill="none" fill-rule="evenodd" stroke="currentColor"><path fill="currentColor" fill-opacity=".25" stroke-linecap="round" stroke-linejoin="round" d="M15 3a2 2 0 0 1 2 2v4h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-8a2 2 0 0 1-2-2v-2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h10Z"/><path d="M13 15h4M15 13v4"/></g>',shapeIconSelectionModeSubtract:'<g fill="none" fill-rule="evenodd" stroke="currentColor"><path fill="currentColor" fill-opacity=".25" stroke-linecap="round" stroke-linejoin="round" d="M15 3a2 2 0 0 1 2 2v4h-6a2 2 0 0 0-1.995 1.85L9 11v6H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h10Z"/><rect width="12" height="12" x="9" y="9" stroke-linecap="round" stroke-linejoin="round" rx="2"/><path d="M13 15h4"/></g>',shapeIconToolSelectionBrush:'<g stroke-width=".125em" stroke="currentColor" fill="none"><path d="M2.025 5c5.616-2.732 8.833-3.857 9.65-3.374C12.903 2.351.518 12.666 2.026 14 3.534 15.334 16.536.566 17.73 2.566 18.924 4.566 3.98 17.187 4.831 18c.851.813 9.848-6 11.643-6 1.087 0-2.53 5.11-2.92 7-.086.41 3.323-1.498 4.773-1 .494.17.64 2.317 1.319 3 .439.443 1.332.776 2.679 1" stroke="currentColor" fill-rule="evenodd" stroke-linejoin="round"/></g>',shapeIconToolSelectionLassoo:'<g fill="none" fill-rule="evenodd" stroke-width=".125em" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M11.428 17.702a18.46 18.46 0 0 0 4.085-1.595c5.851-3.112 9.019-8.599 7.074-12.256-1.945-3.657-8.265-4.1-14.116-.988C2.619 5.974-.55 11.46 1.396 15.118c.63 1.186 1.72 2.033 3.105 2.532"/><ellipse cx="8" cy="18.5" rx="3.5" ry="2.833" transform="rotate(-15 8 18.5)"/><path stroke-linecap="round" d="M5 18c3.347 1.048 5.514 1.881 6.5 2.5.859.54 1.517.994 1.5 2.364"/></g>',shapeIconToolSelectionRectangle:'<g stroke-width=".125em" stroke="currentColor"><path d="M9 1 h6 m4 0 h4v4 m0 4 v6 m0 4 v4h-4 m-4 0 h-6 m-4 0 h-4v-4 m0 -4 v-6 m0 -4 v-4h4" fill="none" /></g>',shapeIconToolSelectionEllipse:'<path stroke-width=".125em" stroke="currentColor" d="M1.21 9.853a11.054 11.054 0 0 0 0 4.294m1.643 3.965a11.054 11.054 0 0 0 3.035 3.035m3.965 1.644a11.054 11.054 0 0 0 4.294 0m3.965-1.644a11.054 11.054 0 0 0 3.035-3.035m1.644-3.965a11.054 11.054 0 0 0 0-4.294m-1.644-3.965a11.054 11.054 0 0 0-3.035-3.035m-3.965-1.644a11.054 11.054 0 0 0-4.294 0M5.888 2.853a11.054 11.054 0 0 0-3.035 3.035"/>'};var iF=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e);Object.keys(n).forEach((r=>{n[r].get?Object.defineProperty(t,r,{get:()=>e[r],set:t=>e[r]=t}):t[r]=e[r]}))},oF=e=>{const t={},{sub:n,pub:r}=Wv();um()&&null!==document.doctype||console.warn("Browser is in quirks mode, add <!DOCTYPE html> to page to fix render issues");const i=uk();iF(i,t);const o=((e,t)=>{const n={},r=new oM({target:e,props:{stores:t,pluginComponents:Array.from(hM)}});let i=!1;const o=()=>{i||(um()&&window.removeEventListener("pagehide",o),r&&(i=!0,r.$destroy()))};cM||(cM=new Set(FC(oM).filter((e=>!sM.includes(e))))),cM.forEach((e=>{Object.defineProperty(n,e,{get:()=>r[e],set:lM.includes(e)?t=>{r[e]={...r[e],...t}}:t=>r[e]=t})})),Object.defineProperty(n,"previewImageData",{get:()=>r.imagePreviewCurrent}),uM.forEach((e=>{const t=dM[e],i=t[0];Object.defineProperty(n,e,{get:()=>r.pluginInterface[i][e],set:n=>{const i=t.reduce(((t,i)=>(t[i]={...r.pluginOptions[i],[e]:n},t)),{});r.pluginOptions={...r.pluginOptions,...i}}})})),Object.defineProperty(n,"element",{get:()=>r.root,set:()=>{}});const a=r.history;return US(n,{on:(e,t)=>{if(i)return()=>{};if(/undo|redo|revert|writehistory/.test(e))return a.on(e,t);const n=[r.sub(e,t),r.$on(e,(e=>t(e instanceof CustomEvent&&!e.detail?void 0:e)))].filter(Boolean);return()=>n.forEach((e=>e()))},updateImagePreview:e=>{r.imagePreviewSrc=e},close:()=>!i&&r.pub("close"),destroy:o}),Object.defineProperty(n,"history",{get:()=>({undo:()=>a.undo(),redo:()=>a.redo(),revert:()=>a.revert(),get:()=>a.get(),getCollapsed:()=>a.get().splice(0,a.index+1),set:e=>a.set(e),write:e=>a.write(e),get length(){return a.length()},get index(){return a.index},set index(e){a.index=e}})}),um()&&window.addEventListener("pagehide",o),n})(e,i.stores);iF(o,t);const a=["loadImage","processImage","abortProcessImage","abortLoadImage"].map((e=>o.on(e,(t=>{const n=i[e](t&&t.detail);n instanceof Promise&&n.catch(om)})))),s=(e,t)=>{const r=n(e,t),a=i.on(e,t),s=o.on(e,t);return()=>{r(),a(),s()}};t.handleEvent=om;const l=fM.map((e=>s(e,(n=>t.handleEvent(e,n)))));return US(t,{on:s,updateImage:e=>new Promise(((n,r)=>{const o=t.history.get(),a=t.history.index,s=t.imageState;i.loadImage(e).then((e=>{t.history.set(o),t.history.index=a,t.imageState=s,n(e)})).catch(r)})),close:()=>{r("close")},destroy:()=>{[...a,...l].forEach((e=>e())),o.destroy(),i.destroy(),r("destroy")}}),setTimeout((()=>r("init",t)),0),t};um()&&HTMLElement;var aF=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Em(e)?document.querySelector(e):e;if(!zb(n))return;t.class=t.class?"pintura-editor "+t.class:"pintura-editor";const r=oF(n);return Object.assign(r,t)};const{document:sF,window:lF}=gS;const cF=(e,t,n,r)=>{const i=hy(t.x-e.x,t.y-e.y),o=by(i),a=5*n;let s;s=r?.5*a:Math.ceil(.5*(a-1));const l=Ay(fy(o),s);return{anchor:fy(e),offset:l,normal:o,solid:r,size:a,sizeHalf:s}},uF=(e,t,n)=>{const{strokeWidth:r,strokeColor:i,strokeJoin:o,strokeCap:a,...s}=e,{anchor:l,offset:c,normal:u,solid:d,size:h,sizeHalf:p}=t,f=l.x,g=l.y,m=Ay(fy(u),h),y=hy(f+m.x,g+m.y);if(Ay(m,.55),d){$y(n,c);const e=Ay(fy(u),.5*p);return[{...s,points:[hy(f-e.x,g-e.y),hy(y.x-m.y,y.y+m.x),hy(y.x+m.y,y.y-m.x)],pathClose:!0,backgroundColor:i}]}{const e=Ay((e=>{const t=e.x;return e.x=-e.y,e.y=t,e})(fy(u)),.5),t=hy(f-e.x,g-e.y),n=hy(f+e.x,g+e.y);return[{...s,points:[hy(y.x+m.y,y.y-m.x),t,hy(f,g),n,hy(y.x-m.y,y.y+m.x)],pathClose:!1,strokeWidth:r,strokeColor:i,strokeJoin:o,strokeCap:a}]}},dF=(e,t,n)=>{const{strokeWidth:r,strokeColor:i,...o}=e,{anchor:a,solid:s,offset:l,normal:c,sizeHalf:u}=t;return $y(n,l),s&&$y(n,gy(fy(c))),[{...o,x:a.x,y:a.y,rx:u,ry:u,backgroundColor:s?i:void 0,strokeWidth:s?void 0:r,strokeColor:s?void 0:i}]},hF=(e,t)=>{const{strokeWidth:n,strokeColor:r,strokeJoin:i,strokeCap:o,...a}=e,{anchor:s,offset:l}=t;return[{...a,points:[hy(s.x-l.y,s.y+l.x),hy(s.x+l.y,s.y-l.x)],strokeWidth:n,strokeColor:r,strokeJoin:i,strokeCap:o}]},pF=(e,t,n)=>{const{strokeWidth:r,strokeColor:i,...o}=e,{anchor:a,solid:s,offset:l,normal:c,sizeHalf:u}=t;return $y(n,l),[{...o,x:a.x-u,y:a.y-u,width:2*u,height:2*u,rotation:(d=c,Math.atan2(d.y,d.x)),backgroundColor:s?i:void 0,strokeWidth:s?void 0:r,strokeColor:s?void 0:i}];var d},fF=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=>{if(!t.lineStart&&!t.lineEnd)return;const n=[],{x1:r,y1:i,x2:o,y2:a,lineStart:s,lineEnd:l,strokeWidth:c,strokeColor:u,strokeJoin:d,strokeCap:h,strokeDash:p,bitmap:f,aboveFrame:g,opacity:m}=t,y=hy(r,i),b=hy(o,a),v=[y,b],w={bitmap:f,aboveFrame:g,opacity:m,strokeColor:u,strokeWidth:c,strokeJoin:d,strokeCap:h};if(s){const[t,r]=s.split("-"),i=e[t];if(i){const e=cF(y,b,c,!!r);n.push(...i(w,e,y))}}if(l){const[t,r]=l.split("-"),i=e[t];if(i){const e=cF(b,y,c,!!r);n.push(...i(w,e,b))}}return[{...w,strokeDash:p,points:v},...n]}},gF=(e,t)=>{const n=parseFloat(e)*t;return Em(e)?n+"%":n},mF=(e,t)=>Em(e)?ex(e,t):e,yF=e=>[{...e,frameStyle:"line",frameInset:0,frameOffset:0,frameSize:e.frameSize?gF(e.frameSize,2):"2.5%",frameRadius:e.frameRound?gF(e.frameSize,2):0}],bF=(e,t)=>{let{width:n,height:r,frameImage:i,frameSize:o="15%",frameOutset:a=0,frameSlices:s={x1:.15,y1:.15,x2:.85,y2:.85}}=e,{isPreview:l}=t;if(!i)return[];const c=Math.sqrt(n*r),u=mF(o,c),d=l?u:Math.round(u),h=d,p=mF(a,c),f=2*p,{x1:g,x2:m,y1:y,y2:b}=s,v={x0:0,y0:0,x1:d,y1:h,x2:n-d,y2:r-h,x3:n,y3:r,cw:d,ch:h,ew:n-d-d,eh:r-h-h},w=l?1:0,x=2*w,$=p>0,S={expandsCanvas:$,width:v.cw,height:v.ch,backgroundImage:i};return[{expandsCanvas:$,x:v.x1-w-p,y:v.y0-p,width:v.ew+x+f,height:v.ch,backgroundCorners:[{x:g,y:0},{x:m,y:0},{x:m,y:y},{x:g,y:y}],backgroundImage:i},{expandsCanvas:$,x:v.x1-w-p,y:v.y2+p,width:v.ew+x+f,height:v.ch,backgroundCorners:[{x:g,y:b},{x:m,y:b},{x:m,y:1},{x:g,y:1}],backgroundImage:i},{expandsCanvas:$,x:v.x0-p,y:v.y1-w-p,width:v.cw,height:v.eh+x+f,backgroundCorners:[{x:0,y:y},{x:g,y:y},{x:g,y:b},{x:0,y:b}],backgroundImage:i},{expandsCanvas:$,x:v.x2+p,y:v.y1-w-p,width:v.cw,height:v.eh+x+f,backgroundCorners:[{x:m,y:y},{x:1,y:y},{x:1,y:b},{x:m,y:b}],backgroundImage:i},{...S,x:v.x0-p,y:v.y0-p,backgroundCorners:[{x:0,y:0},{x:g,y:0},{x:g,y:y},{x:0,y:y}]},{...S,x:v.x2+p,y:v.y0-p,backgroundCorners:[{x:m,y:0},{x:1,y:0},{x:1,y:y},{x:m,y:y}]},{...S,x:v.x2+p,y:v.y2+p,backgroundCorners:[{x:m,y:b},{x:1,y:b},{x:1,y:1},{x:m,y:1}]},{...S,x:v.x0-p,y:v.y2+p,backgroundCorners:[{x:0,y:b},{x:g,y:b},{x:g,y:1},{x:0,y:1}]}]},vF=(e,t)=>{let{x:n,y:r,width:i,height:o,frameInset:a="3.5%",frameSize:s=".25%",frameColor:l=[1,1,1],frameOffset:c="5%",frameAmount:u=1,frameRadius:d=0,expandsCanvas:h=!1}=e,{isPreview:p}=t;const f=Math.sqrt(i*o);let g=mF(s,f);const m=mF(a,f),y=mF(c,f);let b=0;p||(g=Math.max(1,Math.round(g)),b=g%2==0?0:.5);const v=mF(gF(d,u),f);return new Array(u).fill(void 0).map(((e,t)=>{const a=y*t;let s=n+m+a,c=r+m+a,u=n+i-m-a,d=r+o-m-a;return p||(s=Math.round(s),c=Math.round(c),u=Math.round(u),d=Math.round(d)),{x:s+b,y:c+b,width:u-s,height:d-c,cornerRadius:v>0?v-a:0,strokeWidth:g,strokeColor:l,expandsCanvas:h}}))},wF=(e,t)=>{let{x:n,y:r,width:i,height:o,frameSize:a=".25%",frameOffset:s=0,frameInset:l="2.5%",frameColor:c=[1,1,1]}=e,{isPreview:u}=t;const d=Math.sqrt(i*o);let h=mF(a,d),p=mF(l,d),f=mF(s,d),g=0;u||(h=Math.max(1,Math.round(h)),p=Math.round(p),f=Math.round(f),g=h%2==0?0:.5);const m=f-p,y=n+p+g,b=r+p+g,v=n+i-p-g,w=r+o-p-g;return[{points:[hy(y+m,b),hy(v-m,b)]},{points:[hy(v,b+m),hy(v,w-m)]},{points:[hy(v-m,w),hy(y+m,w)]},{points:[hy(y,w-m),hy(y,b+m)]}].map((e=>(e.strokeWidth=h,e.strokeColor=c,e)))},xF=(e,t)=>{let{x:n,y:r,width:i,height:o,frameSize:a=".25%",frameInset:s="2.5%",frameLength:l="2.5%",frameColor:c=[1,1,1]}=e,{isPreview:u}=t;const d=Math.sqrt(i*o);let h=mF(a,d),p=mF(s,d),f=mF(l,d),g=0;u||(h=Math.max(1,Math.round(h)),p=Math.round(p),f=Math.round(f),g=h%2==0?0:.5);const m=n+p+g,y=r+p+g,b=n+i-p-g,v=r+o-p-g;return[{points:[hy(m,y+f),hy(m,y),hy(m+f,y)]},{points:[hy(b-f,y),hy(b,y),hy(b,y+f)]},{points:[hy(b,v-f),hy(b,v),hy(b-f,v)]},{points:[hy(m+f,v),hy(m,v),hy(m,v-f)]}].map((e=>(e.strokeWidth=h,e.strokeColor=c,e)))},$F=(e,t)=>{let{x:n,y:r,width:i,height:o,frameColor:a=[1,1,1]}=e,{isPreview:s}=t;const l=Math.sqrt(i*o),c=.1*l;let u=.2*l,d=0;const h=.5*c;return s?d=1:u=Math.ceil(u),a.length=3,[{id:"border",x:n-h+d,y:r-h+d,width:i+c-2*d,height:o+u-2*d,frameStyle:"line",frameInset:0,frameOffset:0,frameSize:c,frameColor:a,expandsCanvas:!0},{id:"chin",x:n-h,y:o-d,width:i+c,height:u,backgroundColor:a,expandsCanvas:!0}].filter(Boolean)},SF=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(t,n)=>{if(!Rv(t,"frameStyle"))return;const r=t.frameStyle,i=e[r];if(!i)return;const{frameStyle:o,...a}=t;return i(a,n)}},kF=e=>{const t=function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isPreview:!0};const i=e.map((e=>{const i=e(n,r);if(i)return i.map((e=>t(e,r)))})).filter(Boolean).flat();return i.length?i.flat().map(((e,t)=>(e.id=n.id+"_"+t,e))):n};return t};"undefined"!=typeof window&&(e=>{if(!e)return;const[t,n,r,i]=[[108,111,99,97,116,105,111,110],[82,101,103,69,120,112],[116,101,115,116],[112,113,105,110,97,92,46,110,108]].map((e=>e.map((e=>String.fromCharCode(e))).join("")));e._7mkhbd8=new e[n](i)[r](e[t])})(window);const AF=Kk,CF=Xk,EF=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{blurAmount:t,dataSizeScalar:n,scrambleAmount:r,backgroundColor:i}=e;return(e,o)=>async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return;const{width:n,height:r}=e,{dataSize:i=96,dataSizeScalar:o=1,scrambleAmount:a=4,blurAmount:s=6,outputFormat:l="canvas",backgroundColor:c=[0,0,0]}=t,u=Math.round(i*o),d=Math.min(u/n,u/r),h=Math.floor(n*d),p=Math.floor(r*d),f=fm("canvas",{width:h,height:p}),g=f.getContext("2d",{willReadFrequently:!0});if(c.length=3,g.fillStyle=zv(c),g.fillRect(0,0,h,p),ym(e)){const t=fm("canvas",{width:n,height:r});t.getContext("2d",{willReadFrequently:!0}).putImageData(e,0,0),g.drawImage(t,0,0,h,p),mm(t)}else g.drawImage(e,0,0,h,p);const m=g.getImageData(0,0,h,p),y=[];if(a>0&&y.push([OA,{amount:a}]),s>0)for(let v=0;v<s;v++)y.push([Sv,{matrix:FA}]);let b;if(y.length){const e=(t,n)=>"(err, imageData) => {\n(".concat(t[n][0].toString(),")(Object.assign({ imageData: imageData }, filterInstructions[").concat(n,"]), \n").concat(t[n+1]?e(t,n+1):"done",")\n}"),t="function (options, done) {\nconst filterInstructions = options.filterInstructions;\nconst imageData = options.imageData;\n(".concat(e(y,0),")(null, imageData)\n}"),n=await Lm(t,[{imageData:m,filterInstructions:y.map((e=>e[1]))}],[m.data.buffer]);b=wv(n)}else b=m;return"canvas"===l?(g.putImageData(b,0,0),f):b}(e,{blurAmount:t,scrambleAmount:r,backgroundColor:i,...o,dataSizeScalar:n||o.dataSizeScalar})},TF=cI,PF={markupEditorToolbar:jM(),markupEditorToolStyles:_M(),markupEditorShapeStyleControls:cI()},RF=xL,MF=TL,IF=FL,LF=vO,BF=$O,OF=AO,FF=MO,NF=GO,DF=HO,zF=YO,_F=EM,UF=xM,jF=TM,HF=nF,WF=rF,VF={cropLabel:"Crop",cropIcon:'<g stroke-width=".125em" stroke="currentColor" fill="none"><path d="M23 17H9a2 2 0 0 1-2-2v-5m0-3V1 M1 7h14a2 2 0 0 1 2 2v7m0 4v3"/></g>',cropIconButtonRecenter:'<path stroke="currentColor" fill="none" stroke-width="2" stroke-linejoin="bevel" d="M1.5 7.5v-6h6M1.5 16.5v6h6M22.5 16.5v6h-6M22.5 7.5v-6h-6"/><circle cx="12" cy="12" r="3.5" fill="currentColor" stroke="none"/>',cropIconButtonRotateLeft:'<g stroke="none" fill="currentColor"><path fill="none" d="M-1-1h582v402H-1z"/><rect x="3" rx="1" height="12" width="12" y="9"/><path d="M15 5h-1a5 5 0 015 5 1 1 0 002 0 7 7 0 00-7-7h-1.374l.747-.747A1 1 0 0011.958.84L9.603 3.194a1 1 0 000 1.415l2.355 2.355a1 1 0 001.415-1.414l-.55-.55H15z"/></g>',cropIconButtonRotateRight:'<g stroke="none" fill="currentColor"><path fill="none" d="M-1-1h582v402H-1z"/><path d="M11.177 5H10a5 5 0 00-5 5 1 1 0 01-2 0 7 7 0 017-7h1.374l-.747-.747A1 1 0 0112.042.84l2.355 2.355a1 1 0 010 1.415l-2.355 2.354a1 1 0 01-1.415-1.414l.55-.55z"/><rect rx="1" height="12" width="12" y="9" x="9"/></g>',cropIconButtonFlipVertical:'<g stroke="none" fill="currentColor"><path d="M19.993 12.143H7a1 1 0 0 1-1-1V5.994a1 1 0 0 1 1.368-.93l12.993 5.15a1 1 0 0 1-.368 1.93z"/><path d="M19.993 14a1 1 0 0 1 .368 1.93L7.368 21.078A1 1 0 0 1 6 20.148V15a1 1 0 0 1 1-1h12.993z" opacity=".6"/></g>',cropIconButtonFlipHorizontal:'<g stroke="none" fill="currentColor"><path d="M11.93 7.007V20a1 1 0 0 1-1 1H5.78a1 1 0 0 1-.93-1.368l5.15-12.993a1 1 0 0 1 1.929.368z"/><path d="M14 7.007V20a1 1 0 0 0 1 1h5.149a1 1 0 0 0 .93-1.368l-5.15-12.993A1 1 0 0 0 14 7.007z" opacity=".6"/></g>',cropIconSelectPreset:(e,t)=>{const[n,r,i]=t?[t<1?1:.3,1===t?.85:.5,t>1?1:.3]:[.2,.3,.4];return'<g fill="currentColor">\n            <rect opacity="'.concat(n,'" x="2" y="4" width="10" height="18" rx="1"/>\n            <rect opacity="').concat(r,'" x="4" y="8" width="14" height="14" rx="1"/>\n            <rect opacity="').concat(i,'" x="6" y="12" width="17" height="10" rx="1"/>\n        </g>')},cropIconCropBoundary:(e,t)=>{const[n,r,i,o]=t?[.3,1,0,0]:[0,0,.3,1];return'<g fill="currentColor">\n            <rect opacity="'.concat(n,'" x="2" y="3" width="20" height="20" rx="1"/>\n            <rect opacity="').concat(r,'" x="7" y="8" width="10" height="10" rx="1"/>\n            <rect opacity="').concat(i,'" x="4" y="8" width="14" height="14" rx="1"/>\n            <rect opacity="').concat(o,'" x="12" y="4" width="10" height="10" rx="1"/>\n        </g>')},cropLabelButtonRecenter:"Recenter",cropLabelButtonRotateLeft:"Rotate left",cropLabelButtonRotateRight:"Rotate right",cropLabelButtonFlipHorizontal:"Flip horizontal",cropLabelButtonFlipVertical:"Flip vertical",cropLabelSelectPreset:"Crop shape",cropLabelCropBoundary:"Crop boundary",cropLabelCropBoundaryEdge:"Edge of image",cropLabelCropBoundaryNone:"None",cropLabelTabRotation:"Rotation",cropLabelTabZoom:"Scale"},GF={fillLabel:"Fill",fillIcon:'\n    <g fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width=".125em">\n        <g transform="rotate(60, 12, 12)">\n            <rect x="4" y="4" width="14" height="16" rx="3"/>\n        </g>\n        <path d="M21 13 L21 21"></path>\n        <path d="M4.5 12.5 L19 12.5"></path>\n    </g>\n    '},QF={filterLabel:"Filter",filterIcon:'<g stroke-width=".125em" stroke="currentColor" fill="none"><path d="M18.347 9.907a6.5 6.5 0 1 0-1.872 3.306M3.26 11.574a6.5 6.5 0 1 0 2.815-1.417 M10.15 17.897A6.503 6.503 0 0 0 16.5 23a6.5 6.5 0 1 0-6.183-8.51"/></g>',filterLabelChrome:"Chrome",filterLabelFade:"Fade",filterLabelCold:"Cold",filterLabelWarm:"Warm",filterLabelPastel:"Pastel",filterLabelMonoDefault:"Mono",filterLabelMonoNoir:"Noir",filterLabelMonoWash:"Wash",filterLabelMonoStark:"Stark",filterLabelSepiaDefault:"Sepia",filterLabelSepiaBlues:"Blues",filterLabelSepiaRust:"Rust",filterLabelSepiaColor:"Color"},qF={finetuneLabel:"Finetune",finetuneIcon:'<g stroke-width=".125em" stroke="currentColor" fill="none"><path d="M4 1v5.5m0 3.503V23M12 1v10.5m0 3.5v8M20 1v15.5m0 3.5v3M2 7h4M10 12h4M18 17h4"/></g>',finetuneLabelBrightness:"Brightness",finetuneLabelContrast:"Contrast",finetuneLabelSaturation:"Saturation",finetuneLabelExposure:"Exposure",finetuneLabelTemperature:"Temperature",finetuneLabelGamma:"Gamma",finetuneLabelClarity:"Clarity",finetuneLabelVignette:"Vignette"},KF={resizeLabel:"Resize",resizeIcon:'<g stroke-width=".125em" stroke="currentColor" fill="none"><rect x="2" y="12" width="10" height="10" rx="2"/><path d="M4 11.5V4a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-5.5"/><path d="M14 10l3.365-3.365M14 6h4v4"/></g>',resizeLabelFormCaption:"Image output size",resizeLabelInputWidth:"w",resizeTitleInputWidth:"Width",resizeLabelInputHeight:"h",resizeTitleInputHeight:"Height",resizeTitleButtonMaintainAspectRatio:"Maintain aspectratio",resizeIconButtonMaintainAspectRatio:(e,t)=>'<defs><mask id="mask1" x="-2" y="-2" width="24" height="24"><rect x="0" y="0" width="24" height="10" fill="#fff" stroke="none"/></mask></defs><g fill="none" fill-rule="evenodd"><g mask="url(#mask1)"><path transform="translate(0 '.concat(3*(t-1),')" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" d="M9.401 10.205v-.804a2.599 2.599 0 0 1 5.198 0V17"/></g><rect fill="currentColor" x="7" y="10" width="10" height="7" rx="1.5"/></g>')},ZF={decorateLabel:"Decorate",decorateIcon:'<g fill="none" fill-rule="evenodd"><path stroke="currentColor" stroke-width=".125em" stroke-linecap="round" stroke-linejoin="round" d="M12 18.5l-6.466 3.4 1.235-7.2-5.23-5.1 7.228-1.05L12 2l3.233 6.55 7.229 1.05-5.231 5.1 1.235 7.2z"/></g>'},XF={annotateLabel:"Annotate",annotateIcon:'<g stroke-width=".125em" stroke="currentColor" fill="none"><path d="M17.086 2.914a2.828 2.828 0 1 1 4 4l-14.5 14.5-5.5 1.5 1.5-5.5 14.5-14.5z"/></g>'},JF={stickerLabel:"Sticker",stickerIcon:'<g fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width=".125em"><path d="M12 22c2.773 0 1.189-5.177 3-7 1.796-1.808 7-.25 7-3 0-5.523-4.477-10-10-10S2 6.477 2 12s4.477 10 10 10z"/><path d="M20 17c-3 3-5 5-8 5"/></g>'},YF={frameLabel:"Frame",frameIcon:'<g fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width=".125em">\n            <rect x="2" y="2" width="20" height="20" rx="4"/>\n            <rect x="6" y="6" width="12" height="12" rx="1"/>\n        </g>',frameLabelMatSharp:"Mat",frameLabelMatRound:"Bevel",frameLabelLineSingle:"Line",frameLabelLineMultiple:"Zebra",frameLabelEdgeSeparate:"Inset",frameLabelEdgeOverlap:"Plus",frameLabelEdgeCross:"Lumber",frameLabelCornerHooks:"Hook",frameLabelPolaroid:"Polaroid"},eN={redactLabel:"Redact",redactIcon:'<g fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" stroke-width=".125em"><path d="M 4 5 l 1 -1"/><path d="M 4 10 l 6 -6"/><path d="M 4 15 l 11 -11"/><path d="M 4 20 l 16 -16"/><path d="M 9 20 l 11 -11"/><path d="M 14 20 l 6 -6"/><path d="M 19 20 l 1 -1"/></g>'},tN=aF,nN=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return kF([SF({solid:yF,hook:xF,line:vF,edge:wF,polaroid:$F,nine:bF}),fF({arrow:uF,circle:dF,square:pF,bar:hF}),...e])},rN=function(){let e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(r.imageReader)||(t=r.imageReader,delete r.imageReader),Array.isArray(r.imageWriter)?e=CF():(e=Tm(r.imageWriter)?r.imageWriter:CF(r.imageWriter),delete r.imageWriter),Tm(r.imageScrambler)||(n=r.imageScrambler,delete r.imageScrambler),{imageReader:AF(t),imageWriter:e,imageOrienter:{read:lm,apply:Sm},imageScrambler:EF(n)}},iN=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};pM(RF,MF,IF,LF,BF,OF,FF,NF,DF,zF);const t=rN(e),n={...HF,...WF,...VF,...GF,...QF,...qF,...YF,...eN,...KF,...ZF,...XF,...JF,...e.locale};delete e.locale;const r="function"==typeof e.shapePreprocessor?e.shapePreprocessor:nN(e.shapePreprocessor);return delete e.shapePreprocessor,e.markupEditorShapeStyleControls&&Object.entries(e.markupEditorShapeStyleControls).every((e=>{let[t,n]=e;return/Options$/.test(t)||!Array.isArray(n)}))&&(e.markupEditorShapeStyleControls=TF({...e.markupEditorShapeStyleControls})),MS([{...t,shapePreprocessor:r,utils:["trim","crop","filter","finetune","retouch","annotate","decorate","sticker","fill","frame","redact","resize"],..._F,...UF,...jF,...PF,stickerStickToImage:!0,locale:n},e])},oN=e=>/^on[A-Z]/.test(e),aN=e=>e.substr(2).toLowerCase(),sN=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;(e.unsubs||[]).filter((e=>{let[n]=e;return!t||t.includes(n)})).forEach((e=>{let[,t]=e;return t()}))},lN=(e,t)=>{sN(e,(e=>Object.keys(e).filter(oN).map(aN))(t)),e.unsubs=Object.keys(t).filter(oN).map((n=>{const r=aN(n);return[r,e.editor.on(r,t[n])]}))};class cN extends r.Component{constructor(e){super(e),this.elementRef=r.createRef(),this.editor=void 0}componentDidMount(){if(!this.elementRef.current)return;const e={...this.props};this.editor=tN(this.elementRef.current,e),lN(this,e)}componentDidUpdate(){const e={...this.props};Object.assign(this.editor,e),lN(this,e)}componentWillUnmount(){this.editor&&(sN(this),this.editor.destroy(),this.editor=void 0)}render(){return r.createElement("div",{className:"PinturaRootWrapper ".concat(this.props.className?this.props.className:"").trim(),ref:this.elementRef})}}const uN=cN;r.Component;r.Component;const dN=()=>{const[e,t]=(0,r.useState)(),[n,i]=(0,r.useState)(),{certificateContract:o,account:a}=(0,r.useContext)(sh),[s,l]=(0,r.useState)(!1);(0,r.useEffect)((()=>{(async()=>{try{Ip.loading("Getting account info...");await o.getInfo(a);Ip.dismiss(),Ip.success("Account is registered"),l(!0)}catch(e){l(!1),Ip.dismiss(),Ip.error("Access denied"),console.error(e)}})()}),[a]);return(0,lh.jsxs)("div",{style:{height:"80vh"},children:[(0,lh.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onloadend=()=>{i(e.result)},e.readAsDataURL(t)}}}),n&&(0,lh.jsx)(uN,{...iN(),src:n,onProcess:e=>t(URL.createObjectURL(e.dest))}),e&&(0,lh.jsx)("img",{src:e,alt:""})]})};const hN=function(){const[e,t]=(0,r.useState)("Home"),[n,i]=(0,r.useState)(""),[o,a]=(0,r.useState)("");return(0,lh.jsx)("div",{className:"App",children:(0,lh.jsxs)(dh,{children:[(0,lh.jsx)(gh,{setRoute:t}),(0,lh.jsx)(fh,{}),"Home"===e?(0,lh.jsx)(tm,{}):"","admin"===e?(0,lh.jsx)(Lp,{setAccountAddress:i,setClgname:a,clgname:o,accountAddress:n}):"","upload"===e?(0,lh.jsx)(Yg,{accountAddress:n}):"","verify"===e?(0,lh.jsx)(em,{}):"","edit"===e?(0,lh.jsx)(dN,{}):""]})})};i.createRoot(document.getElementById("root")).render((0,lh.jsxs)(r.StrictMode,{children:[(0,lh.jsx)(hN,{}),(0,lh.jsx)(Mp,{position:"bottom-left"})]}))})()})();
//# sourceMappingURL=main.6707c246.js.map